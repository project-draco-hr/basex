{
  final Item it=expr[0].item(ctx,input);
  final byte[] pic=checkEStr(expr[1],ctx);
  final byte[] lng=expr.length == 5 ? checkEStr(expr[2],ctx) : EMPTY;
  final byte[] cal=expr.length == 5 ? checkEStr(expr[3],ctx) : EMPTY;
  final byte[] plc=expr.length == 5 ? checkEStr(expr[4],ctx) : EMPTY;
  if (it == null)   return null;
  final Date date=(Date)checkType(it,tp);
  final Formatter form=Formatter.get(string(lng));
  return Str.get(form.formatDate(date,pic,cal,plc,input));
}
