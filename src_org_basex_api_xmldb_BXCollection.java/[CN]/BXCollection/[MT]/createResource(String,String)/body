{
  check();
  if (type.equals(XMLResource.RESOURCE_TYPE)) {
    final String uid=id == null || id.length() == 0 ? createId() : id;
    return new BXXMLResource(null,0,uid,this);
  }
  if (type.equals(BinaryResource.RESOURCE_TYPE)) {
    throw new XMLDBException(ErrorCodes.VENDOR_ERROR,ERR_BINARY);
  }
  throw new XMLDBException(ErrorCodes.UNKNOWN_RESOURCE_TYPE,ERR_TYPE + type);
}
