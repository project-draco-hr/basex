{
  final String id=res.getId();
  Data tmp=null;
  try {
    final Object cont=res.getContent();
    if (cont instanceof Document) {
      tmp=CreateDB.xml(new DOCWrapper((Document)cont,id),id);
    }
 else {
      tmp=CreateDB.xml(IO.get(cont.toString()),id);
    }
    final Data data=ctx.data();
    data.insert(data.size,-1,tmp);
    data.flush();
    tmp.close();
    DropDB.drop(id);
  }
 catch (  final IOException ex) {
    BaseX.debug(ex);
    throw new XMLDBException(ErrorCodes.INVALID_RESOURCE);
  }
}
