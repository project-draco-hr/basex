{
  try {
    final String res=eval(query);
    final StringBuilder sb=new StringBuilder("Query did not fail:\n");
    sb.append(query).append("\n[E]");
    for (    final QueryError e : error)     sb.append(' ').append(e);
    fail(sb.append("\n[F] ").append(res).toString());
  }
 catch (  final QueryIOException ex) {
    check(query,ex.getCause(),error);
  }
catch (  final QueryException ex) {
    check(query,ex,error);
  }
catch (  final Exception ex) {
    Util.stack(ex);
    fail("Unexpected exception: " + ex);
  }
}
