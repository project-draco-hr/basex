{
  if (w) {
    if (waiting.size() > 0 && !waiting.getFirst().writer) {
      notifyReaders();
    }
 else {
      notifyWriter();
    }
  }
 else {
    if (--activeR == 0) {
      notifyWriter();
    }
  }
}
