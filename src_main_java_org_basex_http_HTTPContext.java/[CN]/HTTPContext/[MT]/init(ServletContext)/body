{
  if (init)   return;
  init=true;
  final String webapp=sc.getRealPath("/");
  Prop.setSystem(Prop.PATH,webapp);
  Prop.setSystem(MainProp.WEBPATH,webapp);
  final Enumeration<String> en=sc.getInitParameterNames();
  while (en.hasMoreElements()) {
    String key=en.nextElement();
    if (!key.startsWith(Prop.DBPREFIX))     continue;
    String val=sc.getInitParameter(key);
    String k=key;
    String v=val;
    if (key.equals(Prop.DBPREFIX + "httppath")) {
      k=Prop.DBPREFIX + HTTPProp.RESTXQPATH[0];
    }
 else     if (key.equals(Prop.DBPREFIX + "mode")) {
      k=Prop.DBPREFIX + HTTPProp.SERVER[0];
      v=Boolean.toString(!v.equals("local"));
    }
    k=k.toLowerCase(Locale.ENGLISH);
    if (!k.equals(key) || !v.equals(val)) {
      Util.errln("Warning! Outdated property: " + key + "="+ val+ " => "+ k+ "="+ v);
    }
    if (k.endsWith("path") && !new File(v).isAbsolute()) {
      Util.debug(k.toUpperCase(Locale.ENGLISH) + ": " + v);
      v=new IOFile(webapp,v).path();
    }
    Prop.setSystem(k,v);
  }
  if (context == null)   context=new Context(false);
  hprop(context).setSystem();
  context.mprop.setSystem();
  context.prop.setSystem();
  if (hprop(context).is(HTTPProp.SERVER))   new BaseXServer(context);
}
