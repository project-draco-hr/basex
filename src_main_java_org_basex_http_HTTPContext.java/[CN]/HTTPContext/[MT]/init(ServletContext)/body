{
  if (context != null)   return;
  final String path=sc.getRealPath("/");
  System.setProperty(Prop.PATH,path);
  final HashMap<String,String> map=new HashMap<String,String>();
  map.put(MainProp.HTTPPATH[0].toString(),path);
  final Enumeration<?> en=sc.getInitParameterNames();
  while (en.hasMoreElements()) {
    final String key=en.nextElement().toString();
    if (!key.startsWith(Prop.DBPREFIX))     continue;
    String val=sc.getInitParameter(key);
    if (eq(key,DBUSER,DBPASS,DBMODE,DBVERBOSE)) {
      System.setProperty(key,val);
    }
 else {
      if (key.endsWith("path") && !new File(val).isAbsolute()) {
        val=path + File.separator + val;
      }
      map.put(key.substring(Prop.DBPREFIX.length()).toUpperCase(Locale.ENGLISH),val);
    }
  }
  context=new Context(map);
  if (SERVER.equals(System.getProperty(DBMODE)))   new BaseXServer(context);
}
