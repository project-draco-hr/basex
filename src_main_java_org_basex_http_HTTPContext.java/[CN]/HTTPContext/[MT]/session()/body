{
  if (user == null || pass == null)   throw new LoginException(NOPASSWD);
  if (session == null)   session=CLIENT.equals(System.getProperty(DBMODE)) ? new ClientSession(context(),user,pass) : new LocalSession(context(),user,pass);
  return session;
}
