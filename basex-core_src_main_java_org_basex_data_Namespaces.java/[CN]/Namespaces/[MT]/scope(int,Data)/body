{
  final TokenMap nsScope=new TokenMap();
  NSNode node=cursor;
  do {
    final int[] values=node.values();
    final int vl=values.length;
    for (int v=0; v < vl; v+=2) {
      nsScope.put(prefix(values[v]),uri(values[v + 1]));
    }
    final int pos=node.find(pre);
    if (pos < 0)     break;
    node=node.child(pos);
  }
 while (pre < node.pre() + data.size(node.pre(),Data.ELEM));
  return nsScope;
}
