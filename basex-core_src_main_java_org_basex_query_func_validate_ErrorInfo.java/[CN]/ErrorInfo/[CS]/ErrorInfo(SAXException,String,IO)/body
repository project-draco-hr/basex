{
  this.level=level;
  String m=ex.getMessage();
  Throwable e=ex;
  if (m.contains("Exception:")) {
    while (e.getCause() != null)     e=e.getCause();
    if (e instanceof SAXException)     m=e.getLocalizedMessage();
  }
  if (ex instanceof SAXParseException) {
    final SAXParseException se=(SAXParseException)ex;
    final String id=se.getSystemId();
    if (id != null) {
      final IO io=IO.get(id);
      if (schema == null || !io.isDir() && !schema.equals(id))       url=id;
    }
    line=se.getLineNumber();
    column=se.getColumnNumber();
  }
  message=m;
}
