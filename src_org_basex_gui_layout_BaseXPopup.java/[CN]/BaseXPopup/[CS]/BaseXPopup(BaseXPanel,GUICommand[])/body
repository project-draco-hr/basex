{
  popup=pop;
  gui=comp.gui;
  comp.addMouseListener(new MouseAdapter(){
    @Override public void mouseReleased(    final MouseEvent e){
      if (!gui.updating && SwingUtilities.isRightMouseButton(e))       show(e.getComponent(),e.getX() - 10,e.getY() - 15);
    }
  }
);
  comp.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    final KeyEvent e){
      final int key=e.getKeyCode();
      if (!gui.updating && key == KeyEvent.VK_CONTEXT_MENU) {
        show(e.getComponent(),10,10);
      }
    }
  }
);
  for (  final GUICommand c : pop) {
    if (c == null) {
      addSeparator();
    }
 else {
      final JMenuItem item=add(c.desc());
      item.addActionListener(new ActionListener(){
        public void actionPerformed(        final ActionEvent e){
          if (!gui.updating)           c.execute(comp.gui);
        }
      }
);
      item.setMnemonic(c.desc().charAt(0));
      item.setToolTipText(c.help());
    }
  }
}
