{
  super(main,MAPLAYOUTTITLE,false);
  final BaseXBack p=new BaseXBack();
  p.setLayout(new TableLayout(6,1,0,5));
  choice=new BaseXListChooser(this,MAPLAYOUTCHOICE,HELPMAPLAYOUT);
  choice.setSize(500,300);
  choice.setIndex(GUIProp.maplayout);
  p.add(choice);
  simple=new BaseXCheckBox(MAPSIMPLE,HELPMAPSIMPLE,GUIProp.mapsimple,0,this);
  p.add(simple);
  atts=new BaseXCheckBox(MAPATTS,HELPMAPATTS,GUIProp.mapatts,this);
  if (gui.context.data().fs != null) {
    atts.setEnabled(false);
  }
  p.add(atts);
  BaseXBack tmpback=new BaseXBack();
  tmpback.setLayout(new TableLayout(1,2,3,5));
  BaseXLabel label=new BaseXLabel(MAPPROPALGO);
  tmpback.add(label);
  propalgo=new BaseXCombo(new String[]{"SplitLayout","SliceAndDice Layout","SquarifiedLayout","StripLayout"},HELPMODE,false);
  propalgo.setSelectedIndex(GUIProp.mapalgo);
  propalgo.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      final int s=propalgo.getSelectedIndex();
      if (s == GUIProp.mapalgo || !propalgo.isEnabled())       return;
      action(null);
    }
  }
);
  tmpback.add(propalgo);
  propLabel=new BaseXLabel(MAPPROP);
  p.add(propLabel);
  prop=new BaseXSlider(gui,-234,248,GUIProp.mapprop,HELPMAPALIGN,this);
  BaseXLayout.setWidth(prop,p.getPreferredSize().width);
  p.add(prop);
  set(p,BorderLayout.CENTER);
  finish(GUIProp.maplayoutloc);
  action(null);
}
