{
  super(main,MAPLAYOUTTITLE,false);
  final BaseXBack p=new BaseXBack();
  p.setLayout(new TableLayout(4,1,0,5));
  choice=new BaseXListChooser(this,MAPLAYOUTCHOICE,HELPMAPLAYOUT);
  choice.setSize(210,110);
  choice.setIndex(GUIProp.maplayout);
  p.add(choice);
  final BaseXBack tmpback=new BaseXBack();
  tmpback.setLayout(new TableLayout(1,2,3,5));
  final BaseXLabel label=new BaseXLabel(MAPPROPALGO);
  tmpback.add(label);
  propalgo=new BaseXCombo(new String[]{"SplitLayout","SliceAndDice Layout","SquarifiedLayout","StripLayout"},HELPMODE,false,this);
  propalgo.setSelectedIndex(GUIProp.mapalgo);
  propalgo.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      final int s=propalgo.getSelectedIndex();
      if (s == GUIProp.mapalgo || !propalgo.isEnabled())       return;
      action(null);
    }
  }
);
  tmpback.add(propalgo);
  p.add(tmpback);
  sizeLabel=new BaseXLabel(MAPSIZE);
  sizeSlider=new BaseXSlider(gui,0,100,GUIProp.sizep,HELPMAPSIZE,this);
  BaseXLayout.setWidth(sizeSlider,p.getPreferredSize().width);
  final boolean fs=gui.context.data().fs != null;
  if (fs) {
    p.add(sizeLabel);
    p.add(sizeSlider);
  }
  atts=new BaseXCheckBox(MAPATTS,HELPMAPATTS,GUIProp.mapatts,this);
  if (!fs)   p.add(atts);
  set(p,BorderLayout.CENTER);
  finish(GUIProp.maplayoutloc);
  action(null);
}
