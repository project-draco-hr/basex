{
  final String nl=System.getProperty("line.separator");
  final String ind="| ";
  final StringBuilder sb=new StringBuilder(nl);
  sb.append("Locking" + nl);
  sb.append(ind + "Transactions running: " + transactions.get()+ nl);
  sb.append(ind + "Transaction queue: " + queue+ nl);
  sb.append(ind + "Held locks by object:" + nl);
  for (  final Object object : locks.keySet())   sb.append(ind + ind + object+ " -> "+ locks.get(object)+ nl);
  sb.append(ind + "Held locks by transaction:" + nl);
  for (  final Thread thread : locked.keySet())   sb.append(ind + ind + thread+ " -> "+ locked.get(thread)+ nl);
  return sb.toString();
}
