{
  final String ind="| ";
  final StringBuilder sb=new StringBuilder(NL);
  sb.append("Locking" + NL);
  sb.append(ind + "Transactions running: " + transactions+ NL);
  sb.append(ind + "Transaction queue: " + queue+ NL);
  sb.append(ind + "Held locks by object:" + NL);
  for (  final Object object : locks.keySet())   sb.append(ind + ind + object+ " -> "+ locks.get(object)+ NL);
  sb.append(ind + "Held write locks by transaction:" + NL);
  for (  final Long thread : writeLocked.keySet())   sb.append(ind + ind + thread+ " -> "+ writeLocked.get(thread)+ NL);
  sb.append(ind + "Held read locks by transaction:" + NL);
  for (  final Long thread : readLocked.keySet())   sb.append(ind + ind + thread+ " -> "+ readLocked.get(thread)+ NL);
  return sb.toString();
}
