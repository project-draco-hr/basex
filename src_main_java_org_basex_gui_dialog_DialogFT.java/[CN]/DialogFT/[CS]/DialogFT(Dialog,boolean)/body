{
  dialog=d;
  layout(new TableLayout(create ? 9 : 16,1));
  final Prop prop=d.gui.context.prop;
  add(new BaseXLabel(FTINDEXINFO,true,false));
  final String sw=prop.get(Prop.STOPWORDS);
  final String[] cb={CREATELANG,CREATEWC,CREATESTEM,CREATECS,CREATEDC,CREATESCT,CREATESW};
  final String[] desc={FTLANGINFO,WCINDEXINFO,FTSTEMINFO,FTCSINFO,FTDCINFO,FTSCINFO,FTSWINFO};
  final boolean[] val={!prop.get(Prop.LANGUAGE).isEmpty(),prop.is(Prop.WILDCARDS),prop.is(Prop.STEMMING),prop.is(Prop.CASESENS),prop.is(Prop.DIACRITICS),prop.num(Prop.SCORING) > 0,!sw.isEmpty()};
  for (int f=0; f < check.length; ++f) {
    check[f]=new BaseXCheckBox(cb[f],val[f],create ? 1 : 0,d);
    if (!create) {
      labels[f]=new BaseXLabel(desc[f],true,false);
    }
 else {
      check[f].setToolTipText(desc[f]);
    }
  }
  final BaseXBack b1=new BaseXBack(new TableLayout(1,2,6,0));
  b1.add(check[F_LANG]);
  final StringList langs=new StringList();
  for (  final Language l : FTLexer.languages())   langs.add(l.toString());
  language=new BaseXCombo(d,langs.toArray());
  final Language ln=Language.get(prop.get(Prop.LANGUAGE));
  language.setSelectedItem((ln == null ? Language.DEFAULT : ln).toString());
  b1.add(language);
  add(b1);
  if (!create)   add(labels[F_LANG]);
  for (int f=1; f < F_SCORE; ++f) {
    add(check[f]);
    if (!create)     add(labels[f]);
  }
  final BaseXBack b2=new BaseXBack(new TableLayout(1,2,6,0));
  b2.add(check[F_SCORE]);
  scoring=new BaseXCombo(d,CREATESCT1,CREATESCT2);
  b2.add(scoring);
  add(b2);
  if (!create)   add(labels[F_SCORE]);
  add(check[F_STOP]);
  final BaseXBack b3=new BaseXBack(new TableLayout(1,2,6,0));
  swpath=new BaseXTextField(sw.isEmpty() ? d.gui.gprop.get(GUIProp.STOPPATH) : sw,d);
  b3.add(swpath);
  swbrowse=new BaseXButton(BUTTONBROWSE,d);
  swbrowse.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent e){
      chooseStop();
    }
  }
);
  b3.add(swbrowse);
  add(b3);
  if (!create)   add(labels[F_STOP]);
}
