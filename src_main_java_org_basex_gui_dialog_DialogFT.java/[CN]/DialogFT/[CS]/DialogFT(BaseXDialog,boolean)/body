{
  dialog=d;
  layout(new TableLayout(create ? 10 : 17,1));
  final Prop prop=d.gui.context.prop;
  add(new BaseXLabel(H_FULLTEXT_INDEX,true,false).border(0,0,12,0));
  final String sw=prop.get(Prop.STOPWORDS);
  final String[] cb={LANGUAGE,SUPPORT_WILDCARDS,STEMMING,CASE_SENSITIVITY,DIACRITICS,TFIDF_SCORING,STOPWORD_LIST};
  final String[] desc={H_LANGUAGE,H_WILDCARD,H_STEMMING,H_CASE,H_DIACRITICS,H_SCORING,H_STOPWORDS};
  final boolean[] val={!prop.get(Prop.LANGUAGE).isEmpty(),prop.is(Prop.WILDCARDS),prop.is(Prop.STEMMING),prop.is(Prop.CASESENS),prop.is(Prop.DIACRITICS),prop.num(Prop.SCORING) > 0,!sw.isEmpty()};
  for (int f=0; f < check.length; ++f) {
    check[f]=new BaseXCheckBox(cb[f],val[f],create ? 1 : 0,d);
    if (!create) {
      labels[f]=new BaseXLabel(desc[f],true,false);
    }
 else {
      check[f].setToolTipText(desc[f]);
    }
  }
  final BaseXBack b1=new BaseXBack(new TableLayout(1,2,8,0));
  b1.add(check[F_LANG]);
  final StringList langs=FTLexer.languages();
  language=new BaseXCombo(d,langs.toArray());
  final Language ln=Language.get(prop);
  for (  final String l : langs) {
    final String s=l.replaceFirst(" \\(.*","");
    if (s.equals(ln.toString()))     language.setSelectedItem(l);
  }
  b1.add(language);
  add(b1);
  if (!create)   add(labels[F_LANG]);
  for (int f=1; f < F_SCORE; ++f) {
    add(check[f]);
    if (!create)     add(labels[f]);
  }
  final BaseXBack b2=new BaseXBack(new TableLayout(1,2,8,0));
  b2.add(check[F_SCORE]);
  scoring=new BaseXCombo(d,DOCUMENTS,TEXT_NODES);
  b2.add(scoring);
  add(b2);
  if (!create)   add(labels[F_SCORE]);
  add(check[F_STOP]);
  add(Box.createVerticalStrut(4));
  final BaseXBack b3=new BaseXBack(new TableLayout(1,2,8,0));
  swpath=new BaseXTextField(sw.isEmpty() ? d.gui.gprop.get(GUIProp.STOPPATH) : sw,d);
  b3.add(swpath);
  swbrowse=new BaseXButton(BROWSE_D,d);
  swbrowse.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent e){
      chooseStop();
    }
  }
);
  b3.add(swbrowse);
  add(b3);
  if (!create)   add(labels[F_STOP]);
}
