{
  boolean changed=false;
  final ListIterator<Clause> iter=clauses.listIterator(pos);
  while (iter.hasNext()) {
    final Clause clause=iter.next();
    try {
      final Clause cl=clause.inline(qc,scp,var,ex);
      if (cl != null) {
        changed=true;
        iter.set(cl);
      }
    }
 catch (    final QueryException qe) {
      return clauseError(qe,iter.previousIndex() + 1);
    }
  }
  try {
    final Expr rt=ret.inline(qc,scp,var,ex);
    if (rt != null) {
      changed=true;
      ret=rt;
    }
  }
 catch (  final QueryException qe) {
    return clauseError(qe,clauses.size());
  }
  return changed;
}
