{
  final Data data=context.data();
  if (data.inMemory())   return error(NO_MAINMEM);
  final CmdIndex ci=getOption(CmdIndex.class);
  final IndexType it;
switch (ci) {
case TEXT:
    data.meta.createtext=false;
  it=IndexType.TEXT;
break;
case ATTRIBUTE:
data.meta.createattr=false;
it=IndexType.ATTRIBUTE;
break;
case FULLTEXT:
data.meta.createftxt=false;
it=IndexType.FULLTEXT;
break;
default :
return error(UNKNOWN_CMD_X,this);
}
if (!data.startUpdate()) return error(DB_PINNED_X,data.meta.name);
try {
return drop(it,context.data()) ? info(INDEX_DROPPED_X_X,it,perf) : error(INDEX_NOT_DROPPED_X,it);
}
  finally {
data.finishUpdate();
}
}
