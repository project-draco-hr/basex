{
  if (m == null)   return;
  final DBNode n=(DBNode)node;
  final int p=n.pre + add;
  final Data d=n.data;
  final int k=Nod.kind(node.type);
  d.insert(p + d.size(p,k),d.parent(p,k),m);
  if (!mergeTextNodes(d,p - 1,p)) {
    final int s=m.meta.size;
    mergeTextNodes(d,p + s - 1,p + s);
  }
}
