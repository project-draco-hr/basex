{
  int n=pre;
  final int kind=data.kind(pre);
  if (path.length() < 1)   return pre;
  for (  final String p : path.split("/")) {
    if (p.equals("..")) {
      n=data.parent(n,kind);
    }
 else     if (p.equals("")) {
      n=3;
    }
 else     if (!p.equals(".")) {
      n=getDir(data,n,p);
      if (n == -1)       return -1;
    }
  }
  return n;
}
