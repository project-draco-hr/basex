{
  int remaining=buf.remaining();
  if (remaining <= n) {
    if (fcLimit < n - remaining)     throw new EOFException();
    if (n > buf.capacity())     return false;
    buf.compact();
    fcLimit-=ch.read(buf);
    buf.flip();
  }
  return true;
}
