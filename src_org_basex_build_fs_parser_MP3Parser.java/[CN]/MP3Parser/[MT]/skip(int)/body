{
  int remaining=buf.remaining();
  if (remaining < n) {
    ch.position(ch.position() + (n - remaining));
    buf.position(buf.limit());
  }
 else {
    buf.position(buf.position() + n);
  }
}
