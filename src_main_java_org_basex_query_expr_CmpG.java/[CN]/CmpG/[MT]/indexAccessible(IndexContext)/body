{
  if (op != Op.EQ)   return false;
  final AxisStep s=expr[0] instanceof Context ? ic.step : indexStep(expr[0]);
  if (s == null)   return false;
  final boolean text=s.test.type == NodeType.TXT && ic.data.meta.textindex;
  final boolean attr=s.test.type == NodeType.ATT && ic.data.meta.attrindex;
  if (!text && !attr)   return false;
  final IndexType ind=text ? IndexType.TEXT : IndexType.ATTRIBUTE;
  final Expr arg=expr[1];
  if (!arg.value()) {
    final SeqType t=arg.type();
    if (arg.uses(Use.CTX) || !(t.type.str() || t.type.node()))     return false;
    ic.addCosts(ic.data.meta.size / 10);
    iacc=Array.add(iacc,new IndexAccess(input,arg,ind,ic));
    return true;
  }
  final Iter ir=arg.iter(ic.ctx);
  Item it;
  ic.costs(0);
  while ((it=ir.next()) != null) {
    final SeqType t=it.type();
    if (!(t.type.str() || t.type.node()))     return false;
    final int is=ic.data.nrIDs(new ValuesToken(ind,it.atom(input)));
    if (is != 0) {
      iacc=Array.add(iacc,new IndexAccess(input,it,ind,ic));
      ic.addCosts(is);
    }
  }
  return true;
}
