{
  final Data data=ctx.item.data;
  test.compile(data);
  ctx.leaf=false;
  if (test instanceof TestName) {
    final TestName t=(TestName)test;
    ctx.leaf=axis != Axis.ATTR && axis != Axis.SELF && t.id >= 0 && data.meta.uptodate && !data.tags.noLeaf(t.id);
  }
  final boolean pred=preds.compile(ctx);
  ctx.leaf=false;
  if (!pred)   return false;
  simple=preds.size() == 0;
  if (!simple) {
    posPred=preds.get(0).posPred();
    if (posPred == -1)     return false;
  }
  early=true;
  for (  final Pred p : preds)   early=early && !p.usesSize();
  return true;
}
