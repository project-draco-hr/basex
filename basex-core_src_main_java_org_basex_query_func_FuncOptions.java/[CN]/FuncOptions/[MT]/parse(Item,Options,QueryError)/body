{
  if (item == null)   return;
  final TokenBuilder tb=new TokenBuilder();
  try {
    if (item instanceof Map) {
      options.parse((Map)item);
    }
 else {
      if (test == null) {
        throw MAP_X_X.get(info,item.type,item);
      }
 else       if (!test.eq(item)) {
        throw ELMMAP_X_X_X.get(info,root.prefixId(XML),item.type,item);
      }
      options.parse(tb.add(optString((ANode)item)).toString());
    }
  }
 catch (  final BaseXException ex) {
    throw error.get(info,ex);
  }
}
