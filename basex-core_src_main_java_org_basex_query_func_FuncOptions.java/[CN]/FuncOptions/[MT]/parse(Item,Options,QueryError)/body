{
  final TokenBuilder tb=new TokenBuilder();
  if (item != null) {
    try {
      final boolean map=item instanceof Map;
      if (test == null) {
        if (map)         throw MAP_X_X.get(info,item.type,item);
      }
 else       if (!test.eq(item) && !(item instanceof Map)) {
        throw ELMMAP_X_X_X.get(info,root.prefixId(XML),item.type,item);
      }
      options.parse(tb.add(optString(item)).toString());
    }
 catch (    final BaseXException ex) {
      throw error.get(info,ex);
    }
  }
}
