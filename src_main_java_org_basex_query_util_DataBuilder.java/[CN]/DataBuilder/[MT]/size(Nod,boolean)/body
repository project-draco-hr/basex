{
  if (n instanceof DBNode) {
    final DBNode dbn=(DBNode)n;
    final int k=Nod.kind(n.ndtype);
    return a ? dbn.data.attSize(dbn.pre,k) : dbn.data.size(dbn.pre,k);
  }
  int s=1;
  NodeIter ch=n.attr();
  while (ch.next() != null)   ++s;
  if (!a) {
    ch=n.child();
    Nod i;
    while ((i=ch.next()) != null)     s+=size(i,a);
  }
  return s;
}
