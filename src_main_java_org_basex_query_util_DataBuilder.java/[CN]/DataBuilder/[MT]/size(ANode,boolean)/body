{
  if (n instanceof DBNode) {
    final DBNode dbn=(DBNode)n;
    final int k=ANode.kind(n.ndType());
    return a ? dbn.data.attSize(dbn.pre,k) : dbn.data.size(dbn.pre,k);
  }
  int s=1;
  AxisIter ai=n.atts();
  while (ai.next() != null)   ++s;
  if (!a) {
    ai=n.children();
    ANode i;
    while ((i=ai.next()) != null)     s+=size(i,a);
  }
  return s;
}
