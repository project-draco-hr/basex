{
  if (content == null) {
    try {
      final CachedOutput out=new CachedOutput();
      final XMLSerializer xml=new XMLSerializer(out);
      if (data != null) {
        new DBNode(data,pos).serialize(xml);
      }
 else       if (result != null) {
        result.serialize(xml,pos);
      }
 else {
        return null;
      }
      xml.close();
      content=out.finish();
    }
 catch (    final IOException ex) {
      throw new XMLDBException(ErrorCodes.VENDOR_ERROR,ex.getMessage());
    }
  }
  return content instanceof byte[] ? string((byte[])content) : content;
}
