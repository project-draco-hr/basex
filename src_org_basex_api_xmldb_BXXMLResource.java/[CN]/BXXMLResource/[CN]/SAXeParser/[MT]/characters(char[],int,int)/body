{
  for (int k=0; k < j; k++) {
    char c=ac[i + k];
switch (c) {
case 38:
      newContent.append("&amp;");
    break;
case 60:
  newContent.append("&lt;");
break;
case 62:
newContent.append("&gt;");
break;
case 34:
newContent.append("&quot;");
break;
case 39:
newContent.append("&apos;");
break;
default :
if (c > '\177') newContent.append("&#" + (int)c + ";");
 else newContent.append(c);
break;
}
}
}
