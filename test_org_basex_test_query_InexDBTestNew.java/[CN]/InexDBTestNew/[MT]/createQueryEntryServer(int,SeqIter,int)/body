{
  xml.openElement(token("topic"),token("topic-id"),token(tid[q]),token("total_time_ms"),token(qtimes[q]));
  Item a;
  int r=1;
  while (res != null && (a=res.next()) != null && r <= k) {
    final byte[] s=a.str();
    final int i=indexOf(s,';');
    xml.openElement(token("result"));
    xml.openElement(token("file"));
    xml.text(substring(s,0,i));
    xml.closeElement();
    xml.openElement(token("path"));
    xml.text(substring(s,i + 1));
    xml.closeElement();
    xml.openElement(token("rank"));
    xml.text(token(r++));
    xml.closeElement();
    xml.openElement(token("rsv"));
    xml.text(token(a.score));
    xml.closeElement();
    xml.closeElement();
  }
  xml.closeElement();
}
