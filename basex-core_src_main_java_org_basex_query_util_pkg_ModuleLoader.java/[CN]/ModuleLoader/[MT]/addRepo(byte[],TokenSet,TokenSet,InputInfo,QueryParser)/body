{
  if (loaded.contains(name))   return;
  final byte[] pDir=context.repo.pkgDict().get(name);
  if (pDir == null)   throw BXRE_NOTINST_X.get(ii,name);
  final IOFile pkgDir=context.repo.path(string(pDir));
  final IO pkgDesc=new IOFile(pkgDir,PkgText.DESCRIPTOR);
  if (!pkgDesc.exists())   Util.debug(PkgText.MISSDESC,string(name));
  final Package pkg=new PkgParser(ii).parse(pkgDesc);
  final IOFile jarDesc=new IOFile(pkgDir,PkgText.JARDESC);
  IOFile modDir=new IOFile(pkgDir,PkgText.CONTENT);
  if (!modDir.exists())   modDir=new IOFile(pkgDir,string(pkg.abbrev));
  if (jarDesc.exists()) {
    final JarDesc desc=new JarParser(ii).parse(jarDesc);
    for (    final byte[] u : desc.jars)     addURL(new IOFile(modDir,string(u)));
  }
  if (!pkg.dep.isEmpty())   toLoad.add(name);
  for (  final Dependency d : pkg.dep) {
    if (d.pkg != null) {
      final byte[] depPkg=new PkgValidator(context.repo,ii).depPkg(d);
      if (depPkg == null)       throw BXRE_NOTINST_X.get(ii,string(d.pkg));
      if (toLoad.contains(depPkg))       throw CIRCMODULE.get(ii);
      addRepo(depPkg,toLoad,loaded,ii,qp);
    }
  }
  for (  final Component comp : pkg.comps) {
    final String p=new IOFile(modDir,string(comp.file)).path();
    qp.module(token(p),comp.uri);
  }
  if (toLoad.contains(name))   toLoad.delete(name);
  loaded.add(name);
}
