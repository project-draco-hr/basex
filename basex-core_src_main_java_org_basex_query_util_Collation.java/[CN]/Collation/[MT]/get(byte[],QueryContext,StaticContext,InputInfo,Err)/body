{
  if (uri == null)   return sc.collation;
  byte[] args=uri;
  final Uri u=Uri.uri(args);
  if (!u.isValid())   throw INVURI.get(info,args);
  if (!u.isAbsolute() && !Token.startsWith(args,'?')) {
    args=sc.baseURI().resolve(u,info).string();
  }
  if (eq(COLLATIONURI,args))   return null;
  if (Token.startsWith(args,URL))   args=substring(args,URL.length);
  if (Token.startsWith(args,'?'))   args=substring(args,1);
  args=replace(args,'&',';');
  final byte[] full=new TokenBuilder(URL).add('?').add(args).finish();
  if (ctx.collations == null)   ctx.collations=new TokenObjMap<Collation>();
  Collation coll=ctx.collations.get(full);
  if (coll == null) {
    final Collator cl=get(args);
    if (cl == null)     throw err.get(info,uri);
    coll=new Collation(cl,full);
    ctx.collations.put(full,coll);
  }
  return coll;
}
