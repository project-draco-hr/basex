{
  focusedRect=null;
  mainRects=null;
  zoomStep=0;
  slide=false;
  if (painter != null)   painter.close();
  final Data data=GUI.context.data();
  if (data != null && getWidth() != 0) {
    if (!GUIProp.showmap)     return;
    painter=data.deepfs ? new MapFS(this) : new MapDefault(this);
    calc();
    repaint();
  }
}
