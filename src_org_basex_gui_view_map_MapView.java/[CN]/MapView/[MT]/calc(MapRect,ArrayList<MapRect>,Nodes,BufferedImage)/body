{
  if (painter == null)   return;
  painter.reset();
switch (GUIProp.mapalgo) {
case 0:
    layouter=new SplitLayout();
  break;
case 1:
layouter=new SliceDiceLayout();
break;
case 2:
layouter=new SquarifiedLayout();
break;
case 3:
layouter=new StripLayout();
break;
default :
layouter=new SplitLayout();
break;
}
layouter.calcMap(nodes.data,rect,rectangles,new MapList(nodes.nodes),0,nodes.size(),0);
painter.init(rectangles);
drawMap(map,rectangles);
focus();
}
