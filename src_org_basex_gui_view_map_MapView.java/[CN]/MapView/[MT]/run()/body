{
  focusedRect=null;
  while (zoomStep > 1) {
    Performance.sleep(zoomSpeed);
    zoomStep--;
    repaint();
  }
  while (painting)   Performance.sleep(zoomSpeed);
  zoomStep=0;
  working=false;
  focus();
  repaint();
}
