{
  if (painter == null)   return;
  painter.reset();
  newmaplayout=new NewMapLayout(nodes.data);
  newmaplayout.makeMap(rect,new MapList(nodes.nodes),0,nodes.size(),0);
  mainRects=newmaplayout.rectangles;
  painter.init(mainRects);
  drawMap(map,mainRects);
  focus();
}
