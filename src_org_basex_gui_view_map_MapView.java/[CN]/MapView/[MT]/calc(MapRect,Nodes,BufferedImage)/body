{
  if (painter == null)   return;
  painter.reset();
  newmaplayout=new MapLayout(nodes.data);
  newmaplayout.makeMap(rect,new MapList(nodes.nodes),0,nodes.size(),0);
  mainRects=(ArrayList<MapRect>)newmaplayout.rectangles.clone();
  painter.init(mainRects);
  drawMap(map,newmaplayout.rectangles);
  focus();
}
