{
  checkConstraints();
  final Data data=ctx.data();
  if (data == null)   return;
  for (  final UpdatePrimitive p : renames) {
    final RenamePrimitive rp=(RenamePrimitive)p;
    rename(rp.id,rp.newName,data);
  }
  final IntList il=new IntList();
  for (  final UpdatePrimitive p : deletes)   il.add(p.pre);
  delete(new Nodes(il.finish(),data));
}
