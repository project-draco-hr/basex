{
  final XQuery query=new XQuery("let $numbers := (<e>NaN</e>, <e/>, <e/>, <e>NaN</e>, <e>NaN</e>, <e>INF</e>, <e>NaN</e>, <e/>, <e>3</e>, comment{\"3\"}) return (for $i in $numbers stable order by xs:double($i/text()) empty least return xs:double($i/text()), \"SEP\", for $i in $numbers stable order by xs:double($i/text()) empty greatest return xs:double($i/text()))",ctx);
  final QT3Result res=result(query);
  result=res;
  test(assertStringValue(false,"NaN NaN NaN NaN 3 INF SEP 3 INF NaN NaN NaN NaN"));
}
