{
  if (!uri.startsWith(URI_PREFIX)) {
    throw new XMLDBException(ErrorCodes.INVALID_URI);
  }
  final int end=uri.indexOf(":",URI_PREFIX.length());
  if (end == -1) {
    throw new XMLDBException(ErrorCodes.INVALID_URI);
  }
  final String databaseName=uri.substring(URI_PREFIX.length(),end);
  final Database db=databases.get(databaseName);
  if (db == null) {
    throw new XMLDBException(ErrorCodes.NO_SUCH_DATABASE);
  }
  return db;
}
