{
  final String in=input.getText();
  final boolean db=context.data != null;
  final boolean cmdmode=prop.num(GUIProp.SEARCHMODE) == 2 || !db;
  if (cmdmode || in.startsWith("!")) {
    final int i=cmdmode ? 0 : 1;
    if (in.length() > i) {
      try {
        for (        final Command c : new CommandParser(in.substring(i),context).parse()) {
          if (!exec(c,c instanceof XQuery))           break;
        }
      }
 catch (      final QueryException ex) {
        if (!info.visible())         GUICommands.SHOWINFO.execute(this);
        info.setInfo(ex.getMessage(),false);
      }
    }
  }
 else   if (prop.num(GUIProp.SEARCHMODE) == 1 || in.startsWith("/")) {
    xquery(in,true);
  }
 else {
    execute(new XQuery(Find.find(in,context,prop.is(GUIProp.FILTERRT))),true);
  }
}
