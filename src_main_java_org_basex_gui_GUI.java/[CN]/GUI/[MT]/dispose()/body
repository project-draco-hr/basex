{
  if (!query.confirm())   return;
  final boolean max=getExtendedState() == MAXIMIZED_BOTH;
  gprop.set(GUIProp.MAXSTATE,max);
  if (!max) {
    gprop.set(GUIProp.GUILOC,new int[]{getX(),getY()});
    gprop.set(GUIProp.GUISIZE,new int[]{getWidth(),getHeight()});
  }
  super.dispose();
  gprop.write();
  context.close();
}
