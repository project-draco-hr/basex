{
  final Nodes marked=context.marked;
  if (marked != null)   setHits(marked.size());
  filter.setEnabled(marked != null && marked.size() != 0);
  refreshMode();
  toolbar.refresh();
  menu.refresh();
  final int i=context.data == null ? 2 : prop.num(GUIProp.SEARCHMODE);
  final String[] hs=i == 0 ? prop.strings(GUIProp.SEARCH) : i == 1 ? prop.strings(GUIProp.XQUERY) : prop.strings(GUIProp.COMMANDS);
  hist.setEnabled(hs.length != 0);
}
