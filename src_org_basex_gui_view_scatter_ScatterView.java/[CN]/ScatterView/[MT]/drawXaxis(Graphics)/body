{
  final int h=getHeight();
  final int w=getWidth();
  g.setColor(GUIConstants.color1);
  g.drawLine(MARGINLEFT,h - MARGINBOTTOM,w - MARGINRIGHT,h - MARGINBOTTOM);
  g.setFont(GUIConstants.font);
  g.setColor(GUIConstants.color1);
  final int textH=g.getFontMetrics().getHeight();
  final int pWidth=plotWidth - NOVALUEBORDER;
  final ScatterAxis axis=scatterData.xAxis;
  axis.calcCaption(pWidth);
  final int nrCaptions=axis.nrCats != 1 ? axis.nrCaptions : 3;
  final double step=axis.captionStep;
  final double range=1.0d / (nrCaptions - 1);
  final int type=axis.numType;
  final boolean numeric=axis.numeric;
  for (int i=0; i < nrCaptions; i++) {
    g.setColor(GUIConstants.color1);
    final int x=MARGINLEFT + NOVALUEBORDER + ((int)((i * range) * pWidth));
    g.drawLine(x,MARGINTOP,x,h - MARGINBOTTOM + 9);
    String caption="";
    if (numeric) {
      final double min=axis.min;
      final double captionValue=i == nrCaptions - 1 ? axis.max : min + (i * step);
      if (type == ScatterAxis.TYPEINT)       caption=Integer.toString((int)captionValue);
 else       caption="double dummy";
    }
 else {
      if (axis.nrCats == 1) {
        if (i == 1)         caption=Token.string(axis.cats[0]);
      }
 else {
        caption=Token.string(axis.cats[i]);
      }
    }
    if (caption.length() > 22) {
      caption=caption.substring(0,25);
      caption+="...";
    }
    int capW=BaseXLayout.width(g,caption);
    final int imgH=160;
    int imgW=160;
    final BufferedImage img=new BufferedImage(imgW,imgH,Transparency.BITMASK);
    Graphics2D g2d=(Graphics2D)img.getGraphics();
    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
    g2d.setFont(GUIConstants.font);
    g2d.setColor(Color.black);
    g2d.rotate(Math.sin(30),imgW,0 + textH);
    g2d.drawString(caption,imgW - capW,0);
    g.drawImage(img,x - imgW + textH + 4,h - MARGINBOTTOM + 14,this);
  }
}
