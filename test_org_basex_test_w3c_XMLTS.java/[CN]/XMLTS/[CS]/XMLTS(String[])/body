{
  for (  final String arg : args) {
    if (arg.equals("-v")) {
      verbose=true;
    }
 else {
      BaseX.outln("\nXML Conformance Tests\n -v verbose output");
      return;
    }
  }
  Prop.read();
  Prop.textindex=false;
  Prop.attrindex=false;
  Prop.onthefly=true;
  Prop.mainmem=true;
  final Context ctx=new Context();
  final Proc pr=Proc.get(ctx,Commands.CHECK,FILE);
  if (!pr.execute()) {
    BaseX.outln(pr.info());
    return;
  }
  data=ctx.data();
  int ok=0;
  int wrong=0;
  final Nodes root=new Nodes(0,data);
  BaseX.outln("\nXML Conformance Tests\n");
  BaseX.outln("file = (expected result) -> BaseX result");
  for (  final int t : nodes("//TEST",root).pre) {
    final Nodes srcRoot=new Nodes(t,data);
    final String uri=text("@URI",srcRoot);
    final boolean valid=text("@TYPE",srcRoot).equals("valid");
    Prop.intparse=true;
    Proc proc=Proc.get(ctx,Commands.CREATEXML,PATH + uri);
    final boolean success=proc.execute();
    final boolean correct=valid == success;
    if (verbose || !correct) {
      BaseX.outln(uri + " = " + (valid ? "correct" : "wrong")+ " -> "+ (success ? "correct" : "wrong")+ (correct ? " (OK)" : " (WRONG)"));
      if (verbose) {
        String inf=proc.info();
        if (inf.length() != 0)         BaseX.outln("[BASEX ] " + inf);
        Prop.intparse=false;
        Proc.execute(ctx,Commands.CLOSE);
        proc=Proc.get(ctx,Commands.CREATEXML,PATH + uri);
        proc.execute();
        inf=proc.info();
        if (inf.length() != 0)         BaseX.outln("[XERCES] " + inf);
      }
    }
    if (correct)     ok++;
 else     wrong++;
    Proc.execute(ctx,Commands.CLOSE);
  }
  BaseX.outln("\nResult of Test \"" + new File(FILE).getName() + "\":");
  BaseX.outln("Successful: " + ok);
  BaseX.outln("Wrong: " + wrong);
}
