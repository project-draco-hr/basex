{
  if (!checkDB())   return false;
  final CmdUpdate type=getType();
  if (type == null)   return false;
  final Nodes nodes=gui ? context.marked() : query(args[1],null);
  if (nodes == null)   return false;
  final Data data=context.data();
  boolean ok=false;
switch (type) {
case ATTRIBUTE:
    ok=attr(data,nodes);
  break;
default :
ok=node(data,nodes);
break;
}
if (!ok) return false;
data.flush();
context.update();
return info(UPDATEINFO,nodes.size(),perf.getTimer());
}
