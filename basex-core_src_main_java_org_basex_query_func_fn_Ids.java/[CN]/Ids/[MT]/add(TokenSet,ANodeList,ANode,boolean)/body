{
  for (  final ANode attr : node.attributes()) {
    if (isId(attr,idref)) {
      for (      final byte[] val : distinctTokens(attr.string())) {
        if (idSet.contains(val)) {
          results.add(idref ? attr.finish() : node);
          break;
        }
      }
    }
  }
  for (  final ANode child : node.children())   add(idSet,results,child,idref);
}
