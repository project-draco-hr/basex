{
  AxisIter ai=node.attributes();
  for (ANode at; (at=ai.next()) != null; ) {
    final byte[][] val=split(at.string(),' ');
    for (    final byte[] id : ids) {
      if (!eq(id,val))       continue;
      final byte[] nm=lc(at.qname().string());
      final boolean ii=contains(nm,ID), ir=contains(nm,IDREF);
      if (idref ? ir : ii && !ir)       nc.add(idref ? at.finish() : node);
    }
  }
  ai=node.children();
  for (ANode att; (att=ai.next()) != null; )   add(ids,nc,att.finish(),idref);
}
