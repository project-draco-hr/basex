{
  final StringList sl=ctx.context.databases().listDBs();
  return new Iter(){
    int pos;
    @Override public ANode get(    final long i) throws QueryException {
      final FElem res=new FElem(Q_DATABASE);
      final String name=sl.get((int)i);
      final MetaData meta=new MetaData(name,ctx.context);
      DataInput di=null;
      try {
        di=new DataInput(meta.dbfile(DATAINF));
        meta.read(di);
        res.add(Q_RESOURCES,token(meta.ndocs));
        final String tstamp=DateTime.format(new Date(meta.dbtime()),DateTime.FULL);
        res.add(Q_MDATE,token(tstamp));
        if (ctx.context.perm(Perm.CREATE,meta))         res.add(Q_PATH,token(meta.original));
        res.add(token(name));
      }
 catch (      final IOException ex) {
        BXDB_OPEN.thrw(info,ex);
      }
 finally {
        if (di != null)         try {
          di.close();
        }
 catch (        final IOException ex) {
        }
      }
      return res;
    }
    @Override public ANode next() throws QueryException {
      return pos < size() ? get(pos++) : null;
    }
    @Override public boolean reset(){
      pos=0;
      return true;
    }
    @Override public long size(){
      return sl.size();
    }
  }
;
}
