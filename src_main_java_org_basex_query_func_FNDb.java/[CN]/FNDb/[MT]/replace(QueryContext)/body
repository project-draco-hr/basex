{
  checkWrite(ctx);
  final Data data=data(0,ctx);
  final String path=path(1,ctx);
  final Item doc=checkItem(expr[2],ctx);
  final Resources res=data.resources;
  final int pre=res.doc(path);
  if (pre != -1) {
    if (res.docs(path).size() != 1)     DOCTRGMULT.thrw(info);
    ctx.updates.add(new DeleteNode(pre,data,info),ctx);
  }
  final IOFile bin=data.meta.binary(path);
  if (bin != null)   ctx.updates.add(new DBDelete(data,path,info),ctx);
  ctx.updates.add(new DBAdd(data,info,doc,path,ctx.context),ctx);
  final IOFile file=data.meta.binary(path);
  if (file != null && file.exists() && !file.isDir()) {
    final Item it=checkItem(doc,ctx);
    ctx.updates.add(new DBStore(data,token(path),it,info),ctx);
  }
  return null;
}
