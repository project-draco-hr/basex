{
  try {
    final Data data=context.data();
    Type index=null;
switch (type) {
case TEXT:
      data.meta.txtindex=true;
    index=Type.TXT;
  break;
case ATTRIBUTE:
data.meta.atvindex=true;
index=Type.ATV;
break;
case FULLTEXT:
data.meta.ftxindex=true;
index=Type.FTX;
break;
}
data.flush();
buildIndex(index,data);
return info(DBINDEXED,perf.getTimer());
}
 catch (final IOException ex) {
BaseX.debug(ex);
return error(ex.getMessage());
}
}
