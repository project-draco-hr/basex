{
  for (int p=pos + (first ? 0 : 1); p < length; p++) {
    if (p == caret)     return true;
    if (text[p] == '\n')     return false;
  }
  return caret == length;
}
