{
  final TokenSet instVers=getInstalledVersions(dep.pkg,ctx);
  if (instVers.size() == 0)   return false;
  if (dep.versions != null) {
    final TokenSet accept=getAcceptVersions(dep.versions);
    for (    final byte[] nextVer : accept)     if (instVers.id(nextVer) != 0)     return true;
  }
 else   if (dep.semver != null) {
    final Version semVer=new Version(dep.semver);
    for (    final byte[] v : instVers)     if (new Version(v).isCompatible(semVer))     return true;
  }
 else   if (dep.semverMin != null && dep.semverMax == null) {
    final Version semVer=new Version(dep.semverMin);
    for (    final byte[] nextVer : instVers) {
      final Version v=new Version(nextVer);
      if (v.isCompatible(semVer) || v.compareTo(semVer) >= 0)       return true;
    }
  }
 else   if (dep.semverMin == null && dep.semverMax != null) {
    final Version semVer=new Version(dep.semverMax);
    for (    final byte[] nextVer : instVers) {
      final Version v=new Version(nextVer);
      if (v.isCompatible(semVer) || v.compareTo(semVer) <= 0)       return true;
    }
  }
 else   if (dep.semverMin != null && dep.semverMax != null) {
    final Version min=new Version(dep.semverMin);
    final Version max=new Version(dep.semverMax);
    for (    final byte[] nextVer : instVers) {
      final Version v=new Version(nextVer);
      if (v.compareTo(min) >= 0 && v.compareTo(max) < 0)       return true;
    }
  }
 else   if (dep.versions == null && dep.semver == null && dep.semverMin == null && dep.semverMax == null) {
    return true;
  }
  return false;
}
