{
  final List<UpdatePrimitive> l=new ArrayList<UpdatePrimitive>();
  Collections.addAll(l,order);
  final List<UpdatePrimitive> l2=new ArrayList<UpdatePrimitive>();
  for (  final UpdatePrimitive p : order)   l2.add(0,p);
  final UpdatePrimitiveComparator c=new UpdatePrimitiveComparator();
  Collections.sort(l,c);
  Collections.sort(l2,c);
  final int s=order.length;
  for (int i=0; i < s; i++) {
    final UpdatePrimitive p=l.get(s - i - 1);
    final UpdatePrimitive p2=l2.get(s - i - 1);
    if (!p.equals(order[i]) || !p2.equals(order[i]))     fail("Unexpected order of updates at position: " + i);
  }
}
