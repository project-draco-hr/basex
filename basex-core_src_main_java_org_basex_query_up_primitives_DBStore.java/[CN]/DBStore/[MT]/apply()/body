{
  for (  final byte[] path : map) {
    try {
      final IOFile file=data.meta.binary(string(path));
      if (file == null)       throw UPDBPUTERR.get(info,path);
      file.parent().md();
      final Object item=map.get(path);
      try (final InputStream in=item instanceof Item ? ((Item)item).input(info) : ((QueryInput)item).input.inputStream();final BufferOutput out=new BufferOutput(file.path())){
        for (int i; (i=in.read()) != -1; )         out.write(i);
      }
     }
 catch (    final IOException ex) {
      Util.debug(ex);
      throw UPDBPUTERR.get(info,path);
    }
  }
}
