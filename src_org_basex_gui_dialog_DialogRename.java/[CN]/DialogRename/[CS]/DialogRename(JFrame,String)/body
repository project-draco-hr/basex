{
  super(parent,RENAMETITLE);
  old=dbname;
  final BaseXBack buttons=BaseXLayout.okCancel(this);
  final BaseXLabel info=new BaseXLabel(" ");
  info.setForeground(GUIConstants.COLORERROR);
  final String[] db=List.list();
  name=new BaseXTextField(dbname,null,this);
  name.addKeyListener(new KeyAdapter(){
    @Override public void keyReleased(    final KeyEvent e){
      final String nm=name.getText();
      ok=true;
      for (      final String d : db)       ok&=!d.equals(nm);
      ok|=nm.equals(dbname);
      String inf=ok ? "" : RENAMEEXISTS;
      if (ok) {
        ok=nm.length() != 0 && Token.letterOrDigit(Token.token(nm));
        if (!ok)         inf=RENAMEINVALID;
      }
      info.setText(inf);
      BaseXLayout.enableOK(buttons,ok);
    }
  }
);
  set(name,BorderLayout.NORTH);
  set(info,BorderLayout.CENTER);
  final BaseXBack p=new BaseXBack();
  p.setLayout(new BorderLayout());
  p.add(buttons,BorderLayout.EAST);
  set(p,BorderLayout.SOUTH);
  finish(parent);
}
