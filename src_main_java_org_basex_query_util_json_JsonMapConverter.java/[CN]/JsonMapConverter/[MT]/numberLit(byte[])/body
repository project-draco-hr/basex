{
  final String value=Token.string(val);
  if (value.matches("^-?[0-9]+$")) {
    if (value.length() < 19) {
      stack.push(Int.get(Long.valueOf(value)));
    }
 else {
      final BigInteger it=new BigInteger(value);
      if (it.equals(BigInteger.valueOf(it.longValue())))       stack.push(Int.get(Long.valueOf(value)));
 else       stack.push(Dec.get(new BigDecimal(it)));
    }
  }
 else {
    final BigDecimal dec=new BigDecimal(value);
    final double dbl=dec.doubleValue();
    if (Double.isInfinite(dbl) || Double.isNaN(dbl))     stack.push(Dec.get(dec));
 else     stack.push(Dbl.get(dbl));
  }
}
