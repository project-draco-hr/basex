{
  accumulatePreValueShifts();
  final IntSet alreadyUpdatedNodes=new IntSet();
  for (  final BasicUpdate update : updStructural) {
    int newPreOfAffectedNode=update.preOfAffectedNode + update.accumulatedShifts;
    while (newPreOfAffectedNode < data.meta.size) {
      if (alreadyUpdatedNodes.contains(newPreOfAffectedNode))       break;
      data.dist(newPreOfAffectedNode,data.kind(newPreOfAffectedNode),calculateNewDistance(newPreOfAffectedNode));
      alreadyUpdatedNodes.add(newPreOfAffectedNode);
      newPreOfAffectedNode+=data.size(newPreOfAffectedNode,data.kind(newPreOfAffectedNode));
    }
  }
}
