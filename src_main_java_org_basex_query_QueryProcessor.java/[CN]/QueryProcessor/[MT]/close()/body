{
  if (closed)   return;
  closed=true;
  for (  final Entry<String,Object> e : ctx.globalOpt.entrySet()) {
    ctx.context.prop.setObject(e.getKey(),e.getValue());
  }
  ctx.resource.close();
  if (ctx.jdbc != null)   ctx.jdbc.close();
  ctx.modules.close();
}
