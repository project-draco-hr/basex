{
  lr.read.add(ctx.userReadLocks);
  lr.write.add(ctx.userWriteLocks);
  boolean global=false;
  if (ctx.root == null)   global=true;
 else   global=global | !ctx.root.expr.databases(ctx.updating ? lr.write : lr.read);
  if (global)   if (ctx.updating)   lr.writeAll=true;
 else   lr.readAll=true;
}
