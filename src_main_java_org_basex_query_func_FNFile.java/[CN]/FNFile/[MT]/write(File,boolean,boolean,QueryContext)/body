{
  check(path);
  final Iter ir=expr[1].iter(ctx);
  final SerializerProp sp;
  if (text) {
    final String enc=encoding(2,FILE_ENCODING,ctx);
    sp=new SerializerProp();
    if (enc != null)     sp.set(SerializerProp.S_ENCODING,enc);
  }
 else {
    final Item it=expr.length > 2 ? expr[2].item(ctx,info) : null;
    sp=FuncParams.serializerProp(it);
  }
  final PrintOutput out=PrintOutput.get(new FileOutputStream(path,append));
  try {
    final Serializer ser=Serializer.get(out,sp);
    for (Item it; (it=ir.next()) != null; ) {
      if (text) {
        final Type ip=it.type;
        if (!ip.isString() && !ip.isUntyped())         Err.type(this,AtomType.STR,it);
      }
      ser.serialize(it);
    }
    ser.close();
  }
 catch (  final SerializerException ex) {
    throw ex.getCause(info);
  }
 finally {
    out.close();
  }
  return null;
}
