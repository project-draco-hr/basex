{
  final Iter ir=expr[1].iter(ctx);
  final TokenBuilder params=interpretSerialParams(ctx);
  Item n;
  try {
    final BufferedOutputStream out=new BufferedOutputStream(new FileOutputStream(file,true));
    try {
      while ((n=ir.next()) != null) {
        if (n instanceof Nod) {
          final Nod nod=checkNode(checkItem(n,ctx));
          final Str str=FNGen.serialize(nod,params,input);
          out.write(str.atom());
        }
 else {
          out.write(checkItem(n,ctx).toString().getBytes());
        }
      }
    }
  finally {
      out.close();
    }
  }
 catch (  final IOException e) {
    Err.or(input,QueryText.FILEWRITE,file.getName());
  }
  return null;
}
