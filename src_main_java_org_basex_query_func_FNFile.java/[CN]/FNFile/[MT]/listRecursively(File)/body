{
  final List<File> result=new ArrayList<File>();
  File currFile=file;
  int c=0;
  do {
    if (currFile.isDirectory()) {
      for (      final File f : currFile.listFiles()) {
        result.add(f);
      }
    }
    currFile=result.get(c);
  }
 while (++c < result.size());
  return result;
}
