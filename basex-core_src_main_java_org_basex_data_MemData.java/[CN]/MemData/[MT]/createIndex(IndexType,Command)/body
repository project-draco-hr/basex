{
  final IndexBuilder ib;
switch (type) {
case TEXT:
    ib=new MemValuesBuilder(this,true,false);
  break;
case ATTRIBUTE:
ib=new MemValuesBuilder(this,false,false);
break;
case ATTTOKEN:
ib=new MemValuesBuilder(this,false,true);
break;
case FULLTEXT:
throw new BaseXException(NO_MAINMEM);
default :
throw Util.notExpected();
}
if (cmd != null) cmd.proc(ib);
set(type,ib.build());
}
