{
  meta=new MetaData(options);
  table=new TableMemAccess(meta);
  final boolean up=meta.updindex;
  if (up)   idmap=new IdPreMap(meta.lastid);
  this.textIndex=textIndex == null ? new MemValues(this,up) : textIndex;
  this.attrIndex=attrIndex == null ? new MemValues(this,up) : attrIndex;
  this.elemNames=elemNames == null ? new Names(meta) : elemNames;
  this.attrNames=attrNames == null ? new Names(meta) : attrNames;
  this.paths=paths == null ? new PathSummary(this) : paths;
  this.nspaces=nspaces == null ? new Namespaces() : nspaces;
}
