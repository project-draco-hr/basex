{
  final Value val=ctx.value(expr);
  final long len=val.size();
  if (len == 0) {
    if (type.mayBeZero())     return val;
    throw NOTREAT.get(info,description(),Empty.SEQ,type);
  }
  if (type.occ == Occ.ZERO)   throw NOTREAT.get(info,description(),val.type,type);
  if (type.zeroOrOne()) {
    if (len > 1)     throw NOTREATS.get(info,description(),type);
    final Item it=val.itemAt(0);
    if (!it.type.instanceOf(type.type))     throw NOTREAT.get(info,description(),it.type,type);
    return it;
  }
  for (long i=0; i < len; i++) {
    final Item it=val.itemAt(i);
    if (!it.type.instanceOf(type.type))     throw NOTREAT.get(info,description(),it.type,type);
  }
  return val;
}
