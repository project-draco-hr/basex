{
  final MemData m=d == null ? new MemData(16,new Names(),new Names(),new Namespaces(),new PathSummary(),new Prop()) : new MemData(16,d);
  int pre=1;
  Nod n;
  while ((n=ch.next()) != null) {
    pre=n instanceof DBNode ? addDBNode((DBNode)n,m,pre,0) : addFragment(n,m,pre,0);
  }
  return m;
}
