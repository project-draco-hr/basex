{
  popup=pop;
  gui=g;
  comp.addMouseListener(new MouseAdapter(){
    @Override public void mousePressed(    final MouseEvent e){
      if (!gui.updating && e.isPopupTrigger())       show(e.getComponent(),e.getX() - 10,e.getY() - 15);
    }
    @Override public void mouseReleased(    final MouseEvent e){
      mousePressed(e);
    }
  }
);
  comp.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    final KeyEvent e){
      if (!gui.updating && CONTEXT.is(e))       show(e.getComponent(),10,10);
    }
  }
);
  final StringBuilder gmnem=new StringBuilder();
  for (  final GUICmd cmd : pop) {
    if (cmd == null) {
      addSeparator();
    }
 else {
      final JMenuItem item=add(cmd.label());
      item.addActionListener(new ActionListener(){
        @Override public void actionPerformed(        final ActionEvent e){
          if (!gui.updating)           cmd.execute(gui);
        }
      }
);
      BaseXLayout.setMnemonic(item,gmnem);
      item.setAccelerator(BaseXLayout.keyStroke(cmd.key()));
      item.setToolTipText(cmd.help());
    }
  }
}
