{
  int par=data.parent(pre,data.kind(pre));
  int k=data.kind(par);
  while (par >= 0 && k != Data.DOC) {
    if (!isValidNode(par,dirID,fsmlID,deepfsID))     return false;
    par=data.parent(par,data.kind(par));
    k=data.kind(par);
  }
  return true;
}
