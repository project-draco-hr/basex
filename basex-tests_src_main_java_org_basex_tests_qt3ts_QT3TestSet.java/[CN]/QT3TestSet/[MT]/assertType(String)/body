{
  final XdmValue value=result.value;
  if (value == null)   return fail(Util.info("Has type: '%'",exp));
  try {
    final String qu="declare variable $result external; $result instance of " + exp;
    final XQuery query=new XQuery(qu,ctx);
    return result(query.bind("result",value).value().getBoolean(),Util.info("type '%' (found: '%')",exp,value.getType().toString()));
  }
 catch (  final XQueryException ex) {
    return fail(ex.getException().getMessage());
  }
}
