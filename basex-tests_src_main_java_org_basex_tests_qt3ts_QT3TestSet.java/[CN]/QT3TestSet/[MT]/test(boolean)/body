{
  if (!success) {
    final StringBuilder sb=new StringBuilder("\nExpected:");
    if (expected.size() == 1) {
      sb.append(' ' + expected.get(0));
    }
 else {
      sb.append("one of...");
      for (      final String e : expected)       sb.append("\n- " + e);
    }
    sb.append("\nFound: ").append(result);
    final AssertionError err=new AssertionError(sb);
    if (result.error != null)     err.setStackTrace(result.error.getStackTrace());
 else     if (result.exc != null)     err.setStackTrace(result.exc.getException().getStackTrace());
    throw err;
  }
}
