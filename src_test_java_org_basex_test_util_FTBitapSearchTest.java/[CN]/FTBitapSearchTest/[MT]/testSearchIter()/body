{
  try {
    for (int i=0; i < TESTS.length; i++) {
      final FTBitapSearch s=searches[i];
      for (int j=0; j < TESTS[i].expected.length; j++) {
        if (!s.hasNext())         fail("Test " + i + ": expected "+ TESTS[i].expected.length+ " hits, got only "+ (j + 1));
        final int pos=s.next();
        if (pos != TESTS[i].expected[j])         fail("Test " + i + ", result "+ j+ ": expected "+ TESTS[i].expected[j]+ ", got "+ pos);
      }
      if (s.hasNext())       fail("Test " + i + ": expected "+ TESTS[i].expected.length+ " hits, got more!");
    }
  }
 catch (  QueryException e) {
    fail(e.getMessage());
  }
}
