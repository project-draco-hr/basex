{
  if (empty || !(vars.length == 1 && prd.uses(var) && prd.removable(var)))   return false;
  final Context c=new Context(info);
  c.type=expr.type().type.seqType();
  final Expr r=prd.inline(ctx,scp,var,c), inl=r == null ? prd : r;
  final Expr pred=inl.type().mayBeNumber() ? Function.BOOLEAN.get(null,info,inl) : inl;
  if (expr instanceof AxisPath) {
    expr=((Path)expr).addPreds(ctx,scp,pred);
  }
 else   if (expr instanceof Filter) {
    expr=((Filter)expr).addPred(ctx,scp,pred);
  }
 else {
    expr=Filter.get(info,expr,pred).optimize(ctx,scp);
  }
  return true;
}
