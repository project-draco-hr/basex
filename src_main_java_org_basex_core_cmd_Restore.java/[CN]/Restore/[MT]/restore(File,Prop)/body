{
  ZipInputStream zis=null;
  try {
    zis=new ZipInputStream(new BufferedInputStream(new FileInputStream(file)));
    while (zis.getNextEntry() != null)     tf++;
    zis.close();
    zis=new ZipInputStream(new BufferedInputStream(new FileInputStream(file)));
    final byte[] data=new byte[IO.BLOCKSIZE];
    ZipEntry e;
    while ((e=zis.getNextEntry()) != null) {
      of++;
      final String path=pr.get(Prop.DBPATH) + '/' + e.getName();
      if (e.isDirectory()) {
        new File(path).mkdir();
      }
 else {
        BufferedOutputStream bos=null;
        try {
          bos=new BufferedOutputStream(new FileOutputStream(path));
          int c;
          while ((c=zis.read(data)) != -1)           bos.write(data,0,c);
        }
  finally {
          if (bos != null)           try {
            bos.close();
          }
 catch (          final IOException ee) {
          }
        }
      }
    }
    zis.close();
    return true;
  }
 catch (  final IOException ex) {
    Util.debug(ex);
    return false;
  }
 finally {
    if (zis != null)     try {
      zis.close();
    }
 catch (    final IOException e) {
    }
  }
}
