{
  final OutputStream o=os == null ? new ArrayOutput() : os;
  sout.write(cmd.code);
  send(arg);
  sout.flush();
  final BufferInput bi=new BufferInput(sin);
  receive(bi,o);
  if (!ok(bi))   throw new BaseXException(bi.readString());
  return o.toString();
}
