{
  final String doc="<n1>" + "<n2 att3='0'><n4/><n5><n6/></n5></n2>" + "</n1>";
  final AtomicUpdateCache l=atomics(doc);
  final MemData m=new MemData(l.data);
  final DataClip ins=clipE(m,"<d/>",false);
  l.addDelete(2);
  l.addInsert(3,2,ins,true);
  l.addInsert(6,5,ins,false);
  l.addReplace(6,ins);
  l.addInsert(7,6,ins,false);
  assertEquals(1,l.updatesSize());
  l.clear();
  l.addInsert(2,2,ins,true);
  l.addDelete(3);
  l.addInsert(4,2,ins,true);
  l.addInsert(6,5,ins,false);
  l.addReplace(6,ins);
  l.addInsert(7,6,ins,false);
  l.addInsert(7,5,ins,false);
  assertEquals(6,l.updatesSize());
}
