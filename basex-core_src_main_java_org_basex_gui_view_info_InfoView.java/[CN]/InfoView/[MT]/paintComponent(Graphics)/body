{
  if (changed) {
    area.setText(text.finish());
    changed=false;
  }
  super.paintComponent(g);
  final int l=stat.size();
  if (l == 0)   return;
  final int fs=fontSize;
  h=label.getHeight() + 4;
  w=(int)(getWidth() * .98 - fs / 2 - label.getWidth());
  bw=fs * 2 + w / 10;
  bs=bw / (l - 1);
  int m=0;
  for (int i=0; i < l - 1; ++i)   m=Math.max(m,stat.get(i));
  final int by=8;
  final int bh=h - by;
  for (int i=0; i < l - 1; ++i) {
    if (i != focus)     continue;
    final int bx=w - bw + bs * i;
    g.setColor(color3);
    g.fillRect(bx,by,bs + 1,bh);
  }
  for (int i=0; i < l - 1; ++i) {
    final int bx=w - bw + bs * i;
    g.setColor(color((i == focus ? 3 : 2) + i * 2));
    final int p=Math.max(1,stat.get(i) * bh / m);
    g.fillRect(bx,by + bh - p,bs,p);
    g.setColor(color(8));
    g.drawRect(bx,by + bh - p,bs,p - 1);
  }
}
