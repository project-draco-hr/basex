{
  final int s=size << 1;
  final int[] tmp=new int[s];
  final int l=bucket.length;
  for (int i=0; i != l; i++) {
    int id=bucket[i];
    while (id != 0) {
      final int p=Token.hash(keys[id]) & s - 1;
      final int nx=next[id];
      next[id]=tmp[p];
      tmp[p]=id;
      id=nx;
    }
  }
  bucket=tmp;
  next=Array.extend(next);
  keys=Array.extend(keys);
}
