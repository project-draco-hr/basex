{
  StringList sl=null;
  final boolean excl=query.startsWith("!");
  try {
    pre=excl ? "!" : "";
    final String suf=getText().substring(pre.length());
    new CommandParser(suf,gui.context).parse(true);
  }
 catch (  final QueryException ex) {
    sl=ex.complete();
    final int marked=ex.markedCol() + (excl ? 2 : 1);
    if (ex.markedCol() > -1 && marked <= query.length()) {
      pre=query.substring(0,marked);
    }
  }
  createCombo(sl);
}
