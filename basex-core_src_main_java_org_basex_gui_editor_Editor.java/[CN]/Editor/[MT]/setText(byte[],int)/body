{
  byte[] txt=t;
  if (Token.contains(t,'\r')) {
    int ns=0;
    for (int r=0; r < s; ++r) {
      final byte b=t[r];
      if (b != 0x0D)       t[ns++]=b;
    }
    txt=Arrays.copyOf(t,ns);
  }
  if (text.text(txt)) {
    if (hist != null)     hist.store(txt,text.getCaret(),0);
  }
  componentResized(null);
}
