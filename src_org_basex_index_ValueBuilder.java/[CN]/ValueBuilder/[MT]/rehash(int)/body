{
  final int l=bucket.length;
  if (s == l)   return;
  final int[] tmp=new int[s];
  for (int i=0; i < l; i++) {
    int tid=bucket[i];
    while (tid != 0) {
      final byte[] tok2=texts[tid];
      final int pos=Token.hash(tok2) & s - 1;
      final int nx=next[tid];
      next[tid]=tmp[pos];
      tmp[pos]=tid;
      tid=nx;
    }
  }
  bucket=tmp;
  next=Array.extend(next);
  texts=Array.extend(texts);
  ids=Array.extend(ids);
}
