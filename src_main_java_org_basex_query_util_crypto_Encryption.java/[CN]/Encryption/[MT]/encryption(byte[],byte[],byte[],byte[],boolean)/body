{
  final boolean symmetric=eq(lc(s),SYM) || s.length == 0;
  final byte[] aa=a.length == 0 ? DES : a;
  final byte[] tivl=ALGE.get(lc(aa));
  if (!symmetric)   CRYPTOENCTYP.thrw(input,ec);
  if (tivl == null)   CRYPTOINVALGO.thrw(input,s);
  final int ivl=toInt(tivl);
  byte[] t=null;
  try {
    if (ec)     t=encrypt(in,k,aa,ivl);
 else     t=decrypt(in,k,aa,ivl);
  }
 catch (  final NoSuchPaddingException e) {
    CRYPTONOPAD.thrw(input,e);
  }
catch (  final BadPaddingException e) {
    CRYPTOBADPAD.thrw(input,e);
  }
catch (  final NoSuchAlgorithmException e) {
    CRYPTOINVALGO.thrw(input,e);
  }
catch (  final InvalidKeyException e) {
    CRYPTOKEYINV.thrw(input,e);
  }
catch (  final IllegalBlockSizeException e) {
    CRYPTOILLBLO.thrw(input,e);
  }
catch (  final InvalidAlgorithmParameterException e) {
    CRYPTOINVALGO.thrw(input,e);
  }
  return Str.get(t);
}
