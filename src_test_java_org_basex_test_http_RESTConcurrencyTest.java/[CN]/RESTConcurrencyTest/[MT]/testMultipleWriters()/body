{
  final int count=10;
  final String template="<?xml version=\"1.0\" encoding=\"UTF-8\"?>" + "<command xmlns=\"http://basex.org/rest\"><text><![CDATA[" + "ADD TO %1$d <node id=\"%1$d\"/>"+ "]]></text></command>";
  @SuppressWarnings("unchecked") Future<HTTPResponse>[] tasks=new Future[count];
  ExecutorService exec=Executors.newFixedThreadPool(count);
  for (int i=0; i < count; i++) {
    String command=String.format(template,i);
    tasks[i]=exec.submit(new Post("",command.getBytes()));
  }
  for (  Future<HTTPResponse> task : tasks)   assertEquals(HTTPCode.OK,task.get().status);
}
