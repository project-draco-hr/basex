{
  if (!score && expr instanceof TypeCheck) {
    final TypeCheck tc=(TypeCheck)expr;
    if (tc.isRedundant(var) || var.adoptCheck(tc.type,tc.promote)) {
      qc.compInfo(OPTCAST,tc.type);
      expr=tc.expr;
    }
  }
  type=score ? SeqType.DBL : expr.type();
  var.refineType(type,qc,info);
  if (var.checksType() && expr.isValue()) {
    expr=var.checkType((Value)expr,qc,info,true);
    var.refineType(expr.type(),qc,info);
  }
  size=score ? 1 : expr.size();
  var.size=size;
  return this;
}
