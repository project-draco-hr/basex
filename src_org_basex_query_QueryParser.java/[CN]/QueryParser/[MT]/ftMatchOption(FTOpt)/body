{
  if (consumeWS(LOWERCASE)) {
    if (opt.isSet(FTOpt.LC) || opt.isSet(FTOpt.UC) || opt.isSet(FTOpt.CS))     error(FTDUP,CASE);
    opt.set(FTOpt.CS,true);
    opt.set(FTOpt.LC,true);
  }
 else   if (consumeWS(UPPERCASE)) {
    if (opt.isSet(FTOpt.LC) || opt.isSet(FTOpt.UC) || opt.isSet(FTOpt.CS))     error(FTDUP,CASE);
    opt.set(FTOpt.CS,true);
    opt.set(FTOpt.UC,true);
  }
 else   if (consumeWS(CASE)) {
    if (opt.isSet(FTOpt.LC) || opt.isSet(FTOpt.UC) || opt.isSet(FTOpt.CS))     error(FTDUP,CASE);
    opt.set(FTOpt.CS,consumeWS(SENSITIVE));
    if (!opt.is(FTOpt.CS))     check(INSENSITIVE);
  }
 else   if (consumeWS(DIACRITICS)) {
    if (opt.isSet(FTOpt.DC))     error(FTDUP,DIACRITICS);
    opt.set(FTOpt.DC,consumeWS(SENSITIVE));
    if (!opt.is(FTOpt.DC))     check(INSENSITIVE);
  }
 else   if (consumeWS(LANGUAGE)) {
    opt.ln=lc(stringLiteral());
    if (!eq(opt.ln,EN))     error(FTLAN,opt.ln);
  }
 else   if (consumeWS(OPTION)) {
    optionDecl();
  }
 else {
    final int p=qp;
    final boolean with=consumeWS(WITH);
    if (!with && !consumeWS(WITHOUT))     return false;
    if (consumeWS2(STEMMING)) {
      if (opt.isSet(FTOpt.ST))       error(FTDUP,STEMMING);
      opt.set(FTOpt.ST,with);
    }
 else     if (consumeWS2(THESAURUS)) {
      opt.set(FTOpt.TS,with);
      if (with) {
        final boolean par=consumeWS2(PAR1);
        if (consumeWS2(AT)) {
          ftThesaurusID();
        }
 else {
          check(DEFAULT);
        }
        while (par && consumeWS2(COMMA))         ftThesaurusID();
        if (par)         check(PAR2);
        error(FTTHES);
      }
    }
 else     if (consumeWS(STOP)) {
      check(WORDS);
      opt.sw=new Set();
      boolean union=false;
      boolean except=false;
      while (with) {
        if (consumeWS2(PAR1)) {
          do {
            final byte[] sl=stringLiteral();
            if (except)             opt.sw.delete(sl);
 else             if (!union || opt.sw.id(sl) == 0)             opt.sw.add(sl);
          }
 while (consumeWS2(COMMA));
          check(PAR2);
        }
 else         if (consumeWS2(AT)) {
          String fn=string(stringLiteral());
          if (ctx.stop != null)           fn=ctx.stop.get(fn);
          IO fl=IO.get(fn);
          if (!fl.exists() && file != null)           fl=file.merge(fl);
          if (!opt.stopwords(fl,except))           error(NOSTOPFILE,fl);
        }
 else         if (!union && !except) {
          error(FTSTOP);
        }
        union=consumeWS2(UNION);
        except=!union && consumeWS2(EXCEPT);
        if (!union && !except)         break;
      }
    }
 else     if (consumeWS(DEFAULT)) {
      check(STOP);
      check(WORDS);
    }
 else     if (consumeWS2(WILDCARDS)) {
      if (opt.is(FTOpt.FZ))       error(FTFZWC);
      opt.set(FTOpt.WC,with);
    }
 else     if (consumeWS2(FUZZY)) {
      if (opt.is(FTOpt.WC))       error(FTFZWC);
      opt.set(FTOpt.FZ,with);
    }
 else {
      qp=p;
      return false;
    }
  }
  return true;
}
