{
  parseArguments(args);
  final Performance perf=new Performance();
  final String qudoc="doc(' " + path + "/catalog.xml')";
  final QueryProcessor qpdoc=new QueryProcessor(qudoc,context);
  final Value doc=qpdoc.value();
  final String version=string("/*:catalog/@version",doc);
  Util.outln(NL + "QT3 Test Suite " + version);
  Util.out("Parsing queries");
  final String quset="for $f in //*:test-set/@file return string($f)";
  final QueryProcessor qpset=new QueryProcessor(quset,context);
  qpset.context(doc);
  final Iter ir=qpset.iter();
  for (Item it; (it=ir.next()) != null && total < MAX; )   testSet(it);
  qpset.close();
  Util.outln(NL + "Writing log file...");
  final PrintOutput po=new PrintOutput(path + "qt3ts.log");
  po.println("TEST RESULTS ___________________________");
  po.println(NL + "Total #Queries: " + total);
  po.println("Correct Results: " + correct);
  po.println("Conformance: " + pc(correct,total));
  po.print(NL);
  po.println("WRONG __________________________________");
  po.print(NL);
  po.print(wrong.finish());
  po.close();
  Util.outln(NL + "Total #Queries: " + total);
  Util.outln("Correct Results: " + correct);
  Util.outln("Conformance: " + pc(correct,total));
  Util.outln("Total time: " + perf);
}
