{
  final XQuery qudoc=new XQuery("doc(' " + path + '/'+ name+ "')",ctx);
  final XQItem doc=qudoc.next();
  final String base=IO.get(doc.getBaseURI()).dir();
  final XQuery qenv=new XQuery("*:test-set/*:environment",ctx).context(doc);
  final ObjList<QT3Env> envs=new ObjList<QT3Env>();
  for (  final XQItem ienv : qenv)   envs.add(new QT3Env(ctx,ienv,base));
  qenv.close();
  final XQuery qts=new XQuery("*:test-set/*:test-case",ctx).context(doc);
  for (  final XQItem its : qts)   testCase(its,envs,base);
  qts.close();
  qudoc.close();
}
