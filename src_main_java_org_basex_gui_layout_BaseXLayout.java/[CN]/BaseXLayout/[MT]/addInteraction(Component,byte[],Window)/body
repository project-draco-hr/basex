{
  comp.addMouseListener(new MouseAdapter(){
    @Override public void mouseEntered(    final MouseEvent e){
      focus(comp,hlp);
    }
  }
);
  final boolean dialog=win instanceof Dialog;
  final GUI gui=dialog ? ((Dialog)win).gui : win instanceof GUI ? (GUI)win : null;
  if (dialog) {
    final Dialog d=(Dialog)win;
    comp.addKeyListener(new KeyAdapter(){
      @Override public void keyPressed(      final KeyEvent e){
        if (e.getSource() instanceof BaseXCombo) {
          if (((BaseXCombo)e.getSource()).isPopupVisible())           return;
        }
        if (pressed(ENTER,e)) {
          final Object s=e.getSource();
          if (!(s instanceof BaseXButton || s instanceof BaseXText))           d.close();
        }
 else         if (pressed(ESCAPE,e)) {
          d.cancel();
        }
      }
    }
);
  }
  if (gui == null)   return;
  comp.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    final KeyEvent e){
      if (gui.context.data != null) {
        if (pressed(GOBACK,e)) {
          GUICommands.GOBACK.execute(gui);
        }
 else         if (pressed(GOFORWARD,e)) {
          GUICommands.GOFORWARD.execute(gui);
        }
 else         if (pressed(GOUP,e)) {
          GUICommands.GOUP.execute(gui);
        }
 else         if (pressed(GOHOME,e)) {
          GUICommands.GOHOME.execute(gui);
        }
      }
      final int fs=gui.prop.num(GUIProp.FONTSIZE);
      int nfs=fs;
      if (pressed(INCFONT1,e) || pressed(INCFONT2,e)) {
        nfs=fs + 1;
      }
 else       if (pressed(DECFONT,e)) {
        nfs=Math.max(1,fs - 1);
      }
 else       if (pressed(NORMFONT,e)) {
        nfs=12;
      }
      if (fs != nfs) {
        gui.prop.set(GUIProp.FONTSIZE,nfs);
        GUIConstants.initFonts(gui.prop);
        gui.notify.layout();
      }
    }
  }
);
}
