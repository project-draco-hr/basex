{
  if (path.length() < 1)   return pre;
  final String[] names=path.split("/");
  int n=names.length != 0 ? pre : DataFS.ROOTDIR;
  for (  final String p : names) {
    if (p.equals("..")) {
      n=data.parent(n,data.kind(pre));
    }
 else     if (p.equals("")) {
      n=DataFS.ROOTDIR;
    }
 else     if (!p.equals(".")) {
      n=dir(n,p);
      if (n == -1)       return -1;
    }
  }
  return n;
}
