{
  if (path.length() < 1)   return pre;
  int n=pre;
  for (  final String p : path.split("/")) {
    if (p.equals("..")) {
      n=data.parent(n,data.kind(pre));
    }
 else     if (p.equals("")) {
      n=DataFS.ROOTDIR;
    }
 else     if (!p.equals(".")) {
      n=dir(n,p);
      if (n == -1)       return -1;
    }
  }
  return n;
}
