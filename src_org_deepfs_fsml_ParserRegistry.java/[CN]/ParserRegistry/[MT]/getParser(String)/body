{
  IFileParser instance=parserInstances.get(suffix);
  if (instance == null) {
    final Class<? extends IFileParser> clazz=REGISTRY.get(suffix);
    if (clazz != null) {
      try {
        instance=clazz.newInstance();
      }
 catch (      final Exception ex) {
        final StringBuilder sb=new StringBuilder();
        sb.append("Failed to load ");
        sb.append(clazz.getSimpleName());
        sb.append(" for suffix ");
        sb.append(suffix);
        sb.append("(");
        sb.append(ex.getMessage());
        sb.append(")");
        throw new ParserException(sb.toString());
      }
    }
    parserInstances.put(suffix,instance);
  }
  return instance;
}
