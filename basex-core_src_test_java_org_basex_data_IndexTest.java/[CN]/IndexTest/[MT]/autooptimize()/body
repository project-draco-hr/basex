{
  run(new Set(MainOptions.AUTOOPTIMIZE,true));
  run(new CreateDB(NAME));
  query(Function._DB_INFO.args(NAME) + "//textindex/text()","true");
  run(new Replace("x.xml","<a>A</a>"));
  query(Function._DB_INFO.args(NAME) + "//textindex/text()","true");
  query(_DB_REPLACE.args(NAME,"x.xml","<a>B</a>"));
  query(Function._DB_INFO.args(NAME) + "//textindex/text()","true");
  run(new Set(MainOptions.AUTOOPTIMIZE,false));
  run(new Optimize());
  run(new Replace("x.xml","<a>C</a>"));
  query(Function._DB_INFO.args(NAME) + "//textindex/text()","false");
  run(new Optimize());
  query(Function._DB_INFO.args(NAME) + "//textindex/text()","true");
  query(_DB_REPLACE.args(NAME,"x.xml","<a>D</a>"));
  query(Function._DB_INFO.args(NAME) + "//textindex/text()","false");
}
