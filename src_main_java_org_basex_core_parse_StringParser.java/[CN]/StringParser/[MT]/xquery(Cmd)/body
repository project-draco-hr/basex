{
  consumeWS();
  final StringBuilder sb=new StringBuilder();
  if (!eoc()) {
    final QueryContext qc=new QueryContext(ctx);
    try {
      final QueryParser p=new QueryParser(parser.input,null,qc);
      p.pos=parser.pos;
      p.parseMain();
      sb.append(parser.input.substring(parser.pos,p.pos));
      parser.pos=p.pos;
    }
  finally {
      qc.close();
    }
  }
  return finish(sb,cmd);
}
