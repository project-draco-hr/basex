{
  try {
    final String tokenId=service.locking.lock(meta.db,meta.path,lockInfo.scope.name().toLowerCase(),lockInfo.type.name().toLowerCase(),lockInfo.depth.name().toLowerCase(),lockInfo.lockedByUser,timeout.getSeconds());
    return success(new LockToken(tokenId,lockInfo,timeout));
  }
 catch (  IOException e) {
    Util.errln(e);
    return failed(FailureReason.PRECONDITION_FAILED);
  }
}
