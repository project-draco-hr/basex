{
  final XQuery query=new XQuery("\n" + "import module namespace func = \"http://snelson.org.uk/functions/functional\";\n" + "\n"+ "let $f := func:curry(concat#5)\n"+ "return $f(\"foo\")(\" bar\")(\" baz\")(\" what's\")(\" next?\")\n"+ "      ",ctx);
  query.addModule("http://snelson.org.uk/functions/functional",file("misc/HigherOrderFunctions/functional.xq"));
  final QT3Result res=result(query);
  result=res;
  test(assertEq("\"foo bar baz what's next?\""));
}
