{
  expr=checkUp(expr,ctx).comp(ctx);
  type=expr.type();
  if (pos != null || score != null || mark != null || !type.one() || !bind(ctx)) {
    var.ret=ctx.grouping ? SeqType.get(type.type,SeqType.Occ.ZM) : type.type.seq();
  }
  ctx.vars.add(var);
  if (pos != null)   ctx.vars.add(pos);
  if (score != null)   ctx.vars.add(score);
  if (mark != null)   ctx.vars.add(mark);
  size=expr.size();
  return this;
}
