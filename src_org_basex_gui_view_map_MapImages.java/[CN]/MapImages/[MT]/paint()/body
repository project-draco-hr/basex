{
  final Dimension size=GUI.get().getSize();
  final Runtime rt=Runtime.getRuntime();
  final long max=Math.max(size.width * size.height * 10L,rt.maxMemory() / 5);
  int imgSize=0;
  for (int j=(imgc == 0 ? MAXNR : imgc) - 1; j != imgc; ) {
    if (imgs[j] != null) {
      if (imgSize < max) {
        imgSize+=imgs[j].getWidth() * imgs[j].getHeight();
      }
 else {
        imgid[j]=0;
        imgs[j]=null;
      }
    }
    j=(j == 0 ? MAXNR : j) - 1;
  }
  map.repaint();
}
