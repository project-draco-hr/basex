{
  final Request req1=new Request();
  req1.payloadAttrs.add(METHOD,token("http:hexBinary"));
  req1.bodyContent.add(new Hex(token("74657374")));
  final FakeHttpConnection fakeConn1=new FakeHttpConnection(new URL("http://www.test.com"));
  HTTPClient.setRequestContent(fakeConn1.getOutputStream(),req1,null);
  assertTrue(eq(token("74657374"),fakeConn1.out.toByteArray()));
  final Request req2=new Request();
  req2.payloadAttrs.add(METHOD,token("http:base64Binary"));
  final NodeCache ch=new NodeCache();
  ch.add(new FTxt(token("74657374"),null));
  final FElem e3=new FElem(new QNm(token("a")),ch,null,null,null,null);
  req2.bodyContent.add(e3);
  final FakeHttpConnection fakeConn2=new FakeHttpConnection(new URL("http://www.test.com"));
  HTTPClient.setRequestContent(fakeConn2.getOutputStream(),req2,null);
  assertTrue(eq(token("74657374"),fakeConn2.out.toByteArray()));
}
