{
  registry=parserRegistry;
  bfc=bufferedFileChannel;
  context=ctx;
  final Prop p=ctx.prop;
  final boolean meta=p.is(Prop.FSMETA);
  metaFinished=!meta;
  offset=position;
  size=contentSize;
  fileFragments=new ArrayList<DeepFile>();
  metaElements=meta ? new TreeMap<MetaElem,ArrayList<byte[]>>() : null;
  textContents=p.is(Prop.FSCONT) ? new ArrayList<TextContent>() : null;
  xmlContents=p.is(Prop.FSXML) ? new ArrayList<XMLContent>() : null;
}
