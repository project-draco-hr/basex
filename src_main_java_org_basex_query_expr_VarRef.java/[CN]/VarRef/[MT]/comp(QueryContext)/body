{
  var=ctx.vars.get(var);
  type=var.type();
  Expr e=var.expr();
  if (e == null)   return this;
  final Namespaces ns=ctx.ns;
  ctx.ns=ns.copy();
  if (ctx.nsElem.length != 0)   ctx.ns.add(new QNm(EMPTY,ctx.nsElem),input);
  if (var.global || ctx.nsElem.length != 0 || ns.size() != 0 || var.type != null || e.uses(Use.CNS) || e instanceof FuncCall) {
    e=var.value(ctx);
  }
  ctx.ns=ns;
  return e;
}
