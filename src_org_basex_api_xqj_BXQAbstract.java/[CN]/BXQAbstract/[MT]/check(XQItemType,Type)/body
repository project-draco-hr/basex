{
  check();
  final Type type=it != null ? ((BXQItemType)it).getType() : null;
  if (it != null && (t != Type.ATM || type.node) && !type.instance(t) && !t.instance(type)) {
    throw new BXQException(WRONG,t,type);
  }
  return it != null ? type : t;
}
