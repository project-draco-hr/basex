{
  final byte[] path=TreeNode.preparePath(token(filterText.getText()));
  if (eq(path,SLASH)) {
    refreshFolder(dbnode);
    return;
  }
  final Data data=dialog.gui.context.data();
  dbnode.removeAllChildren();
  final boolean documentFolder=data.docindex.isDir(path);
  final IOFile fol=data.meta.binary(string(path));
  final boolean rawFolder=fol.exists() && fol.children().length > 0;
  if (documentFolder || rawFolder) {
    dbnode.add(new TreeFolder(TreeFolder.name(path),TreeFolder.path(path),tree,data));
  }
  final byte[] name=TreeFolder.name(path);
  final byte[] sub=TreeFolder.path(path);
  final TreeLeaf[] leaves=TreeFolder.leaves(new TreeFolder(TreeFolder.name(sub),TreeFolder.path(sub),tree,data));
  for (  final TreeLeaf l : leaves) {
    if (name.length == 0 || eq(l.name,name))     dbnode.add(l);
  }
  ((DefaultTreeModel)tree.getModel()).nodeStructureChanged(dbnode);
}
