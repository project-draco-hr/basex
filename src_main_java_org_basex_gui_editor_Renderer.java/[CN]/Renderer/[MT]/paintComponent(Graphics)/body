{
  super.paintComponent(g);
  init(g,bar.pos());
  while (more(g))   write(g);
  final int s=text.size();
  if (cursor && s == text.cursor())   drawCursor(g,x);
  if (s == text.error())   drawError(g);
}
