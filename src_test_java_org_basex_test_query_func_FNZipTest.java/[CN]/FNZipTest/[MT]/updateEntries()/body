{
  check(ZIPUPDATE);
  String list=query(ZIPENTRIES.args(ZIP));
  query(ZIPUPDATE.args(list,TMPZIP));
  final String list2=query(ZIPENTRIES.args(TMPZIP));
  assertEquals(list.replaceAll(" href=\\\".*?\\\"",""),list2.replaceAll(" href=\\\".*?\\\"",""));
  list=list.replaceAll("<zip:dir name=.test.>.*</zip:dir>","");
  query(ZIPUPDATE.args(list,TMPZIP));
  list=list.replaceAll("<zip:dir.*</zip:dir>","");
  error(ZIPUPDATE.args(list,new File(TMPZIP).getCanonicalPath()),Err.ZIPFAIL);
}
