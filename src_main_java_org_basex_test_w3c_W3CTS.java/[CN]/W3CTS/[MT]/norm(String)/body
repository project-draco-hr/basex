{
  final StringBuilder sb=new StringBuilder();
  int m=0;
  boolean s=false;
  final int cl=in.length();
  for (int c=0; c < cl; c++) {
    final char ch=in.charAt(c);
    if (ch == '(' && c + 1 < cl && in.charAt(c + 1) == ':') {
      if (m == 0 && !s) {
        sb.append(' ');
        s=true;
      }
      m++;
      c++;
    }
 else     if (m != 0 && ch == ':' && c + 1 < cl && in.charAt(c + 1) == ')') {
      m--;
      c++;
    }
 else     if (m == 0) {
      if (!s || ch > ' ')       sb.append(ch);
      s=ch <= ' ';
    }
  }
  final String res=sb.toString().replaceAll("(\r|\n)+"," ").trim();
  return res.length() < maxout ? res : res.substring(0,maxout) + "...";
}
