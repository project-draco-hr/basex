{
  final int ch=text.curr();
  final boolean quote=text.curr() == '"';
  Color color=quoted || quote ? KEYWORD : TEXT;
  if (!quoted) {
    if ("{}[]".indexOf(ch) != -1)     color=STRING;
    if (":,".indexOf(ch) != -1)     color=FUNCTION;
  }
  if (quote)   quoted^=true;
  return color;
}
