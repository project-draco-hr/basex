{
  final Expr ex=opt(qc);
  if (ex != this)   return optPre(ex,qc);
  seqType=cases[0].exprs[0].seqType();
  for (int c=1; c < cases.length; c++)   seqType=seqType.union(cases[c].exprs[0].seqType());
  return ex;
}
