{
  if (!ok)   return;
  super.close();
  final Prop prop=gui.context.prop;
  prop.set(Prop.CHOP,chop.isSelected());
  prop.set(Prop.CREATEFILTER,filter.getText());
  prop.set(Prop.ENTITY,entities.isSelected());
  prop.set(Prop.DTD,dtd.isSelected());
  prop.set(Prop.PATHINDEX,pathindex.isSelected());
  prop.set(Prop.TEXTINDEX,txtindex.isSelected());
  prop.set(Prop.ATTRINDEX,atvindex.isSelected());
  prop.set(Prop.FTINDEX,ftxindex.isSelected());
  prop.set(Prop.INTPARSE,intparse.isSelected());
  prop.set(Prop.WILDCARDS,ft[0].isSelected());
  prop.set(Prop.STEMMING,ft[1].isSelected());
  prop.set(Prop.CASESENS,ft[2].isSelected());
  prop.set(Prop.DIACRITICS,ft[3].isSelected());
  prop.set(Prop.SCORING,ft[4].isSelected() ? ftsct.getSelectedIndex() + 1 : 0);
  prop.set(Prop.STOPWORDS,ft[5].isSelected() ? ftswlpath.getText() : "");
}
