{
  final byte[] pat=checkStr(pattern,qc);
  final byte[] mod=modifier != null ? checkStr(modifier,qc) : null;
  final TokenBuilder tb=new TokenBuilder(pat);
  if (mod != null)   tb.add(0).add(mod);
  final byte[] key=tb.finish();
  Pattern p=patterns.get(key);
  if (p == null) {
    p=RegExParser.parse(pat,mod,sc.xquery3(),info);
    patterns.put(key,p);
  }
  return p;
}
