{
  BaseXLayout.setWidth(this,DWIDTH);
  BaseXLayout.addInteraction(this,win);
  if (txt != null)   setText(txt);
  addFocusListener(new FocusAdapter(){
    @Override public void focusGained(    final FocusEvent e){
      selectAll();
    }
  }
);
  addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    final KeyEvent e){
      if (UNDOSTEP.is(e) || REDOSTEP.is(e)) {
        final String t=getText();
        setText(last);
        last=t;
      }
    }
  }
);
  if (dialog != null)   addKeyListener(dialog.keys);
  setDragEnabled(true);
  BaseXLayout.addDrop(this,new DropHandler(){
    @Override public void drop(    final Object object){
      setText(object.toString());
      if (dialog != null)       dialog.action(BaseXTextField.this);
    }
  }
);
}
