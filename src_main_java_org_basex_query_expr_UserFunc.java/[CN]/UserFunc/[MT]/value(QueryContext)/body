{
  final Value cv=ctx.value;
  ctx.value=null;
  try {
    final Value v=expr.value(ctx);
    return cast ? ret.promote(v,ctx,input) : v;
  }
  finally {
    ctx.value=cv;
  }
}
