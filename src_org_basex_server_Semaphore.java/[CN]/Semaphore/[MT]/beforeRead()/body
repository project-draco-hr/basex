{
synchronized (waitingReaderMonitor) {
synchronized (this) {
      if (allowReader()) {
        ++activeReaders;
        return;
      }
      ++waitingReaders;
    }
    try {
      waitingReaderMonitor.wait();
    }
 catch (    InterruptedException ex) {
      ex.printStackTrace();
    }
  }
}
