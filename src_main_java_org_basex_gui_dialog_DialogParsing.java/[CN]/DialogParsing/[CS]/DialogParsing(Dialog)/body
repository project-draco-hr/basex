{
  dialog=d;
  main=new BaseXBack(new TableLayout(3,1)).border(4);
  try {
    props=new ParserProp(d.gui.context.prop.get(Prop.PARSEROPT));
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  final BaseXBack p=new BaseXBack(new TableLayout(1,2,6,0));
  final BaseXLabel parse=new BaseXLabel(CREATEFORMAT,true,true);
  final StringList parsers=new StringList();
  parsers.add(DataText.M_XML);
  if (HTMLParser.available())   parsers.add(DataText.M_HTML);
  parsers.add(DataText.M_TEXT);
  parsers.add(DataText.M_CSV);
  parser=new BaseXCombo(d,parsers.toArray());
  parser.setSelectedItem(dialog.gui.context.prop.get(Prop.PARSER));
  p.add(parse);
  p.add(parser);
  main.add(p);
  main.add(new BaseXLabel(FORMATINFO,true,false));
  intparse=new BaseXCheckBox(CREATEINTPARSE,dialog.gui.context.prop.is(Prop.INTPARSE),0,dialog);
  entities=new BaseXCheckBox(CREATEENTITIES,dialog.gui.context.prop.is(Prop.ENTITY),dialog);
  dtd=new BaseXCheckBox(CREATEDTD,dialog.gui.context.prop.is(Prop.DTD),12,dialog);
  chop=new BaseXCheckBox(CREATECHOP,dialog.gui.context.prop.is(Prop.CHOP),0,dialog);
  usecat=new BaseXCheckBox(USECATFILE,!dialog.gui.context.prop.get(Prop.CATFILE).isEmpty(),0,dialog);
  cfile=new BaseXTextField(dialog.gui.context.prop.get(Prop.CATFILE),dialog);
  browsec=new BaseXButton(BUTTONBROWSE,dialog);
  lines=new BaseXCheckBox("Lines",props.is(ParserProp.LINES),0,dialog);
  header=new BaseXCheckBox("Header",props.is(ParserProp.HEADER),0,dialog);
  separator=new BaseXCombo(d,new String[]{"comma","semicolon","tab"});
  separator.setSelectedItem(props.get(ParserProp.SEPARATOR));
  format=new BaseXCombo(d,new String[]{"simple","verbose"});
  format.setSelectedItem(props.get(ParserProp.FORMAT));
  xmlopts=new BaseXBack(new TableLayout(9,1)).border(4);
  csvopts=new BaseXBack(new TableLayout(6,1)).border(4);
  textopts=new BaseXBack(new TableLayout(3,1)).border(4);
  createOptionsPanels();
  main.add(new BaseXBack());
  options(parser.getSelectedItem().toString());
  add(main);
}
