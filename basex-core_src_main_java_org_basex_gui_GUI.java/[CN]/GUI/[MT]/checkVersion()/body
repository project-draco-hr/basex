{
  final Version disk=new Version(gopts.get(GUIOptions.UPDATEVERSION));
  final Version used=new Version(Prop.VERSION.replaceAll(" .*",""));
  if (disk.compareTo(used) < 0) {
    gopts.set(GUIOptions.UPDATEVERSION,used.toString());
    gopts.write();
  }
 else {
    try {
      final String page=Token.string(new IOUrl(Prop.VERSION_URL).read());
      final Matcher m=Pattern.compile("^(Version )?([\\w\\d.]*?)( .*|$)",Pattern.DOTALL).matcher(page);
      if (m.matches()) {
        final Version latest=new Version(m.group(2));
        if (disk.compareTo(latest) < 0) {
          if (BaseXDialog.confirm(this,Util.info(H_NEW_VERSION,Prop.NAME,latest))) {
            BaseXDialog.browse(this,Prop.UPDATE_URL);
          }
 else {
            gopts.set(GUIOptions.UPDATEVERSION,latest.toString());
            gopts.write();
          }
        }
      }
    }
 catch (    final Exception ex) {
    }
  }
}
