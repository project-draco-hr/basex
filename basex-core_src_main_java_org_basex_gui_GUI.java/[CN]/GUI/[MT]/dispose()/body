{
  if (!editor.confirm())   return;
  final boolean max=getExtendedState() == MAXIMIZED_BOTH;
  gopts.bool(GUIOptions.MAXSTATE,max);
  if (!max) {
    gopts.numbers(GUIOptions.GUILOC,new int[]{getX(),getY()});
    gopts.numbers(GUIOptions.GUISIZE,new int[]{getWidth(),getHeight()});
  }
  super.dispose();
  gopts.write();
  context.close();
}
