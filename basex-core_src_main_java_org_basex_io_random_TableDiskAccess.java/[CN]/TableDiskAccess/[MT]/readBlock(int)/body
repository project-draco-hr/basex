{
  if (!bm.cursor(b))   return;
  final Buffer bf=bm.current();
  try {
    if (bf.dirty)     writeBlock(bf);
    bf.pos=b;
    if (b >= blocks) {
      blocks=b + 1;
    }
 else {
      file.seek(bf.pos * IO.BLOCKSIZE);
      file.readFully(bf.data);
    }
  }
 catch (  final IOException ex) {
    Util.stack(ex);
  }
}
