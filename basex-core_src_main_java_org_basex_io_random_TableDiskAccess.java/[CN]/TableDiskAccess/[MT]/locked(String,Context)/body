{
  final IOFile table=MetaData.file(ctx.globalopts.dbpath(db),DATATBL);
  if (!table.exists())   return false;
  try (final RandomAccessFile file=new RandomAccessFile(table.file(),"rw")){
    return file.getChannel().tryLock() == null;
  }
 catch (  final OverlappingFileLockException ex) {
    return true;
  }
catch (  final ClosedChannelException ex) {
    return false;
  }
catch (  final IOException ex) {
    return true;
  }
}
