{
  session2.execute(new Open(NAME));
  new Thread(){
    @Override public void run(){
      Performance.sleep(200);
      if (read2) {
        assertEquals("192000",execute(new XQuery(READ1),session2));
      }
 else {
        try {
          session2.execute(new XQuery(WRITE2));
        }
 catch (        final IOException bx) {
          fail("test failed: " + bx.getMessage());
        }
      }
      done=true;
    }
  }
.start();
  if (read1) {
    assertEquals("192000",execute(new XQuery(READ1),session1));
  }
 else {
    session1.execute(new XQuery(WRITE1));
  }
  while (!done)   Performance.sleep(100);
  done=false;
}
