{
  try {
    final XMLSerializer serializer=new XMLSerializer(out,surrounding,true);
    final QueryProcessor queryProc=new QueryProcessor(xQuery,context);
    final Iter iter=queryProc.iter();
    int var=0;
    int go=0;
    int max=-1;
    if (start != null)     go=start;
    if (count != null)     max=count;
    while (true) {
      final Item it=iter.next();
      if (it == null)       break;
      if (var >= go) {
        serializer.openResult();
        it.serialize(serializer);
        serializer.closeResult();
      }
      if (max != -1 && var == max)       break;
      var++;
    }
  }
 catch (  final QueryException exce) {
    throw new WebApplicationException(exce);
  }
catch (  final IOException exce) {
    throw new WebApplicationException(exce);
  }
}
