{
  file=new RandomAccessFile(f,"rw");
  rwChannel=file.getChannel();
  len=file.length();
  long tmplen=len;
  int i=0;
  numberofwindows=(int)(len - 1 + BUFFERSIZE) / BUFFERSIZE;
  mbytebuffer=new MappedByteBuffer[numberofwindows];
  while (tmplen > BUFFERSIZE) {
    mbytebuffer[i]=rwChannel.map(FileChannel.MapMode.READ_WRITE,i * BUFFERSIZE,BUFFERSIZE);
    mbytebuffer[i].force();
    tmplen=tmplen - BUFFERSIZE;
    i++;
  }
  if (tmplen != 0) {
    mbytebuffer[i]=rwChannel.map(FileChannel.MapMode.READ_WRITE,0,tmplen);
    mbytebuffer[i].force();
  }
}
