{
  if (val.isEmpty()) {
    if (occ.check(0))     return Empty.SEQ;
    throw INVCAST.get(ii,Empty.SEQ.type(),this);
  }
  final long s=val.size();
  if (!occ.check(s))   throw INVCAST.get(ii,val.type(),this);
  if (val.isItem())   return cast((Item)val,qc,sc,ii,true);
  final ValueBuilder vb=new ValueBuilder((int)s);
  for (int i=0; i < s; i++)   vb.add(cast(val.itemAt(i),qc,sc,ii,true));
  return vb.value();
}
