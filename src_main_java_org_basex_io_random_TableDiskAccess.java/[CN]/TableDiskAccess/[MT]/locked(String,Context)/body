{
  final IOFile table=MetaData.file(ctx.mprop.dbpath(db),DATATBL);
  if (!table.exists())   return false;
  final RandomAccessFile file;
  try {
    file=new RandomAccessFile(table.file(),"rw");
    try {
      return file.getChannel().tryLock() == null;
    }
  finally {
      file.close();
    }
  }
 catch (  final OverlappingFileLockException ex) {
    return true;
  }
catch (  final ClosedChannelException ex) {
    return false;
  }
catch (  final IOException ex) {
    return true;
  }
}
