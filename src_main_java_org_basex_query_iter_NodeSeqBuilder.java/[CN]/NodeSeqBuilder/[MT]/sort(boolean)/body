{
  check=false;
  if (size > 1) {
    if (force)     sort(0,size);
    int i=1;
    for (int j=1; j < size; ++j) {
      while (j < size && nodes[i - 1].is(nodes[j])) {
        nodes[i - 1].score(Math.max(nodes[j++].score(),nodes[i - 1].score()));
      }
      if (j == size)       break;
      nodes[i++]=nodes[j];
    }
    size=i;
  }
}
