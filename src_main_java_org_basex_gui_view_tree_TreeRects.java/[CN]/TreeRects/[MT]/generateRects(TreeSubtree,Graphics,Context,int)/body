{
  final int[] roots=c.current.nodes;
  final int rl=roots.length;
  if (rl == 0)   return 0;
  final double w=(sw - BORDER_PADDING) / (double)rl;
  if (w < 2) {
    return -1;
  }
  rects=new TreeRect[rl][][];
  for (int i=0; i < rl; i++) {
    generateRects(sub,c,g,i,w);
  }
  return w;
}
