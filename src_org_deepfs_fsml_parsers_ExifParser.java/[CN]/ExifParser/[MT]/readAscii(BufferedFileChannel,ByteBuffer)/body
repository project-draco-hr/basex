{
  final int size=buf.getInt();
  final byte[] data=new byte[size];
  if (size <= 4) {
    buf.get(data);
  }
 else {
    b.position(buf.getInt());
    b.buffer(size);
    b.get(data);
  }
  return data;
}
