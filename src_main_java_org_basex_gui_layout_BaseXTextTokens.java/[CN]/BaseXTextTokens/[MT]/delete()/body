{
  if (text.length == 0)   return;
  final TokenBuilder tb=new TokenBuilder();
  final int s=marked() ? Math.min(ms,me) : ps;
  final int e=marked() ? Math.max(ms,me) : ps + cl(text,ps);
  tb.add(text,0,s);
  if (e < text.length)   tb.add(text,e,text.length);
  text=tb.finish();
  ps=s;
  noMark();
}
