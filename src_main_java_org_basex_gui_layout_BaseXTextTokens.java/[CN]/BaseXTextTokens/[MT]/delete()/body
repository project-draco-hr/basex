{
  if (size == 0)   return;
  final TokenBuilder tb=new TokenBuilder();
  final int s=marked() ? Math.min(ms,me) : ps;
  final int e=marked() ? Math.max(ms,me) : ps + cl(text,ps);
  tb.add(text,0,s);
  if (e < size)   tb.add(text,e,size);
  text=tb.finish();
  size=tb.size();
  ps=s;
  noMark();
}
