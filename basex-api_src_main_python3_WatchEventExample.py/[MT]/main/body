def main():
    session = BaseXClient.Session('localhost', 1984, 'admin', 'admin')
    session.execute('create event MY_EVENT')
    try:
        session.watch('MY_EVENT', dump_my_event)
        chp = Process(target=child, args=())
        chp.start()
        chp.join()
        session.unwatch('MY_EVENT')
    finally:
        session.execute('drop event MY_EVENT')
    session.close()
