{
  Value val=null;
  if (ctype != null) {
    if (Token.eq(ctype,APP_JSON,APP_JSONML)) {
      final String options=ParserProp.JSONML[0] + "=" + eq(ctype,APP_JSONML);
      val=new DBNode(new JSONParser(in,prop,options));
    }
 else     if (TEXT_CSV.equals(ctype)) {
      val=new DBNode(new CSVParser(in,prop));
    }
 else     if (TEXT_HTML.equals(ctype)) {
      val=new DBNode(new HTMLParser(in,prop));
    }
 else     if (APP_FORM_URLENCODED.equals(ctype)) {
      final String enc=charset(ext);
      val=Str.get(URLDecoder.decode(string(in.read()),enc == null ? UTF8 : enc));
    }
 else     if (MimeTypes.isXML(ctype)) {
      val=new DBNode(in,prop);
    }
 else     if (MimeTypes.isText(ctype)) {
      val=Str.get(new TextInput(in).content());
    }
 else     if (MimeTypes.isMultipart(ctype)) {
      final HTTPPayload hp=new HTTPPayload(in.inputStream(),false,null,prop);
      hp.extractParts(concat(DASHES,hp.boundary(ext)),null);
      val=hp.payloads();
    }
  }
  return val == null ? new B64(in.read()) : val;
}
