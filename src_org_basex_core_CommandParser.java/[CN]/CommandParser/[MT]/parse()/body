{
  Process[] list=new Process[0];
  if (!more())   return list;
  boolean fsmode=Prop.fsmode;
  while (true) {
    Process proc;
    COMMANDS cmd=null;
    if (fsmode) {
      cmd=COMMANDS.BASH;
      proc=new Fs(consume(FS.class,cmd).name(),path(null,false));
      if (FS.valueOf(proc.args[0]) == Commands.FS.EXIT)       fsmode=false;
    }
 else {
      cmd=consume(COMMANDS.class,null);
      proc=parse(cmd);
      if (proc instanceof Fs)       fsmode=true;
    }
    list=Array.add(list,proc);
    consumeWS();
    if (!more())     return list;
    if (!consume(';'))     help(null,cmd);
  }
}
