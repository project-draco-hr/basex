{
  final HttpRequest req1=new HttpRequest();
  req1.payloadAttrs.put("method","raw");
  req1.bodyContent.add(new B64(token("dGVzdA==")));
  final FakeHttpConnection fakeConn1=new FakeHttpConnection(new URL("http://www.test.com"));
  HttpClient hc=new HttpClient(null,ctx.options);
  hc.setRequestContent(fakeConn1.getOutputStream(),req1);
  assertEquals(fakeConn1.out.toString(),"dGVzdA==");
  final HttpRequest req2=new HttpRequest();
  req2.payloadAttrs.put("method","raw");
  final FElem e3=new FElem("a").add("dGVzdA==");
  req2.bodyContent.add(e3);
  final FakeHttpConnection fakeConn2=new FakeHttpConnection(new URL("http://www.test.com"));
  hc=new HttpClient(null,ctx.options);
  hc.setRequestContent(fakeConn2.getOutputStream(),req2);
  assertEquals(fakeConn2.out.toString(),"dGVzdA==");
}
