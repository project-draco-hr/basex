{
  tok.reset();
  boolean dot=true;
  boolean exp=true;
  char curr=curr();
  while (curr != 0 && (digit(curr) || dot && exp && curr == '.' || exp && (curr == 'E' || curr == 'e'))) {
    if (curr == '.') {
      dot=false;
    }
 else     if (curr == 'e' || curr == 'E') {
      exp=false;
    }
    tok.add(consume());
    curr=curr();
  }
  return new Num(toDouble(tok.finish()));
}
