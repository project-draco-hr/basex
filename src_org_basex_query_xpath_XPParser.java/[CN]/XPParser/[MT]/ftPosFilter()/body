{
  final FTPos pos=new FTPos();
  final FTPositionFilter ftpos=new FTPositionFilter(pos);
  while (true) {
    if (consume(ORDERED)) {
      consumeWS();
      pos.ordered=true;
      ftpos.lp=true;
    }
 else     if (consume(WINDOW)) {
      consumeWS();
      ftpos.window=number();
      pos.wunit=ftUnit();
      ftpos.lp=true;
    }
 else     if (consume(DISTANCE)) {
      consumeWS();
      ftpos.dist=ftRange();
      pos.dunit=ftUnit();
      ftpos.lp=true;
    }
 else     if (consume(AT)) {
      consumeWS();
      if (consume(START))       pos.start=true;
 else       if (consume(END))       pos.end=true;
 else       error(FTSCOPE);
      ftpos.lp=true;
    }
 else     if (consume(ENTIRE)) {
      consumeWS();
      if (consume(CONTENT))       pos.content=true;
 else       error(FTSCOPE);
      ftpos.lp=true;
    }
 else     if (consume(SAME)) {
      consumeWS();
      pos.same=true;
      pos.sdunit=ftBigUnit();
      ftpos.lp=true;
    }
 else     if (consume(DIFFERENT)) {
      consumeWS();
      pos.different=true;
      pos.sdunit=ftBigUnit();
      ftpos.lp=true;
    }
 else {
      break;
    }
    consumeWS();
  }
  return ftpos;
}
