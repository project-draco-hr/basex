{
  final XQuery query=new XQuery("\n" + "        <out>{ \n" + "\t\t  for $x in 1 to 2\n"+ "\t\t  for $y in 1 to 3\n"+ "\t\t  let $index := $y\n"+ "\t\t  count $index\n"+ "\t\t  return \n"+ "\t\t    <item><x>{$x}</x><y>{$y}</y><index>{$index}</index></item> \n"+ "\t\t}</out>\n"+ "      ",ctx);
  try {
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertSerialization("<out><item><x>1</x><y>1</y><index>1</index></item><item><x>1</x><y>2</y><index>2</index></item><item><x>1</x><y>3</y><index>3</index></item><item><x>2</x><y>1</y><index>4</index></item><item><x>2</x><y>2</y><index>5</index></item><item><x>2</x><y>3</y><index>6</index></item></out>",false));
}
