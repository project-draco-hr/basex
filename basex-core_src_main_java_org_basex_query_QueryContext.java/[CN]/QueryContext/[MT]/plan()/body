{
  final FElem e=new FElem(QueryText.PLAN);
  e.add(QueryText.COMPILED,token(compiled));
  if (root != null) {
    for (    final StaticScope scp : QueryCompiler.usedDecls(root))     scp.plan(e);
    root.plan(e);
  }
 else {
    funcs.plan(e);
    vars.plan(e);
  }
  return e;
}
