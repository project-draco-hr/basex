{
  final FElem e=new FElem(QueryText.PLAN);
  if (root != null) {
    for (    final StaticScope scp : QueryCompiler.usedDecls(root))     scp.plan(e);
    root.plan(e);
  }
 else {
    funcs.plan(e);
    vars.plan(e);
  }
  doc.add(e);
}
