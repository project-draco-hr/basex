{
  String dir="";
  final int beginIndex=path.lastIndexOf('/');
  if (beginIndex == -1) {
    dir=path;
  }
 else {
    curPre=checkPre(path,FSUtils.goToDir(context.data(),curPre,path.substring(0,beginIndex)));
    dir=path.substring(beginIndex + 1);
  }
  if (!FSUtils.validFileName(dir))   error(dir,101);
  final int src=FSUtils.getDir(context.data(),curPre,dir);
  if (src > -1)   error(path,17);
  try {
    int preNewFile=4;
    if (!(curPre == FSUtils.getROOTDIR())) {
      preNewFile=curPre + FSUtils.NUMATT;
    }
    FSUtils.insert(context.data(),true,Token.token(dir),Token.EMPTY,Token.ZERO,FSUtils.currTime(),curPre,preNewFile);
  }
 catch (  final Exception e) {
    e.printStackTrace();
  }
}
