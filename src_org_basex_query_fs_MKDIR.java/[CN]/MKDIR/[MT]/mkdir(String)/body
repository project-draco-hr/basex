{
  String dir="";
  int beginIndex=path.lastIndexOf('/');
  if (beginIndex == -1) {
    dir=path;
  }
 else {
    curDirPre=FSUtils.goToDir(context.data(),curDirPre,path.substring(0,beginIndex));
    if (curDirPre == -1) {
      FSUtils.printError(out,"mkdir",path,2);
      return;
    }
 else {
      dir=path.substring(beginIndex + 1);
    }
  }
  if (!FSUtils.validFileName(dir)) {
    FSUtils.printError(out,"mkdir",dir,101);
    return;
  }
  int source=FSUtils.getOneSpecificDir(context.data(),curDirPre,dir);
  if (source > -1) {
    FSUtils.printError(out,"mkdir",path,17);
    return;
  }
 else {
    try {
      int preNewFile=4;
      if (!(curDirPre == FSUtils.getROOTDIR())) {
        preNewFile=curDirPre + FSUtils.NUMATT;
      }
      FSUtils.insert(context.data(),true,Token.token(dir),Token.token(""),Token.token(0),Token.token(System.currentTimeMillis()),curDirPre,preNewFile);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
}
