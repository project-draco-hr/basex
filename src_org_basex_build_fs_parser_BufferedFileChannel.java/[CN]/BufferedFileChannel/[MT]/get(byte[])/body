{
  int bytesToRead=dst.length;
  if (buffer(bytesToRead)) {
    buf.get(dst,0,bytesToRead);
  }
 else {
    int buffered=buf.remaining();
    bytesToRead-=buffered;
    if (rem < bytesToRead)     throw new EOFException();
    buf.get(dst,0,buffered);
    buf.clear();
    ByteBuffer tmp=ByteBuffer.wrap(dst,buffered,bytesToRead);
    rem-=fc.read(new ByteBuffer[]{tmp,buf});
    buf.flip();
  }
}
