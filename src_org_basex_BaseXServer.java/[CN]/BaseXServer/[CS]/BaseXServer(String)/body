{
  if (!parseArguments(args))   return;
  Runtime.getRuntime().addShutdownHook(new Thread(){
    @Override public void run(){
      for (      final BaseXSession s : sess)       s.core.stop();
      context.close();
    }
  }
);
  new Thread(){
    @Override public void run(){
      while (running) {
        Performance.sleep(1000);
        clean();
      }
    }
  }
.start();
  try {
    final ServerSocket server=new ServerSocket(context.prop.num(Prop.PORT));
    BaseX.outln(SERVERSTART);
    while (running)     serve(server);
  }
 catch (  final Exception ex) {
    error(ex,true);
  }
}
