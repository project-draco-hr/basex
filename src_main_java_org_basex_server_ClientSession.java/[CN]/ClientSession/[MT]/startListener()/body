{
  new Thread(){
    @Override public void run(){
      try {
        while (true) {
          bi=new BufferInput(sin);
          first=bi.read();
          if (first == 1) {
            String name=bi.readString();
            String val=bi.readString();
            if (tn.size() > 0)             for (            TriggerNotification t : tn.get(name))             t.update(val);
synchronized (mutex) {
              mutex.notifyAll();
            }
          }
 else {
synchronized (mutex) {
              mutex.notifyAll();
              try {
                mutex.wait();
              }
 catch (              InterruptedException e) {
                e.printStackTrace();
              }
            }
          }
        }
      }
 catch (      IOException e) {
        if (!SOCKET_CLOSED.equals(e.getMessage()))         e.printStackTrace();
      }
    }
  }
.start();
}
