{
  socket=new Socket();
  socket.connect(new InetSocketAddress(host,port),5000);
  in=socket.getInputStream();
  final BufferInput bi=bufIn();
  final String ts=bi.readString();
  out=new PrintOutput(new BufferedOutputStream(socket.getOutputStream()));
  send(user);
  send(Token.md5(Token.md5(pw) + ts));
  out.flush();
  if (!ok(bi))   throw new LoginException();
}
