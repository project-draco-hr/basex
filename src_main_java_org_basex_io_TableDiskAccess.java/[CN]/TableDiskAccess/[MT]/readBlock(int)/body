{
  if (!bm.cursor(b))   return;
  final Buffer bf=bm.current();
  try {
    if (bf.dirty)     writeBlock(bf);
    if (b >= allBlocks) {
      allBlocks=b + 1;
    }
 else {
      file.seek(b * IO.BLOCKSIZE);
      file.readFully(bf.data);
    }
    bf.pos=b;
  }
 catch (  final IOException ex) {
    Util.stack(ex);
  }
}
