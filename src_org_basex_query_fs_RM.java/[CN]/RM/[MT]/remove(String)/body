{
  Data data=context.data();
  int[] del=FSUtils.getSpecificFilesOrDirs(data,curDirPre,path);
  long sizeOfNode=0;
  for (  int toDel : del) {
    if (toDel == -1) {
      FSUtils.printError(out,"rm",path,2);
      return;
    }
 else {
      toDel-=sizeOfNode;
      if ((FSUtils.isDir(data,toDel) && fRecursive) || (FSUtils.isFile(data,toDel))) {
        sizeOfNode+=data.size(toDel,Data.ELEM);
        FSUtils.delete(data,toDel);
      }
 else {
        FSUtils.printError(out,"rm",path,21);
      }
    }
  }
}
