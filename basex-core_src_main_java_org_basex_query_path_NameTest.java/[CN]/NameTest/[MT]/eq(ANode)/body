{
  if (node.type != type)   return false;
switch (mode) {
case ALL:
    return true;
case LN:
  return Token.eq(ln,Token.local(node.name()));
case NS:
return Token.eq(name.uri(),node.qname(tmpq).uri());
default :
return type == NodeType.ATT && !name.hasURI() ? Token.eq(ln,node.name()) : name.eq(node.qname(tmpq));
}
}
