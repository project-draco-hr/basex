{
  out.write(10);
  send(name);
  if (esocket == null) {
    final int eport=Integer.parseInt(receive());
    esocket=new Socket();
    esocket.connect(new InetSocketAddress(ehost,eport),5000);
    final OutputStream os=esocket.getOutputStream();
    receive(in,os);
    os.write(0);
    os.flush();
    listen(esocket.getInputStream());
  }
  info=receive();
  if (!ok())   throw new IOException(info);
  notifiers.put(name,notifier);
}
