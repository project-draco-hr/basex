{
  final XdmValue value=result.value;
  if (value == null)   return fail(Util.info("Equal to: '%'",expect));
  final XQuery query=new XQuery(expect,ctx);
  try {
    final XdmItem exp=query.next();
    final XdmItem res=value instanceof XdmItem ? (XdmItem)value : null;
    return result(exp.equal(res),exp.toString());
  }
 catch (  final XQueryException err) {
    return result(expect.equals(value.getString()),err.getException().getMessage());
  }
 finally {
    query.close();
  }
}
