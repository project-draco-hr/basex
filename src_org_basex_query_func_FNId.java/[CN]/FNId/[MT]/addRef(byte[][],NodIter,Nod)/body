{
  final NodeIter ni=nod.attr();
  Nod att;
  while ((att=ni.next()) != null) {
    for (    final byte[] id : ids) {
      if (!eq(checkStr(att),id))       continue;
      final byte[] nm=lc(att.qname().str());
      if (contains(nm,IDREF) || contains(nm,token("cat")))       nb.add(att.finish());
    }
  }
  final NodeIter ch=nod.child();
  while ((att=ch.next()) != null)   addRef(ids,nb,att.finish());
}
