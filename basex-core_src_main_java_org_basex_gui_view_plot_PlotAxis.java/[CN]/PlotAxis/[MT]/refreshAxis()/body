{
  final Data data=plotData.context.data();
  final Stats key=elem ? data.elemNames.stat(attrID) : data.attrNames.stat(attrID);
  if (key == null)   return;
  type=key.type;
  if (type == null)   return;
  if (type == StatsType.CATEGORY)   type=StatsType.TEXT;
  final int[] items=plotData.pres;
  final int il=items.length;
  if (il < 1)   return;
  co=new double[il];
  final byte[][] vals=new byte[il][];
  for (int i=0; i < il; ++i) {
    byte[] value=getValue(items[i]);
    if (type == StatsType.TEXT && value.length > TEXTLENGTH) {
      value=substring(value,0,TEXTLENGTH);
    }
    vals[i]=lc(value);
  }
  if (type == StatsType.TEXT) {
    textToNum(vals);
  }
 else {
    minMax(vals);
    if (!log)     prepareLinAxis();
    final int vl=vals.length;
    for (int v=0; v < vl; ++v)     co[v]=calcPosition(vals[v]);
  }
}
