{
  if (content == null) {
    try {
      final CachedOutput co=new CachedOutput();
      final XMLSerializer xml=new XMLSerializer(co);
      if (data != null) {
        new DBNode(data,pre).serialize(xml);
      }
 else       if (result != null) {
        result.serialize(xml,pre);
      }
 else {
        return null;
      }
      content=co.finish();
    }
 catch (    final IOException ex) {
      throw new XMLDBException(ErrorCodes.VENDOR_ERROR,ex.getMessage());
    }
  }
  return content instanceof byte[] ? string((byte[])content) : content;
}
