{
  final QueryProcessor qp=new QueryProcessor(query,CONTEXT);
  try {
    final String res=qp.execute().toString().replaceAll("(\\r|\\n) *","");
    fail("Query did not fail:\n" + query + "\n[E] "+ error[0]+ "...\n[F] "+ res);
  }
 catch (  final QueryException ex) {
    check(ex,error);
  }
 finally {
    try {
      qp.close();
    }
 catch (    final QueryException ex) {
    }
  }
}
