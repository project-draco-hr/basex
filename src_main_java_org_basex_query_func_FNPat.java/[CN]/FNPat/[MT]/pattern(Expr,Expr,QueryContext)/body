{
  final byte[] pat=checkStr(pattern,ctx);
  final byte[] mod=modifier != null ? checkStr(modifier,ctx) : null;
  final TokenBuilder tb=new TokenBuilder(pat);
  if (mod != null)   tb.add(0).add(mod);
  final byte[] key=tb.finish();
  Pattern p=patterns.get(key);
  if (p == null) {
    p=RegExParser.parse(pat,mod,ctx.sc.xquery3,info);
    patterns.add(key,p);
  }
  return p;
}
