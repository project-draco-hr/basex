{
  final XQuery query=new XQuery("let $in := \n" + "\"Mary had a little lamb,\n" + "it's fleece was black as soot,\n"+ "and everywhere that Mary went,\n"+ "it put its sooty foot.\"\n"+ "            return analyze-string($in, \"Mary.*foot\", \"s\")",ctx);
  try {
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertSerialization("<fn:analyze-string-result xmlns:fn=\"http://www.w3.org/2005/xpath-functions\"><fn:match>Mary had a little lamb,\nit's fleece was black as soot,\nand everywhere that Mary went,\nit put its sooty foot</fn:match><fn:non-match>.</fn:non-match></fn:analyze-string-result>",true));
}
