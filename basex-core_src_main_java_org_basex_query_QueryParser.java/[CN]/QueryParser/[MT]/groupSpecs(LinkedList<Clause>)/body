{
  Spec[] specs=null;
  do {
    final InputInfo ii=info();
    final QNm name=varName();
    final SeqType declType=optAsType();
    final Expr by;
    if (declType != null || wsConsume(ASSIGN)) {
      if (declType != null)       wsCheck(ASSIGN);
      by=check(single(),NOVARDECL);
    }
 else {
      final VarRef vr=localVars.resolveLocal(name,ii);
      boolean dec=false;
      if (vr != null) {
        for (        final Clause f : cl) {
          if (f.declares(vr.var)) {
            dec=true;
            break;
          }
        }
        if (!dec && specs != null) {
          for (          final Spec spec : specs) {
            if (spec.var.is(vr.var)) {
              dec=true;
              break;
            }
          }
        }
      }
      if (!dec)       throw error(GVARNOTDEFINED_X,'$' + string(name.string()));
      by=vr;
    }
    final Collation coll=wsConsumeWs(COLLATION) ? Collation.get(stringLiteral(),qc,sc,info(),FLWORCOLL_X) : sc.collation;
    final Spec spec=new Spec(ii,localVars.add(name,declType,false),by,coll);
    if (specs == null) {
      specs=new Spec[]{spec};
    }
 else {
      for (int i=specs.length; --i >= 0; ) {
        if (specs[i].var.name.eq(spec.var.name)) {
          specs[i].occluded=true;
          break;
        }
      }
      specs=Array.add(specs,spec);
    }
  }
 while (wsConsumeWs(COMMA));
  return specs;
}
