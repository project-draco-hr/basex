{
  while (true) {
    boolean map=false;
    if (consume('/')) {
      if (consume('/')) {
        add(el,descOrSelf());
        checkAxis(Axis.DESC);
      }
 else {
        checkAxis(Axis.CHILD);
      }
    }
 else     if (next() != '=' && consume('!')) {
      map=true;
    }
 else {
      return;
    }
    mark();
    Expr st=step();
    if (st == null)     throw error(PATHMISS_X,found());
    if (map)     st=new MapStep(info(),st);
    add(el,st);
  }
}
