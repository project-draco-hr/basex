{
  if (!wsConsumeWs(SWITCH,PAREN1,TYPEPAR))   return null;
  final InputInfo ii=info();
  wsCheck(PAREN1);
  final Expr expr=check(expr(),NOSWITCH);
  SwitchCase[] exprs={};
  wsCheck(PAREN2);
  ExprList cases;
  do {
    cases=new ExprList(null);
    while (wsConsumeWs(CASE))     add(cases,single());
    if (cases.size() == 1) {
      if (exprs.length == 0)       throw error(WRONGCHAR_X_X,CASE,found());
      wsCheck(DEFAULT);
    }
    wsCheck(RETURN);
    cases.set(0,check(single(),NOSWITCH));
    exprs=Array.add(exprs,new SwitchCase(info(),cases.finish()));
  }
 while (cases.size() != 1);
  return new Switch(ii,expr,exprs);
}
