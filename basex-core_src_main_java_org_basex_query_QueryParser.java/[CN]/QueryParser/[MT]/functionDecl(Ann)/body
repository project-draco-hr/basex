{
  final InputInfo ii=info();
  final QNm name=eQName(FUNCNAME,sc.funcNS);
  if (sc.xquery3() && keyword(name))   throw error(RESERVED,name.local());
  wsCheck(PAR1);
  if (module != null && !eq(name.uri(),module.uri()))   throw error(MODNS,name);
  pushVarContext(null);
  final Var[] args=paramList();
  wsCheck(PAR2);
  final SeqType tp=optAsType();
  if (ann.contains(Ann.Q_UPDATING))   ctx.updating(false);
  final Expr body=wsConsumeWs(EXTERNAL) ? null : enclosed(NOFUNBODY);
  final VarScope scope=popVarContext();
  final StaticFunc func=ctx.funcs.declare(ann,name,args,tp,body,sc,scope,currDoc.toString(),ii);
  funcs.put(func.id(),func);
}
