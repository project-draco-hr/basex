{
  while (true) {
    final int i=pos;
    if (!wsConsumeWs(DECLARE))     break;
    if (sc.xquery3() && wsConsumeWs(CONTEXT)) {
      contextItemDecl();
    }
 else     if (wsConsumeWs(OPTION)) {
      optionDecl();
    }
 else     if (wsConsumeWs(DEFAULT)) {
      throw error(PROLOGORDER);
    }
 else {
      final Ann ann=new Ann();
      while (true) {
        if (wsConsumeWs(UPDATING)) {
          ann.add(Ann.Q_UPDATING,Empty.SEQ,info());
        }
 else         if (sc.xquery3() && consume('%')) {
          annotation(ann);
        }
 else {
          break;
        }
      }
      if (wsConsumeWs(VARIABLE)) {
        if (ann.contains(Ann.Q_UPDATING))         throw error(UPDATINGVAR);
        ann.check(true);
        varDecl(ann);
      }
 else       if (wsConsumeWs(FUNCTION)) {
        ann.check(false);
        functionDecl(ann);
      }
 else       if (!ann.isEmpty()) {
        throw error(VARFUNC);
      }
 else {
        pos=i;
        break;
      }
    }
    currDoc.setLength(0);
    skipWs();
    check(';');
  }
}
