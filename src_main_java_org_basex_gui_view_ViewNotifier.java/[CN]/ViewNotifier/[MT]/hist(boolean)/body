{
  final Context context=gui.context;
  String query="";
  if (forward) {
    if (hist == maxhist)     return;
    query=queries[++hist];
  }
 else {
    if (hist == 0)     return;
    marked[hist]=context.marked;
    query=queries[--hist];
  }
  context.set(cont[hist],marked[hist]);
  gui.input.setText(query);
  for (  final View v : view)   if (v.visible())   v.refreshContext(forward,false);
  gui.refreshControls();
}
