{
  final boolean all=edit == null;
  final String[] buttons=all ? new String[]{CLOSE_ALL} : new String[0];
  for (  final EditorArea editor : all ? editors() : new EditorArea[]{edit}) {
    tabs.setSelectedComponent(editor);
    if (editor.modified() && (editor.opened() || editor.getText().length != 0)) {
      final String msg=Util.info(CLOSE_FILE_X,editor.file().name());
      final String action=BaseXDialog.yesNoCancel(gui,msg,buttons);
      if (action == null || action.equals(B_YES) && !save())       return false;
 else       if (action.equals(CLOSE_ALL))       break;
    }
  }
  return true;
}
