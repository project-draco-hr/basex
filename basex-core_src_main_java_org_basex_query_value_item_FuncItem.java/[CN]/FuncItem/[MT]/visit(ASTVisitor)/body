{
  for (  final Var var : vars)   if (!visitor.declared(var))   return false;
  for (  final Entry<Var,Value> e : closure.entrySet())   if (!(visitor.declared(e.getKey()) && e.getValue().accept(visitor)))   return false;
  return expr.accept(visitor);
}
