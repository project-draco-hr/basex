{
  final XQuery query=new XQuery("for $i in 1 to 7 return let $d2 := $d + xs:dayTimeDuration('P1D')*$i return let $abb :=\n" + "         format-date($d2, '[FNn,3-4]', 'en', (), ()) return let $expected := ('Mon', 'Tues', 'Weds',\n" + "         'Thur', 'Fri', 'Sat', 'Sun') return (substring($abb, 1, 3), starts-with($expected[$i],\n"+ "         $abb) and string-length($abb) le 4 and string-length($abb) ge 3) ",ctx);
  try {
    query.bind("d",new XQuery("xs:date('2003-12-07')",ctx).value());
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertStringValue(true,"\n            Mon true Tue true Wed true Thu true Fri true Sat true Sun true\n         "));
}
