{
  return process(new Validate(){
    @Override void process(    final ErrorHandler handler) throws IOException, SAXException, QueryException {
      final IO in=read(checkItem(expr[0],ctx),ctx,null);
      final SchemaFactory sf=SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
      final Schema schema;
      if (expr.length < 2) {
        schema=sf.newSchema();
      }
 else {
        final Item it=checkItem(expr[1],ctx);
        if (it.type.isNode()) {
          schema=sf.newSchema(new DOMSource((Node)it.toJava()));
        }
 else {
          IO sc=read(it,ctx,null);
          if (!sc.exists())           WHICHRES.thrw(info,sc);
          tmp=createTmp(sc);
          if (tmp != null)           sc=tmp;
          if (sc instanceof IOFile) {
            schema=sf.newSchema(((IOFile)sc).file());
          }
 else {
            schema=sf.newSchema(new URL(sc.url()));
          }
        }
      }
      final Validator v=schema.newValidator();
      v.setErrorHandler(handler);
      v.validate(new StreamSource(in.inputStream()));
    }
  }
);
}
