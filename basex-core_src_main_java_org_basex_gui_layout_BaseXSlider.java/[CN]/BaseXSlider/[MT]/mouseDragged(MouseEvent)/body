{
  final double prop=(max - min) * (mouseX - e.getX()) / (getWidth() - SLIDERW);
  final int old=value;
  value=Math.max(min,Math.min(max,(int)(oldValue - prop)));
  if (value != old) {
    if (dialog != null)     dialog.action(null);
    for (    final ActionListener al : listenerList.getListeners(ActionListener.class)) {
      al.actionPerformed(null);
    }
    repaint();
  }
}
