{
  if (path.endsWith(ZIPSUFFIX)) {
    final ZipInputStream zip=new ZipInputStream(new FileInputStream(file));
    final ZipEntry entry=zip.getNextEntry();
    final BufferInput in=new BufferInput(zip);
    in.length(entry.getSize());
    return in;
  }
  if (path.endsWith(GZSUFFIX)) {
    return new BufferInput(new GZIPInputStream(new FileInputStream(file)));
  }
  return new BufferInput(path);
}
