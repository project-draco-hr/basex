{
  final File pkgDesc=new File(dir,DESCRIPTOR);
  if (pkgDesc.exists()) {
    final IOFile io=new IOFile(pkgDesc);
    try {
      final Package pkg=new PkgParser(context).parse(io,null);
      for (      final Component comp : pkg.comps) {
        if (comp.namespace != null) {
          if (nsDict.get(comp.namespace) != null) {
            nsDict.get(comp.namespace).add(pkg.getName());
          }
 else {
            final TokenList vals=new TokenList();
            vals.add(pkg.getName());
            nsDict.add(comp.namespace,vals);
          }
        }
      }
      pkgDict.add(pkg.getName(),token(dir.getName()));
    }
 catch (    final QueryException ex) {
      Util.errln(ex.getMessage());
    }
  }
 else {
    Util.errln(NOTEXP,dir);
  }
}
