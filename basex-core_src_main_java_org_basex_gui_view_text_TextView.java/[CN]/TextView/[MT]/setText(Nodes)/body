{
  if (visible()) {
    try {
      final ArrayOutput ao=new ArrayOutput().max(gui.gopts.get(GUIOptions.MAXTEXT));
      if (n != null)       n.serialize(Serializer.get(ao));
      setText(ao);
      cmd=null;
      ns=ao.finished() ? n : null;
    }
 catch (    final IOException ex) {
      Util.debug(ex);
    }
  }
 else {
    home.setEnabled(gui.context.data() != null);
  }
}
