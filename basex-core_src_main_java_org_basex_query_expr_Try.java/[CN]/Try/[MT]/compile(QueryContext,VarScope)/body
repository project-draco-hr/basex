{
  try {
    super.compile(ctx,scp);
    if (expr.isValue())     return optPre(expr,ctx);
  }
 catch (  final QueryException ex) {
    if (!ex.isCatchable())     throw ex;
    for (    final Catch c : catches) {
      if (c.matches(ex)) {
        return optPre(c.compile(ctx,scp).asExpr(ex,ctx,scp),ctx);
      }
    }
    throw ex;
  }
  for (  final Catch c : catches)   c.compile(ctx,scp);
  type=expr.type();
  for (  final Catch c : catches)   if (!c.expr.isFunction(Function.ERROR))   type=type.union(c.type());
  return this;
}
