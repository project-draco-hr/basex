{
  final String expCode=asString('@' + CODE,expected);
  if (returned.xqerror != null) {
    if (!errors || expCode.equals("*"))     return null;
    final String resCode=string(returned.xqerror.getException().qname().local());
    if (resCode.equals(expCode))     return null;
  }
  try {
    if (returned.value != null)     serialize(returned.value,sprop);
    return expCode;
  }
 catch (  final QueryIOException ex) {
    if (!errors || expCode.equals("*"))     return null;
    final String resCode=string(ex.getCause().qname().local());
    if (resCode.equals(expCode))     return null;
    return Util.info("% (found: %)",expCode,ex);
  }
catch (  final IOException ex) {
    return Util.info("% (found: %)",expCode,ex);
  }
}
