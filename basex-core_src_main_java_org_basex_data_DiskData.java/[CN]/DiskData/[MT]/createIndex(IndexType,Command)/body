{
  close(type);
  final IndexBuilder ib;
switch (type) {
case TEXT:
    ib=new DiskValuesBuilder(this,true,false);
  break;
case ATTRIBUTE:
ib=new DiskValuesBuilder(this,false,false);
break;
case ATTTOKEN:
ib=new DiskValuesBuilder(this,false,true);
break;
case FULLTEXT:
ib=new FTBuilder(this);
break;
default :
throw Util.notExpected();
}
if (cmd != null) cmd.proc(ib);
set(type,ib.build());
}
