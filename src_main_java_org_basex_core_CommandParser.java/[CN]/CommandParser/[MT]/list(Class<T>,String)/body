{
  Enum<?>[] list=new Enum<?>[0];
  final String t=i == null ? "" : i.toUpperCase();
  for (  final Enum<?> e : en.getEnumConstants()) {
    if (Cmd.class.isInstance(e) && Cmd.class.cast(e).hidden())     continue;
    if (e.name().startsWith(t)) {
      final int s=list.length;
      final Enum<?>[] tmp=new Enum<?>[s + 1];
      System.arraycopy(list,0,tmp,0,s);
      tmp[s]=e;
      list=tmp;
    }
  }
  return list;
}
