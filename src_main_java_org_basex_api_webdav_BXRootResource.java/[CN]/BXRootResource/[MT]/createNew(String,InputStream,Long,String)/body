{
  return new BXCode<BXDatabase>(this){
    @Override public BXDatabase get() throws IOException {
      final String dbname=dbname(newName);
      final LookupInput li=new LookupInput(inputStream);
      if (li.lookup() == '<') {
        s.create(dbname,li);
      }
 else {
        s.execute(new CreateDB(dbname));
        s.store(newName,li);
      }
      s.execute(new Close());
      return new BXDatabase(dbname,session);
    }
  }
.eval();
}
