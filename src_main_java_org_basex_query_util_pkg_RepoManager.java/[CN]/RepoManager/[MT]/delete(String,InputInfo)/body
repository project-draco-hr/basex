{
  boolean found=false;
  for (  final byte[] nextPkg : repo.pkgDict()) {
    if (nextPkg == null)     continue;
    final byte[] dir=repo.pkgDict().get(nextPkg);
    if (eq(Package.name(nextPkg),token(pkg)) || eq(dir,token(pkg))) {
      found=true;
      final byte[] primPkg=primary(nextPkg,ii);
      if (primPkg != null)       PKGDEP.thrw(ii,string(primPkg),pkg);
      final IOFile f=repo.path(string(dir));
      final IOFile desc=new IOFile(f,DESCRIPTOR);
      repo.remove(new PkgParser(repo,ii).parse(desc));
      if (!f.delete())       CANNOTDELPKG.thrw(ii);
    }
  }
  if (!found)   PKGNOTEXIST.thrw(ii,pkg);
}
