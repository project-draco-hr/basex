{
  boolean found=false;
  for (  final byte[] nextPkg : ctx.repo.pkgDict()) {
    if (nextPkg != null) {
      final byte[] dir=ctx.repo.pkgDict().get(nextPkg);
      if (eq(Package.getName(nextPkg),token(pkg)) || eq(dir,token(pkg))) {
        found=true;
        final byte[] primPkg=primary(nextPkg,ii);
        if (primPkg == null) {
          final File f=ctx.repo.path(string(dir));
          final IOFile desc=new IOFile(f,DESCRIPTOR);
          ctx.repo.remove(new PkgParser(ctx,ii).parse(desc));
          if (!new IOFile(f).delete())           CANNOTDELPKG.thrw(ii);
        }
 else         PKGDEP.thrw(ii,string(primPkg),pkg);
      }
    }
  }
  if (!found)   PKGNOTINST.thrw(ii,pkg);
}
