{
  final Serializer ser=new BuilderSerializer(build){
    @Override protected void startOpen(    final byte[] t) throws IOException {
      super.startOpen(t);
      if (cmd != null)       cmd.pre++;
    }
    @Override protected void openDoc(    final byte[] name) throws IOException {
      super.openDoc(name);
      if (cmd != null)       cmd.pre++;
    }
  }
;
  final IntList il=data.doc();
  for (int i=0, is=il.size(); i < is; i++)   ser.node(data,il.get(i));
}
