{
  if (!(expr instanceof LocPathRel))   return Integer.MAX_VALUE;
  final LocPathRel path=(LocPathRel)expr;
  final Data data=ctx.item.data;
  final boolean txt=data.meta.txtindex;
  final boolean atv=data.meta.atvindex;
  final Step step=path.steps.last();
  final boolean text=txt && step.test == TestNode.TEXT && step.preds.size() == 0 && data.meta.chop;
  if (!text && !atv || !path.checkAxes())   return Integer.MAX_VALUE;
  index=new RangeToken(text,min,max);
  final StatsKey key=getKey(path,data,text);
  if (key == null)   return Integer.MAX_VALUE;
  if (index.min > index.max || index.max < key.min || index.min > key.max)   return 0;
  index.min=Math.max(index.min,key.min);
  index.max=Math.min(index.max,key.max);
  return key.kind != StatsKey.Kind.DBL && key.kind != StatsKey.Kind.INT ? Integer.MAX_VALUE : data.size / 10;
}
