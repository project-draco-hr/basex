{
  if (!data.meta.uptodate)   return null;
  final int st=path.steps.size();
  if (text) {
    if (st == 1)     return null;
    final Step step=path.steps.get(st - 2);
    if (!(step.test instanceof TestName))     return null;
    return data.tags.stat(((TestName)step.test).id);
  }
  final int id=path.steps.last().simpleName(Axis.ATTR,true);
  return id == Integer.MIN_VALUE ? null : data.atts.stat(id);
}
