{
  final int kind=data.kind(preAfter);
  final int distanceBefore=data.dist(preAfter,kind);
  final int preBefore=calculatePreValue(preAfter,true);
  final int parentBefore=preBefore - distanceBefore;
  final int parentAfter=calculatePreValue(parentBefore,false);
  return preAfter - parentAfter;
}
