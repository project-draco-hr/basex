{
  cursor(p);
  int l=readNum();
  final byte[] b=new byte[l];
  int tmp=mbytebuffer.remaining();
  if (l > tmp) {
    int ll=0;
    while (ll < l) {
      if (tmp >= l - ll) {
        mbytebuffer.get(b,ll,l - ll);
        ll=l;
      }
 else {
        mbytebuffer.get(b,ll,tmp);
        ll+=tmp;
        moveWindow(off + BUFFERSIZE);
      }
      tmp=mbytebuffer.remaining();
    }
  }
 else {
    mbytebuffer.get(b);
  }
  return b;
}
