{
  final BufferedInputStream bis=new BufferedInputStream(io);
  try {
    final ByteList bl=new ByteList();
    for (int i=0; (i=bis.read()) != -1; )     bl.add(i);
    if (isXML(c) || eq(c,TXT_HTML) || startsWith(c,MIME_TEXT_PREFIX))     return TextInput.content(new IOContent(bl.toArray()),cs).finish();
    return bl.toArray();
  }
  finally {
    bis.close();
  }
}
