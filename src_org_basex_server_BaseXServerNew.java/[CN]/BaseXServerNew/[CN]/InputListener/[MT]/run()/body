{
  while (thread != null) {
    try {
      final InputStreamReader isr=new InputStreamReader(System.in);
      String com=new BufferedReader(isr).readLine().trim();
      if (com.equals("stop")) {
        stop();
      }
 else       if (com.equals("list")) {
        int size=sessions.size();
        BaseX.outln("Number of Clients: " + size);
        BaseX.outln("List of Clients:");
        for (int i=0; i < size; i++) {
          Session session=sessions.get(i);
          String dbname="No Database opened.";
          if (session.context.db()) {
            dbname=session.context.data().meta.dbname;
          }
          BaseX.outln("Client " + session.clientId + ": "+ dbname);
        }
      }
 else {
        BaseX.outln("No such command");
      }
    }
 catch (    final Exception ex) {
      BaseX.outln();
    }
  }
}
