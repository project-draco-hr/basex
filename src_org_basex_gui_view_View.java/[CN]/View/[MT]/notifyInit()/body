{
  final Context ctx=GUI.context;
  final boolean db=ctx.db();
  if (db) {
    NODEHIST[0]=ctx.current();
    MARKHIST[0]=new Nodes(ctx.data());
  }
  focused=-1;
  ftPos=null;
  ftPoi=null;
  hist=0;
  maxhist=0;
  for (  final View v : view)   v.refreshInit();
  final GUI gui=GUI.get();
  gui.views.setViews(db);
  gui.layoutViews();
  gui.setTitle(Text.TITLE + (db ? " - " + ctx.data().meta.dbname : ""));
}
