{
  final Data data=ctx.data();
  if (data == null)   throw new BaseXException(PROCNODB);
  final IOFile bin=data.meta.binary(target);
  if (target.isEmpty() || !bin.valid())   throw new BaseXException(NAMEINVALID,target);
  try {
    if (lock)     ctx.register(true);
    final String info=store(bin,new InputSource(input));
    return info;
  }
 catch (  final IOException ex) {
    throw new BaseXException(DBNOTSTORED,target);
  }
 finally {
    if (lock)     ctx.unregister(true);
  }
}
