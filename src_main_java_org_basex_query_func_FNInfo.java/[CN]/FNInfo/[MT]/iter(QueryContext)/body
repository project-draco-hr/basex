{
switch (def) {
case ERROR:
    final int al=expr.length;
  if (al == 0)   FUNERR1.thrw(input);
String code=FUNERR1.code();
String msg=FUNERR1.desc;
final Item it=expr[0].item(ctx,input);
if (it == null) {
if (al == 1) XPEMPTY.thrw(input,desc());
}
 else {
code=Token.string(((QNm)checkType(it,Type.QNM)).ln());
}
if (al > 1) {
msg=Token.string(checkEStr(expr[1],ctx));
}
final QueryException ex=new QueryException(input,code,msg);
if (al > 2) ex.iter=expr[2].iter(ctx);
throw ex;
case TRACE:
final Value val=expr[0].value(ctx);
ctx.evalInfo(checkEStr(expr[1],ctx),val.toString());
return val.iter();
case ENVS:
final ItemIter ir=new ItemIter();
for (final Object k : System.getenv().keySet().toArray()) {
ir.add(Str.get(k));
}
return ir;
default :
return super.iter(ctx);
}
}
