import BaseXClient, time
try:
    session = BaseXClient.Session('localhost', 1984, 'admin', 'admin')
    try:
        input = 'for $i in 1 to 10 return <xml>Text { $i }</xml>'
        query = session.query(input)
        print query.init()
        while query.more():
            print query.next()
        query.close()
    except IOError as e:
        print e
    session.close()
except IOError as e:
    print e
