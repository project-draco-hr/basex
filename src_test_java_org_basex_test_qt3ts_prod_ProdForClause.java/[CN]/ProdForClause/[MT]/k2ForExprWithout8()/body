{
  final XQuery query=new XQuery("(for $d in <people> <person id=\"person0\"> <name>First</name> </person> <person> <name>Second</name> </person> </people>/person return if (some $id in 1 satisfies typeswitch ($d/@id) case $n as node() return $d/@id = \"person0\" default $d return ()) then $d/name else ())",ctx);
  final QT3Result res=result(query);
  result=res;
  test(assertSerialization("<name>First</name>",false));
}
