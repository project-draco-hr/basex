{
  final Data data=plotData.context.data();
  final StatsKey key=tag ? data.tagindex.stat(attrID) : data.atnindex.stat(attrID);
  if (key == null)   return;
  type=key.kind;
  if (type == null)   return;
  if (type == Kind.CAT)   type=Kind.TEXT;
  final int[] items=plotData.pres;
  if (items.length < 1)   return;
  co=new double[items.length];
  final byte[][] vals=new byte[items.length][];
  for (int i=0; i < items.length; ++i) {
    byte[] value=getValue(items[i]);
    if (type == Kind.TEXT && value.length > TEXTLENGTH) {
      value=substring(value,0,TEXTLENGTH);
    }
    vals[i]=lc(value);
  }
  if (type == Kind.TEXT)   textToNum(vals);
 else {
    minMax(vals);
    if (log)     prepareLogAxis();
 else     prepareLinAxis();
    for (int i=0; i < vals.length; ++i)     co[i]=calcPosition(vals[i]);
  }
}
