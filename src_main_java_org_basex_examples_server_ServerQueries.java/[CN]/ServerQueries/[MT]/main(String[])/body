{
  System.out.println("=== ServerQueryExample ===\n");
  System.out.println("* Start server.");
  BaseXServer server=new BaseXServer();
  System.out.println("* Create a client session.");
  session=new ClientSession("localhost",1984,"admin","admin");
  System.out.println("* Run a query:");
  System.out.println(session.execute("XQUERY 1"));
  System.out.println("* Run a query (faster):");
  session.setOutputStream(System.out);
  session.execute("XQUERY 1 to 2");
  System.out.println();
  session.setOutputStream(null);
  System.out.println("* Iterate a query:");
  ClientQuery query=session.query("1 to 3");
  while (query.more()) {
    System.out.print(query.next() + " ");
  }
  System.out.println();
  query.close();
  System.out.println("* Iterate a query (faster):");
  session.setOutputStream(System.out);
  query=session.query("1 to 4");
  while (query.more()) {
    query.next();
    System.out.print(" ");
  }
  System.out.println();
  query.close();
  session.setOutputStream(null);
  System.out.println("* Close the client session.");
  session.close();
  System.out.println("* Stop the server.");
  server.stop();
}
