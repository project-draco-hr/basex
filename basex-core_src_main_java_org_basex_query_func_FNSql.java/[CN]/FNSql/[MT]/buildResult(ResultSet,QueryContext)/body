{
  try {
    final ResultSetMetaData metadata=rs.getMetaData();
    final int cc=metadata.getColumnCount();
    final NodeSeqBuilder rows=new NodeSeqBuilder();
    while (rs.next()) {
      final FElem row=new FElem(Q_ROW);
      rows.add(row);
      for (int k=1; k <= cc; k++) {
        final String name=metadata.getColumnLabel(k);
        final Object value=rs.getObject(k);
        if (value == null)         continue;
        final FElem col=new FElem(Q_COLUMN).add(NAME,name);
        row.add(col);
        if (value instanceof SQLXML) {
          final String xml=((SQLXML)value).getString();
          try {
            col.add(new DBNode(new IOContent(xml),ctx.context.options).children().next());
          }
 catch (          final IOException ex) {
            Util.debug(ex);
            col.add(xml);
          }
        }
 else {
          col.add(value.toString());
        }
      }
    }
    return rows;
  }
 catch (  final SQLException ex) {
    throw BXSQ_ERROR.get(info,ex);
  }
}
