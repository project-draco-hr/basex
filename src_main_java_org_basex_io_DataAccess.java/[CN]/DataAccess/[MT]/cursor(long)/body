{
  off=(int)(p & IO.BLOCKSIZE - 1);
  final boolean ch=bm.cursor(p - off);
  final Buffer bf=bm.current();
  if (ch) {
    try {
      if (bf.dirty)       writeBlock(bf);
      bf.pos=p - off;
      file.seek(bf.pos);
      final int l=Math.min((int)(len - bf.pos),IO.BLOCKSIZE);
      file.readFully(bf.data,0,l);
    }
 catch (    final IOException ex) {
      Util.stack(ex);
    }
  }
  return bf;
}
