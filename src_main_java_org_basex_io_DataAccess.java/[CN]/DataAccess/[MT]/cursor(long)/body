{
  off=(int)(p & IO.BLOCKSIZE - 1);
  final long b=p - off;
  if (!bm.cursor(b))   return;
  final Buffer bf=bm.current();
  try {
    if (bf.dirty)     writeBlock(bf);
    file.seek(b);
    file.readFully(bf.data,0,(int)Math.min(len - b,IO.BLOCKSIZE));
    bf.pos=b;
  }
 catch (  final IOException ex) {
    Util.stack(ex);
  }
}
