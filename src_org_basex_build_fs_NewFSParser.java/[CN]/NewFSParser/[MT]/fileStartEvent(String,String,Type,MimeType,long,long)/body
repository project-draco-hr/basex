{
  atts.reset();
  if (name != null) {
    if (suffix != null) {
      StringBuilder sb=new StringBuilder(name.length() + suffix.length() + 1);
      sb.append(name).append('.').append(suffix);
      atts.add(DataText.NAME,Token.token(sb.toString()));
      atts.add(DataText.SUFFIX,Token.token(suffix));
    }
 else {
      atts.add(DataText.NAME,Token.token(name));
    }
  }
  atts.add(DataText.OFFSET,Token.token(absolutePosition));
  atts.add(DataText.SIZE,Token.token(size));
  atts.add(DataText.MTIME,ParserUtil.getMTime(curr));
  builder.startElem(DataText.FILE,atts);
  atts.reset();
  if (ADD_TYPE_ATTR)   atts.add(Attribute.TYPE.get(),DataType.STRING.get());
  builder.nodeAndText(Element.TYPE.get(),atts,type.get());
  builder.nodeAndText(Element.FORMAT.get(),atts,format.get());
}
