{
  atts.reset();
  if (name != null) {
    if (suffix != null) {
      final StringBuilder sb=new StringBuilder(name.length() + suffix.length() + 1).append(name).append('.').append(suffix);
      atts.add(DataText.NAME,token(sb.toString()));
      atts.add(DataText.SUFFIX,token(suffix));
    }
 else {
      atts.add(DataText.NAME,token(name));
    }
  }
  atts.add(DataText.OFFSET,token(absolutePosition));
  atts.add(DataText.SIZE,token(size));
  atts.add(DataText.MTIME,ParserUtil.getMTime(curr));
  builder.startElem(DataText.FILE,atts);
  atts.reset();
  if (ADD_TYPE_ATTR)   atts.add(Attribute.TYPE.get(),DataType.STRING.get());
  builder.nodeAndText(Element.TYPE.get(),atts,type.get());
  builder.nodeAndText(Element.FORMAT.get(),atts,format.get());
}
