{
  final String id=query(_ASYNC_EVAL.args("\"(1 to 100000000000)[.=0]\""));
  query(_ASYNC_STOP.args(id));
  while (true) {
    try {
      eval(_ASYNC_RESULT.args(id));
      fail("Query was not stopped.");
    }
 catch (    final QueryException ex) {
      if (ex.error() == ASYNC_WHICH_X)       break;
      assertSame(ASYNC_RUNNING_X,ex.error());
    }
catch (    final IOException ex) {
      fail(ex.toString());
    }
  }
}
