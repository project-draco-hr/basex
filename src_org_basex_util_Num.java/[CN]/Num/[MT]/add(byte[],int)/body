{
  final int len=len(val);
  final int pos=size(array);
  byte[] a=array;
  final int s=array.length;
  if (pos + len >= s) {
    a=new byte[s + Math.max(len,s >> 3)];
    System.arraycopy(array,0,a,0,s);
  }
  add(a,val,pos,len);
  size(a,pos + len);
  return a;
}
