{
  byte[] tmp=new byte[vals.length << 2];
  int vs=vals[0];
  int pos=4;
  for (int i=1; i <= vs; i++) {
    final int len=len(vals[i]);
    final int s=tmp.length;
    if (pos + len >= s) {
      byte[] t=new byte[s + Math.max(len,s >> 3)];
      System.arraycopy(tmp,0,t,0,s);
      tmp=t;
    }
    add(tmp,vals[i],pos,len);
    pos+=len;
  }
  size(tmp,pos);
  return pos == tmp.length ? tmp : Array.finish(tmp,pos);
}
