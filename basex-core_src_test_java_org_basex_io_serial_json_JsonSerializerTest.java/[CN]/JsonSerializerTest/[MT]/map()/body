{
  final JsonFormat format=JsonFormat.MAP;
  serialize("map { }","{}",format);
  serialize("map { '': () }","{'':null}",format);
  serialize("map { 'A' : 'B' }","{'A':'B'}",format);
  serialize("map { 'A': 1 }","{'A':1}",format);
  serialize("map { 'A': 1.2 }","{'A':1.2}",format);
  serialize("map { 'A': .2 }","{'A':0.2}",format);
  serialize("map { 'A': .0 }","{'A':0}",format);
  serialize("map { 'A': 1 div 0.0e0 }","{'A':'INF'}",format);
  serialize("map { 'A': -1 div 0.0e0 }","{'A':'-INF'}",format);
  serialize("map { 'A': 0 div 0.0e0 }","{'A':'NaN'}",format);
  serialize("map { 'A': true() }","{'A':true}",format);
  serialize("map { 'A': false() }","{'A':false}",format);
  serialize("map { 'A': false() }","{'A':false}",format);
  error("map { true(): false() }",format);
  error("map { true(): true#0 }",format);
  error("map { 'A': ('B','C') }",format);
  error("map { 'A': 'B', 'C': 'D', 1: 'E' }",format);
  error("map { 1: 'B', 2: 'C', 'C': 'D' }",format);
  serialize("map { 1:() }","[null]",format);
  serialize("map { 1:2 }","[2]",format);
  serialize("map { 1:2,2:3 }","[2,3]",format);
  serialize("map { 1:2,3:4 }","[2,null,4]",format);
  serialize("map { 3:4,1:2 }","[2,null,4]",format);
  serialize("map { 'A':map {} }","{'A':{}}",format);
  serialize("map { 'A':map {'B':'C'} }","{'A':{'B':'C'}}",format);
  serialize("map { 'A':map {1:'B'} }","{'A':['B']}",format);
  serialize("map { 'A':map {4:true(),2:map {'C':'D'},1:0} }","{'A':[0,{'C':'D'},null,true]}",format);
  serialize("'A'","'A'",format);
  serialize("true()","true",format);
  serialize("1","1",format);
  serialize("(1,2)","1 2",format);
  error("map { 0: () }",format);
  error("map { -1: () }",format);
}
