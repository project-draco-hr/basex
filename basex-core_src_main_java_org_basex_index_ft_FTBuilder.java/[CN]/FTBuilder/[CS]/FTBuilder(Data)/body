{
  super(d,d.meta.options.number(MainOptions.FTINDEXSPLITSIZE));
  tree=new FTIndexTrees(d.meta.maxlen);
  final MainOptions opts=d.meta.options;
  final FTOpt fto=new FTOpt();
  fto.set(FTFlag.DC,opts.bool(MainOptions.DIACRITICS));
  fto.set(FTFlag.CS,opts.bool(MainOptions.CASESENS));
  fto.set(FTFlag.ST,opts.bool(MainOptions.STEMMING));
  fto.sw=new StopWords(d,opts.string(MainOptions.STOPWORDS));
  fto.ln=Language.get(opts);
  if (!Tokenizer.supportFor(fto.ln))   throw new BaseXException(NO_TOKENIZER_X,fto.ln);
  if (opts.bool(MainOptions.STEMMING) && !Stemmer.supportFor(fto.ln))   throw new BaseXException(NO_STEMMER_X,fto.ln);
  lex=new FTLexer(fto);
}
