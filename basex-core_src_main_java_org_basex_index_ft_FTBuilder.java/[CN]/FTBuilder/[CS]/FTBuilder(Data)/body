{
  super(d,d.meta.options.num(Options.FTINDEXSPLITSIZE));
  tree=new FTIndexTrees(d.meta.maxlen);
  final Options opts=d.meta.options;
  final FTOpt fto=new FTOpt();
  fto.set(FTFlag.DC,opts.is(Options.DIACRITICS));
  fto.set(FTFlag.CS,opts.is(Options.CASESENS));
  fto.set(FTFlag.ST,opts.is(Options.STEMMING));
  fto.sw=new StopWords(d,opts.get(Options.STOPWORDS));
  fto.ln=Language.get(opts);
  if (!Tokenizer.supportFor(fto.ln))   throw new BaseXException(NO_TOKENIZER_X,fto.ln);
  if (opts.is(Options.STEMMING) && !Stemmer.supportFor(fto.ln))   throw new BaseXException(NO_STEMMER_X,fto.ln);
  lex=new FTLexer(fto);
}
