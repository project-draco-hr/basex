{
  final int tl=term.length;
  if (tl == 0 && text)   return name == null ? AxisMoreIter.EMPTY : scanEmpty();
  final Data data=ictx.data;
  final IndexIterator ii=(text ? data.meta.textindex : data.meta.attrindex) && tl > 0 && tl <= data.meta.maxlen ? data.iter(new StringToken(text,term)) : scan(term);
  final int kind=text ? Data.TEXT : Data.ATTR;
  return new AxisIter(){
    @Override public ANode next(){
      while (ii.more()) {
        int pre=ii.pre();
        if (name != null) {
          final int par=data.parent(pre,kind);
          if (data.kind(par) != Data.ELEM || !eq(data.name(par,Data.ELEM),name))           continue;
          pre=par;
        }
        return new DBNode(data,pre,name == null ? kind : Data.ELEM);
      }
      return null;
    }
  }
;
}
