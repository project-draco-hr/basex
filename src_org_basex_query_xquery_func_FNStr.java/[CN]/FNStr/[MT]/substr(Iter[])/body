{
  final double ds=checkDbl(arg[1]);
  final byte[] str=checkStr(arg[0]);
  final boolean end=arg.length == 3;
  int l=len(str);
  if (ds != ds)   return Str.ZERO.iter();
  int s=(int)Math.floor(ds - .5);
  int e=end ? (int)Math.floor(checkDbl(arg[2]) + .5) : l;
  if (s < 0) {
    e+=s;
    s=0;
  }
  e=Math.min(l,end ? s + e : Integer.MAX_VALUE);
  if (s >= e)   return Str.ZERO.iter();
  if (ascii(str))   return Str.get(substring(str,s,e)).iter();
  if (s == 0 && e == str.length)   return Str.get(str).iter();
  int ss=s;
  int ee=e;
  int p=0;
  for (l=0; l < str.length; l+=cl(str[l]), p++) {
    if (p == s)     ss=l;
    if (p == e)     ee=l;
  }
  if (p == e)   ee=l;
  return Str.get(Array.create(str,ss,ee - ss)).iter();
}
