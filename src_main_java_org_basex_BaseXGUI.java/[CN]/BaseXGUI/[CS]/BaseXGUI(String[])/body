{
  if (!parseArguments(args))   return;
  if (Prop.MAC) {
    try {
      osxGUI=new GUIMacOSX();
    }
 catch (    final Exception ex) {
      Util.notexpected("Failed to initialize native Mac OS X interface",ex);
    }
  }
  context.prop.set(Prop.CACHEQUERY,true);
  Prop.gui=true;
  final GUIProp gprop=new GUIProp();
  GUIConstants.init(gprop);
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      init(gprop);
      final GUI gui=new GUI(context,gprop);
      if (osxGUI != null)       osxGUI.init(gui);
      if (file != null) {
        final String input=file.replace('\\','/');
        final IO io=IO.get(input);
        boolean xq=false;
        for (        final String suf : IO.XQSUFFIXES)         xq|=input.endsWith(suf);
        if (xq) {
          gui.query.open(io);
        }
 else {
          gui.execute(new Check(input));
          gprop.set(GUIProp.CREATEPATH,io.path());
          gprop.set(GUIProp.CREATENAME,io.dbname());
        }
      }
    }
  }
);
}
