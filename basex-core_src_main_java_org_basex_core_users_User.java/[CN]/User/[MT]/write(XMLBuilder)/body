{
  xml.open(USER,NAME,name,PERMISSION,perm);
  if (!passwords.isEmpty()) {
    for (    final Entry<Algorithm,EnumMap<Code,String>> algo : passwords.entrySet()) {
      xml.open(PASSWORD,ALGORITHM,algo.getKey());
      for (      final Entry<Code,String> code : algo.getValue().entrySet()) {
        final String v=code.getValue();
        if (!v.isEmpty())         xml.open(code.getKey()).text(v).close();
      }
      xml.close();
    }
    for (    final Entry<String,Perm> local : locals.entrySet()) {
      xml.open(DATABASE,PATTERN,local.getKey(),PERMISSION,local.getValue());
      xml.close();
    }
  }
  xml.close();
}
