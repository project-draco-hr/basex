{
  final XQuery query=new XQuery("fn:map-pairs( function($a, $b) \n" + "                          { if ($a instance of function(*))\n" + "                            then $b instance of function(*)\n"+ "                            else if ($b instance of function(*))\n"+ "                            then false()\n"+ "                            else deep-equal($a, $b)\n"+ "                          },\n"+ "                          (//node(), 1, \"string\", 3.14, 2.7e0, fn:exists#1),\n"+ "                          (//node(), 1, \"string\", 3.14, 2.7e0, fn:exists#1) )",ctx);
  try {
    query.context(node(file("fn/map-pairs/fn-map-pairs-013.xml")));
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertStringValue(false,"true true true true true true true true true true true true true true"));
}
