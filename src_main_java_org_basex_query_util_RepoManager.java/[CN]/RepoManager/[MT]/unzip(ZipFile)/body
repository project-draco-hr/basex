{
  try {
    String dirPath=ctx.prop.get(Prop.REPOPATH) + Prop.DIRSEP + extractPkgName(xar.getName());
    new File(dirPath).mkdir();
    BufferedOutputStream out=null;
    BufferedInputStream in=null;
    ZipEntry entry;
    @SuppressWarnings("rawtypes") Enumeration e=xar.entries();
    while (e.hasMoreElements()) {
      entry=(ZipEntry)e.nextElement();
      if (entry.isDirectory()) {
        new File(dirPath + Prop.DIRSEP + entry.getName()).mkdir();
      }
 else {
        in=new BufferedInputStream(xar.getInputStream(entry));
        int c;
        byte[] data=new byte[IO.BLOCKSIZE];
        File f=new File(dirPath + Prop.DIRSEP + entry.getName());
        out=new BufferedOutputStream(new FileOutputStream(f),IO.BLOCKSIZE);
        while ((c=in.read(data)) != -1) {
          out.write(data,0,c);
        }
      }
    }
    out.flush();
    out.close();
    in.close();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
