{
  try {
    final String dirPath=ctx.prop.get(Prop.REPOPATH) + Prop.DIRSEP + extractPkgName(xar.getName());
    new File(dirPath).mkdir();
    final Enumeration<? extends ZipEntry> e=xar.entries();
    while (e.hasMoreElements()) {
      final ZipEntry entry=e.nextElement();
      if (entry.isDirectory()) {
        new File(dirPath + Prop.DIRSEP + entry.getName()).mkdir();
      }
 else {
        final BufferedInputStream in=new BufferedInputStream(xar.getInputStream(entry));
        final File f=new File(dirPath + Prop.DIRSEP + entry.getName());
        final BufferedOutputStream out=new BufferedOutputStream(new FileOutputStream(f),IO.BLOCKSIZE);
        try {
          int c;
          final byte[] data=new byte[IO.BLOCKSIZE];
          while ((c=in.read(data)) != -1)           out.write(data,0,c);
        }
  finally {
          out.close();
          in.close();
        }
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
