{
  final String tmp=db + ".tmp";
  final Prop pr=parser.prop;
  meta=new MetaData(tmp,pr);
  meta.file=parser.io;
  meta.filesize=meta.file.length();
  meta.time=meta.file.date();
  DropDB.drop(db,pr);
  DropDB.drop(tmp,pr);
  pr.dbpath(tmp).mkdirs();
  int bs=IO.BLOCKSIZE;
  while (bs < meta.filesize && bs < 1 << 22)   bs<<=1;
  tout=new DataOutput(new TableOutput(tmp,DATATBL,pr));
  xout=new DataOutput(pr.dbfile(tmp,DATATXT),bs);
  vout=new DataOutput(pr.dbfile(tmp,DATAATV),bs);
  sout=new DataOutput(pr.dbfile(tmp,DATATMP),bs);
}
