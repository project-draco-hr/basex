{
  final byte[] str=checkStr(args[0],ctx);
  final Item is=args[1].atomic(ctx);
  if (is == null)   Err.empty(this);
  final byte[] sea=checkStr(is);
  final Item ir=args[2].atomic(ctx);
  if (ir == null)   Err.empty(this);
  final byte[] rep=checkStr(ir);
  return Str.get(ascii(str) && ascii(sea) && ascii(rep) ? translate(str,sea,rep) : token(Pattern.compile(string(sea),Pattern.LITERAL).matcher(string(str)).replaceAll(string(rep))));
}
