{
  long nn, ln;
  int ni;
  nn=ne - ns;
  ln=nn >> 1;
  ni=(int)(ns + ln);
  int xx=r.x;
  int yy=r.y;
  int ww=!v ? r.w : (int)(r.w * ln / nn);
  int hh=v ? r.h : (int)(r.h * ln / nn);
  if (ww > 0 && hh > 0)   calcMap(data,new ViewRect(xx,yy,ww,hh,0,r.level),mainRects,l,ns,ni,level);
  if (v) {
    xx+=ww;
    ww=r.w - ww;
  }
 else {
    yy+=hh;
    hh=r.h - hh;
  }
  if (ww > 0 && hh > 0)   calcMap(data,new ViewRect(xx,yy,ww,hh,0,r.level),mainRects,l,ni,ne,level);
}
