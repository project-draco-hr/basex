{
  final ViewRect t=new ViewRect(r.x,r.y,r.w,r.h,l.list[ns],r.level);
  mainRects.add(t);
  final int x=t.x + layout.x;
  final int y=t.y + layout.y;
  final int w=t.w - layout.w;
  final int h=t.h - layout.h;
  if ((w >= o || h >= o) && w > 0 && h > 0 && !ViewData.isLeaf(data,t.pre)) {
    final MapList ch=children(data,t.pre);
    if (ch.size != 0)     calcMap(data,new ViewRect(x,y,w,h,l.list[ns],r.level + 1),mainRects,ch,0,ch.size - 1,level + 1);
  }
}
