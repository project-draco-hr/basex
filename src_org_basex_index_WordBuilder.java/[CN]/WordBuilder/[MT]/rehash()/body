{
  final int s=size << 1;
  final int[] tmp=new int[s];
  final int l=bucket.length;
  for (int i=0; i < l; i++) {
    int j=bucket[i];
    while (j != 0) {
      final int cp=token[j];
      final int cl=Num.read(cont,cp);
      final int pos=Words.hash(cont,cp + Num.len(cont,cp),cl) & s - 1;
      final int nx=next[j];
      next[j]=tmp[pos];
      tmp[pos]=j;
      j=nx;
    }
  }
  bucket=tmp;
  token=Array.extend(token);
  next=Array.extend(next);
  ids=Array.extend(ids);
}
