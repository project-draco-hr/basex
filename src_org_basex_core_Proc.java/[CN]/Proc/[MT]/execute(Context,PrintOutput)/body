{
  perf=new Performance();
  context=ctx;
  prop=ctx.prop;
  final Data data=context.data;
  if (data == null && (flags & DATAREF) != 0)   return error(PROCNODB);
  final int i=context.perm(flags & 0xFF,data != null ? data.meta : null);
  if (i != -1)   return error(PERMNO,CmdPerm.values()[i]);
  boolean ok=false;
  try {
    ok=exec(out);
  }
 catch (  final ProgressException ex) {
    abort();
    return error(PROGERR);
  }
catch (  final Throwable ex) {
    Performance.gc(2);
    Main.debug(ex);
    abort();
    if (ex instanceof OutOfMemoryError)     return error(PROCOUTMEM);
    final Object[] st=ex.getStackTrace();
    final Object[] obj=new Object[st.length + 1];
    obj[0]=ex.toString();
    System.arraycopy(st,0,obj,1,st.length);
    return error(Main.bug(obj));
  }
  return ok;
}
