{
  if (undo == null || control(e) || pressed(DELNEXT,e) || pressed(DELPREV,e) || pressed(ESCAPE,e))   return;
  text.pos(text.cursor());
  if (text.start() != -1)   text.delete();
  text.add(String.valueOf(e.getKeyChar()));
  text.setCaret();
  rend.calc();
  showCursor(2);
  e.consume();
}
