{
  dialog=d;
  layout(new TableLayout(create ? 9 : 15,1));
  final MainOptions opts=d.gui.context.options;
  add(new BaseXLabel(H_FULLTEXT_INDEX,true,false).border(0,0,6,0));
  final String sw=opts.string(MainOptions.STOPWORDS);
  final String[] cb={LANGUAGE,STEMMING,CASE_SENSITIVITY,DIACRITICS,STOPWORD_LIST};
  final String[] desc={H_LANGUAGE,H_STEMMING,H_CASE,H_DIACRITICS,H_STOPWORDS};
  final boolean[] val={!opts.string(MainOptions.LANGUAGE).isEmpty(),opts.bool(MainOptions.STEMMING),opts.bool(MainOptions.CASESENS),opts.bool(MainOptions.DIACRITICS),!sw.isEmpty()};
  final BaseXLabel[] labels=new BaseXLabel[FLAGS];
  for (int f=0; f < check.length; ++f) {
    check[f]=new BaseXCheckBox(cb[f],val[f],create ? 1 : 0,d);
    if (!create) {
      labels[f]=new BaseXLabel(desc[f],true,false);
    }
 else {
      check[f].setToolTipText(desc[f]);
    }
  }
  final BaseXBack b1=new BaseXBack(new TableLayout(1,2,8,0));
  b1.add(check[F_LANG]);
  final StringList langs=FTLexer.languages();
  language=new BaseXCombo(d,langs.toArray());
  final Language ln=Language.get(opts);
  for (  final String l : langs) {
    final String s=l.replaceFirst(" \\(.*","");
    if (s.equals(ln.toString()))     language.setSelectedItem(l);
  }
  b1.add(language);
  add(b1);
  if (!create)   add(labels[F_LANG]);
  for (int f=1; f < F_STOP; ++f) {
    add(check[f]);
    if (!create)     add(labels[f]);
  }
  add(check[F_STOP]);
  add(Box.createVerticalStrut(4));
  final BaseXBack b3=new BaseXBack(new TableLayout(1,2,8,0));
  swpath=new BaseXTextField(sw.isEmpty() ? d.gui.gopts.string(GUIOptions.DATAPATH) : sw,d);
  b3.add(swpath);
  swbrowse=new BaseXButton(BROWSE_D,d);
  swbrowse.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent e){
      chooseStop();
    }
  }
);
  b3.add(swbrowse);
  add(b3);
  if (!create)   add(labels[F_STOP]);
}
