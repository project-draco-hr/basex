{
synchronized (cs.mutex) {
    try {
      cs.sout.write(cmd.code);
      cs.send(arg);
      cs.check(false);
      while (!cs.state)       cs.mutex.wait();
      final ByteList bl=new ByteList();
      if (cs.first != 0) {
        bl.add(cs.first).add(cs.bi.content().toArray());
      }
      if (!cs.ok())       throw new BaseXException(cs.bi.readString());
      cs.check(false);
      return bl;
    }
 catch (    final Exception ex) {
      cs.check(false);
      throw new BaseXException(ex);
    }
  }
}
