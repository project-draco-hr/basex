{
  if (!selected() && shift && text.length != 0)   select(ps + 1,ps);
  if (selected()) {
    indent(shift);
    sb.setLength(0);
    return selected();
  }
  if (shift) {
    sb.setLength(0);
  }
 else {
    final boolean c=ps > 0;
    for (int p=ps - 1; p >= 0 && c; p--) {
      final byte b=text[p];
      if (!ws(b))       return false;
      if (b == '\n')       break;
    }
    sb.setLength(0);
    sb.append("  ");
  }
  return false;
}
