{
  int s=Math.min(ms,me), e=Math.max(ms,me);
  final int tl=text.length;
  while (e > 0 && text[e - 1] == '\n')   e--;
  while (s > 0 && text[s - 1] != '\n')   --s;
  while (e < tl && text[e] != '\n')   ++e;
  ms=s;
  me=e;
}
