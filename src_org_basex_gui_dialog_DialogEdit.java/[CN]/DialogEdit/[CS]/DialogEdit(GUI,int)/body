{
  super(main,EDITTITLE);
  pre=p;
  BaseXBack pp=new BaseXBack();
  pp.setLayout(new BorderLayout());
  final Context context=gui.context;
  final Data data=context.data;
  kind=data.kind(pre);
  final String title=Main.info(EDITTEXT,EDITKIND[kind]);
  final BaseXLabel label=new BaseXLabel(title,true,true);
  pp.add(label,BorderLayout.NORTH);
  if (kind == Data.ELEM) {
    old1=string(data.name(pre,true));
  }
 else   if (kind == Data.DOC) {
    old1=string(data.text(pre,true));
  }
 else   if (kind == Data.TEXT || kind == Data.COMM) {
    old3=data.text(pre,true);
  }
 else   if (kind == Data.ATTR) {
    old1=string(data.name(pre,false));
    old2=string(data.text(pre,false));
  }
 else {
    final String[] v=string(data.text(pre,true)).split(" ",2);
    old1=v[0];
    old3=v.length == 1 ? EMPTY : token(v[1]);
  }
  final BaseXBack b=new BaseXBack();
  b.setLayout(new TableLayout(2,1,0,4));
  if (old1 != null) {
    input1=new BaseXTextField(old1,this);
    input1.addKeyListener(keys);
    BaseXLayout.setWidth(input1,320);
    b.add(input1);
  }
  if (old2 != null) {
    input2=new BaseXTextField(old2,this);
    input2.addKeyListener(keys);
    b.add(input2);
  }
  if (old3 != null) {
    input3=new BaseXText(true,this);
    input3.setText(old3);
    input3.addKeyListener(keys);
    input3.setPreferredSize(new Dimension(320,200));
    b.add(input3);
    setResizable(true);
  }
  pp.add(b,BorderLayout.CENTER);
  set(pp,BorderLayout.CENTER);
  pp=new BaseXBack();
  pp.setLayout(new BorderLayout());
  info=new BaseXLabel(" ");
  info.setBorder(8,0,2,0);
  pp.add(info,BorderLayout.WEST);
  buttons=okCancel(this);
  pp.add(buttons,BorderLayout.EAST);
  set(pp,BorderLayout.SOUTH);
  finish(null);
}
