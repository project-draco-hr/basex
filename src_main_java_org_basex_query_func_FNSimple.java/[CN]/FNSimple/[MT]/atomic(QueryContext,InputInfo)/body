{
  final Expr e=expr.length == 1 ? expr[0] : null;
switch (func) {
case FALSE:
    return Bln.FALSE;
case TRUE:
  return Bln.TRUE;
case EMPTY:
return Bln.get(e.iter(ctx).next() == null);
case EXISTS:
return Bln.get(e.iter(ctx).next() != null);
case BOOLEAN:
return Bln.get(e.ebv(ctx,input).bool(input));
case NOT:
return Bln.get(!e.ebv(ctx,input).bool(input));
case DEEPEQUAL:
return Bln.get(deep(ctx));
case ZEROORONE:
Iter iter=e.iter(ctx);
Item it=iter.next();
if (it == null) return null;
if (iter.next() != null) Err.or(input,EXP01);
return it;
case EXACTLYONE:
iter=e.iter(ctx);
it=iter.next();
if (it == null || iter.next() != null) Err.or(input,EXP1);
return it;
default :
return super.atomic(ctx,ii);
}
}
