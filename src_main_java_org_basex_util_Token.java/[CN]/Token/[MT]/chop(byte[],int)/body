{
  if (token.length <= max)   return token;
  final byte[] tt=Arrays.copyOf(token,max);
  if (max > 2)   tt[max - 3]='.';
  if (max > 1)   tt[max - 2]='.';
  if (max > 0)   tt[max - 1]='.';
  return tt;
}
