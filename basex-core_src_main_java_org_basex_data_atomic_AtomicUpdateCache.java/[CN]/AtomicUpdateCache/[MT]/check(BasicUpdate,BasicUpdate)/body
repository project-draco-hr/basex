{
  if (b.location < a.location)   Util.notexpected("Invalid order at location " + a.location);
  if (b.location == a.location) {
    if (b instanceof Insert || b instanceof InsertAttr)     if (a instanceof Delete)     Util.notexpected("Invalid sequence of delete, insert at location " + a.location);
 else     if (a instanceof Replace)     Util.notexpected("Invalid sequence of replace, insert at location " + a.location);
    if (b.destructive() && a.destructive())     Util.notexpected("Multiple deletes/replaces on node " + a.location);
    if (b instanceof Rename && a instanceof Rename)     Util.notexpected("Multiple renames on node " + a.location);
    if (b instanceof UpdateValue && a instanceof UpdateValue)     Util.notexpected("Multiple updates on node " + a.location);
    if (b.destructive() && !(a instanceof StructuralUpdate))     Util.notexpected("Invalid sequence of value update and destructive update at" + " location " + a.location);
  }
}
