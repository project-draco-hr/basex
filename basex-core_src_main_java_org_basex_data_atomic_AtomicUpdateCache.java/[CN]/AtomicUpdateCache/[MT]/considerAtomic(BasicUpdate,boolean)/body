{
  if (recent == null) {
    recent=candidate;
    return;
  }
  if (candidate instanceof StructuralUpdate) {
    ((StructuralUpdate)candidate).accumulatedShifts+=recent.accumulatedShifts();
  }
  if (slack) {
    add(candidate,false);
  }
 else {
    check(recent,candidate);
    if (treeAwareUpdates(recent,candidate))     return;
    final BasicUpdate m=recent.merge(data,candidate);
    if (m != null)     add(m,true);
 else     add(candidate,false);
  }
}
