{
  byte[] n=substring(text,s,p);
  final boolean a=ascii(n);
  if (wc)   n=wc(n);
  if (!dc)   n=dia(n,a);
  if (uc)   n=upper(n,a);
  if (lc || !cs)   n=lower(n,a);
  if (st)   n=sd == null ? stem.stem(n) : sd.stem(n);
  return n;
}
