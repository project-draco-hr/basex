{
  final String name=Strings.camelCase(string(qname.local()));
  final String uri=string(qname.uri());
  final boolean java=uri.startsWith(JAVAPREF);
  final String className=java ? uri.substring(JAVAPREF.length()) : Strings.className(Strings.uri2path(uri));
  final ModuleLoader modules=qc.resources.modules();
  final Object module=modules.findModule(className);
  if (module != null) {
    final Method meth=moduleMethod(module,name,args.length,qc,ii);
    if (meth != null) {
      final Requires req=meth.getAnnotation(Requires.class);
      final Perm perm=req == null ? Perm.ADMIN : Perm.get(req.value().name().toLowerCase(Locale.ENGLISH));
      return new JavaModuleFunc(sc,ii,module,meth,args,perm);
    }
  }
  try {
    final Class<?> clazz=modules.findClass(className);
    if (name.equals(NEW) || exists(clazz,name))     return new JavaFunc(sc,ii,clazz,name,args);
  }
 catch (  final ClassNotFoundException ex) {
  }
catch (  final Throwable th) {
    throw JAVAINIT_X.get(ii,th);
  }
  if (java)   throw JAVAWHICH_X.get(ii,className);
  return null;
}
