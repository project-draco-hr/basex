{
  final byte[] t=string(token);
  for (int i=0; i < t.length; ++i)   if (t[i] == '?' || t[i] == '$')   t[i]='+';
  final TokenBuilder tb=new TokenBuilder();
  for (  final byte[] lang : split(t,'+')) {
    final byte[] l=languages.get(lang);
    if (!tb.isEmpty())     tb.add('+');
    tb.add(l != null ? l : t);
  }
  return tb.finish();
}
