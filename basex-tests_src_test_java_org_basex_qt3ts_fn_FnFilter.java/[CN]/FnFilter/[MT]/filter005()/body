{
  final XQuery query=new XQuery("let $index-of-node := function($seqParam as node()*, $srchParam as node()) as xs:integer* \n" + "                                    { filter( function($this as xs:integer) as xs:boolean \n" + "                                              {$seqParam[$this] is $srchParam}, 1 to count($seqParam) ) },\n"+ "            $nodes := /*/*,\n"+ "            $perm := ($nodes[1], $nodes[2], $nodes[3], $nodes[1], $nodes[2], $nodes[4], $nodes[2], $nodes[1]) \n"+ "            return $index-of-node($perm, $nodes[2]) ",ctx);
  try {
    query.context(node(file("fn/filter/filter005.xml")));
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertDeepEq("2, 5, 7"));
}
