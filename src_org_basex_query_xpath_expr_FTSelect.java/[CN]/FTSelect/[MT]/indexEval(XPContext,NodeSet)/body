{
  int[][] res=n.ftidpos;
  if (ftpos.pos.ordered)   res=calculateFTOrdered(n.ftidpos,n.ftpointer);
  if (ftpos.pos.wunit != null)   res=calculateFTWindow(ctx.local.data,n.ftidpos,n.ftpointer);
  if (ftpos.pos.dunit != null)   res=calculateFTDistance(ctx.local.data,n.ftidpos,n.ftpointer);
  if (ftpos.pos.same || ftpos.pos.different)   res=calculateFTScope(ctx.local.data,n.ftidpos,n.ftpointer);
  if (ftpos.pos.start || ftpos.pos.end || ftpos.pos.content)   ;
  if (res == null)   return new NodeSet(ctx);
  return new NodeSet(Array.extractIDsFromData(res),ctx,res);
}
