import BaseXClient, time
try:
    session = BaseXClient.Session('localhost', 1984, 'admin', 'admin')
    try:
        input = 'declare variable $name external; for $i in 1 to 10 return element { $name } { $i }'
        query = session.query(input)
        query.bind('$name', 'number')
        print query.init()
        while query.more():
            print query.next()
        print query.close()
    except IOError as e:
        print e
    session.close()
except IOError as e:
    print e
