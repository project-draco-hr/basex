{
  final Nodes b=qu("/site/regions//item");
  final XPathProcessor stepName=parse("name/text()");
  final XPathProcessor stepLocation=parse("location/text()");
  final byte[] item=token("item");
  final byte[] name=token("name");
  final Nodes k=eval(stepName,b);
  sort(b,k);
  final int bs=b.size;
  for (int bi=0; bi < bs; bi++) {
    writeSep(bi);
    out.openElement(item,name,atom(b,bi,stepName));
    out.text(atom(b,bi,stepLocation));
    out.closeElement();
  }
  return b.size;
}
