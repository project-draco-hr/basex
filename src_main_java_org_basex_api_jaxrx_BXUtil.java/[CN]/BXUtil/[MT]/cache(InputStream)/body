{
  final File file=new File(Prop.TMP + System.currentTimeMillis());
  final BufferedInputStream bis=new BufferedInputStream(in);
  final BufferedOutputStream bos=new BufferedOutputStream(new FileOutputStream(file));
  try {
    while (true) {
      final int b=bis.read();
      if (b == -1)       break;
      bos.write(b);
    }
    bos.close();
    if (file.length() == 0)     throw JAXRXException.badRequest("XML input missing.");
    return file;
  }
 catch (  final IOException ex) {
    try {
      bos.close();
    }
 catch (    final Exception e) {
    }
    file.delete();
    throw ex;
  }
}
