{
  final int i=path.lastIndexOf('/');
  String dir=path;
  if (i != -1) {
    curPre(path.substring(0,i));
    dir=path.substring(i + 1);
  }
  if (!fs.valid(dir))   error(dir,101);
  if (fs.dir(curPre,dir) > -1)   error(path,17);
  final int pn=curPre == DataFS.ROOTDIR ? 4 : curPre + DataFS.NUMATT;
  fs.insert(true,Token.token(dir),Token.EMPTY,Token.ZERO,fs.currTime(),curPre,pn);
}
