{
  final XQuery query=new XQuery("\n" + "<result>{\n" + "  for tumbling window $w in ./rss/channel/item\n"+ "    start  $s_curr when true()\n"+ "    end next $e_next when\n"+ "      fn:day-from-dateTime(xs:dateTime($e_next/pubDate)) ne\n"+ "      fn:day-from-dateTime(xs:dateTime($s_curr/pubDate))\n"+ "  return\n"+ "    <item>\n"+ "        <date>{xs:date(xs:dateTime($s_curr/pubDate))}</date>\n"+ "        {  for $item in $w\n"+ "                   where fn:contains( xs:string($item/title), 'XQuery')\n"+ "                   return $item/title   }\n"+ "      </item>\n"+ "}</result>\n"+ "      ",ctx);
  query.context(node(file("prod/WindowClause/rss.xml")));
  final QT3Result res=result(query);
  result=res;
  test(assertSerialization("<result><item><date>2003-06-03</date><title>Extending XQuery with Window Functions</title><title>XQueryP: A new programming language is born</title></item><item><date>2003-06-04</date></item></result>",false));
}
