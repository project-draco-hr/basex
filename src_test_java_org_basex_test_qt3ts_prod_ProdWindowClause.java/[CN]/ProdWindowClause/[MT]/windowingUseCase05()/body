{
  final XQuery query=new XQuery("\n" + "let $SMOOTH_CONST := 0.2\n" + "\n"+ "for sliding window $w in ./stream/event\n"+ "  start at $s_pos when true()\n"+ "  only end at $e_pos when $e_pos - $s_pos eq 2\n"+ "return\n"+ "  round-half-to-even($SMOOTH_CONST * data($w[3]/@temp) + (1 - $SMOOTH_CONST) *\n"+ "    ( $SMOOTH_CONST * data($w[2]/@temp) +\n"+ "      (1 - $SMOOTH_CONST) * data($w[1]/@temp) ), 2)\n"+ "      ",ctx);
  try {
    query.context(node(file("prod/WindowClause/temp_events.xml")));
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertSerialization("8.88 8.68 12.32 15.24 23.92",false));
}
