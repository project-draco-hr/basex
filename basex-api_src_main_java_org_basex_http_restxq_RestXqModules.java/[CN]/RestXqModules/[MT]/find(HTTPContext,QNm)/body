{
  cache(http);
  final ArrayList<RestXqFunction> list=new ArrayList<>();
  for (  final RestXqModule mod : modules.values()) {
    for (    final RestXqFunction rxf : mod.functions()) {
      if (rxf.matches(http,error))       list.add(rxf);
    }
  }
  if (list.isEmpty())   return null;
  RestXqFunction first=list.get(0);
  if (list.size() > 1) {
    Collections.sort(list);
    first=list.get(0);
    if (first.compareTo(list.get(1)) == 0) {
      final TokenBuilder tb=new TokenBuilder();
      for (      final RestXqFunction rxf : list) {
        if (first.compareTo(rxf) != 0)         break;
        tb.add(Prop.NL).add(rxf.function.info.toString());
      }
      throw first.path == null ? first.error(ERROR_CONFLICT,first.error,tb) : first.error(PATH_CONFLICT,first.path,tb);
    }
  }
  return first;
}
