{
  double xx=x;
  final ArrayList<TreeRect> rects=new ArrayList<TreeRect>();
  for (int i=0; i < size; i++) {
    final double boxMiddle=xx + w / 2f;
    final int pre=nodeList[i];
    if (pre == -1) {
      if (!consistentNodeSpace)       xx+=w;
      continue;
    }
    final TreeRect rect=new TreeRect();
    rect.x=(int)xx;
    rect.w=(int)w;
    rect.pre=pre;
    rects.add(rect);
    drawRectangle(g,l,(int)xx,(int)w,y,h,null,null,drawRectangleBorder,fillRectangle);
    drawTextIntoRectangle(g,pre,(int)boxMiddle,(int)w,y);
    xx+=w;
  }
  rects.trimToSize();
  rectsPerLevel.add(rects);
}
