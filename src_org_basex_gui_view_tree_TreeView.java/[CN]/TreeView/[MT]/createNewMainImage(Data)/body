{
  treeImage=createImage();
  final Graphics tIg=treeImage.getGraphics();
  cache.generateRects(tIg,data,getWidth());
  for (int i=0; i < cache.maxLevel; i++) {
    TreeRect[] lr=cache.getTreeRectsPerLevel(i);
    int y=getYperLevel(i);
    for (int z=0; z < lr.length; z++) {
      TreeRect r=lr[z];
      drawRectangle(tIg,i,r.x,y,r.w,nodeHeight,BORDER_RECTANGLES,FILL_RECTANGLES,DRAW_RECTANGLE);
    }
  }
}
