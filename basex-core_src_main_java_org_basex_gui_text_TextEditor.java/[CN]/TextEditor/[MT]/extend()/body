{
  if (!selected())   selectLine();
  int s=Math.min(selectPos,selectEnd), e=Math.max(selectPos,selectEnd);
  final int tl=text.length;
  while (s > 0 && text[s - 1] != '\n')   s--;
  if (e > 0)   while (e < tl && text[e - 1] != '\n')   e++;
  selectPos=s;
  selectEnd=e;
}
