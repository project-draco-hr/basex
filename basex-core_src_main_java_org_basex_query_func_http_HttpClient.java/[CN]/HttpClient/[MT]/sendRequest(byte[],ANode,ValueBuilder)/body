{
  HttpURLConnection conn=null;
  try {
    byte[] mediaType=null;
    HttpRequest req=null;
    boolean body=true;
    byte[] url=href;
    if (request != null) {
      req=new HttpRequestParser(info).parse(request,bodies);
      mediaType=req.attrs.get(OVERRIDE_MEDIA_TYPE);
      final byte[] status=req.attrs.get(STATUS_ONLY);
      if (status != null && Bln.parse(status,info))       body=false;
      if (url == null)       url=req.attrs.get(HREF);
    }
    if (url == null || url.length == 0)     throw HC_URL.get(info);
    conn=connect(string(url),req);
    return new HttpResponse(info,options).getResponse(conn,body,mediaType);
  }
 catch (  final IOException ex) {
    throw HC_ERROR_X.get(info,ex);
  }
 finally {
    if (conn != null)     conn.disconnect();
  }
}
