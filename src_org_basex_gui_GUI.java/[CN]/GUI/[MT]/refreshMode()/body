{
  final Data data=context.data();
  final boolean db=data != null;
  int s=!db ? 2 : GUIProp.searchmode;
  final String mod=s == 2 ? BUTTONCMD : s == 1 ? BUTTONXPATH : BUTTONSEARCH;
  if (!mod.equals(mode.getText())) {
    saveMode();
    input.history(s == 0 ? GUIProp.search : s == 1 ? GUIProp.xpath : GUIProp.commands);
    mode.setText(mod);
    input.setText("");
    input.requestFocusInWindow();
  }
  input.help=s == 0 ? data.deepfs ? HELPSEARCHFS : HELPSEARCHXML : s == 1 ? HELPXPATH : HELPCMD;
  mode.setFocusable(db);
  mode.setRolloverEnabled(db);
}
