{
  final Data data=context.data();
  final boolean db=data != null;
  final int t=mode.getSelectedIndex();
  final int s=!db ? 2 : GUIProp.searchmode;
  input.help=s == 0 ? data.deepfs ? HELPSEARCHFS : HELPSEARCHXML : s == 1 ? HELPXPATH : HELPCMD;
  mode.setEnabled(db);
  exec.setEnabled(s == 2 || !GUIProp.execrt);
  if (s != t) {
    saveMode(t);
    input.history(s == 0 ? GUIProp.search : s == 1 ? GUIProp.xpath : GUIProp.commands);
    mode.setSelectedIndex(s);
    input.setText("");
    input.requestFocusInWindow();
  }
}
