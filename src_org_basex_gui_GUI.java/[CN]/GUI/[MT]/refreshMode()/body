{
  final Data data=context.data();
  final boolean db=data != null;
  final boolean search=db && GUIProp.searchmode;
  final String mod=search ? BUTTONSEARCH : BUTTONCMD;
  if (!mod.equals(mode.getText())) {
    if (search)     GUIProp.commands=input.history();
 else     GUIProp.search=input.history();
    input.history(search ? GUIProp.search : GUIProp.commands);
    mode.setText(mod);
    input.setText("");
    input.requestFocusInWindow();
  }
  input.help=search ? data.deepfs ? HELPSEARCHFS : HELPSEARCHXML : HELPCMD;
  mode.setFocusable(db);
  mode.setRolloverEnabled(db);
}
