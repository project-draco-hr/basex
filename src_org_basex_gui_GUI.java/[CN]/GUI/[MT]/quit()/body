{
  saveMode(context.db() ? GUIProp.searchmode : 2);
  GUIProp.maxstate=getExtendedState() == MAXIMIZED_BOTH;
  if (!GUIProp.maxstate) {
    GUIProp.guiloc[0]=getX();
    GUIProp.guiloc[1]=getY();
    GUIProp.guisize[0]=getWidth();
    GUIProp.guisize[1]=getHeight();
  }
  query.quit();
  context.close();
  Prop.write();
  GUIProp.write();
  dispose();
}
