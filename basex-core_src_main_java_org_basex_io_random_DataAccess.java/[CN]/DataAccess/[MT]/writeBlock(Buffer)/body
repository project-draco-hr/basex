{
  final long pos=buffer.pos;
  raf.seek(pos);
  raf.write(buffer.data,0,(int)Math.min(IO.BLOCKSIZE,length - pos));
  buffer.dirty=false;
}
