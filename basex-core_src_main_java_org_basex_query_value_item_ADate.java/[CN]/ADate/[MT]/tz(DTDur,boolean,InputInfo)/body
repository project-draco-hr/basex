{
  final short t;
  if (spec && tz == null) {
    t=Short.MAX_VALUE;
  }
 else {
    if (tz == null) {
      final Calendar c=Calendar.getInstance();
      t=(short)((c.get(Calendar.ZONE_OFFSET) + c.get(Calendar.DST_OFFSET)) / 60000);
    }
 else {
      t=(short)(tz.min() + tz.hou() * 60);
      if (tz.sec().signum() != 0)       throw ZONESEC.get(ii,tz);
      if (Math.abs(t) > 60 * 14 || tz.day() != 0)       throw INVALZONE.get(ii,tz);
    }
    if (zon != Short.MAX_VALUE)     add(BigDecimal.valueOf(60L * (t - zon)));
  }
  zon=t;
}
