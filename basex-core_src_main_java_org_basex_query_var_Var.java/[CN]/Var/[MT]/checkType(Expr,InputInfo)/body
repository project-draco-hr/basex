{
  final SeqType et=expr.seqType(), vt=seqType();
  if (!checksType() || vt.type.instanceOf(et.type) || et.type.instanceOf(vt.type) && et.occ.instanceOf(vt.occ))   return;
  if (!promote || !(et.type instanceof NodeType) && !et.promotable(vt)) {
    throw (vt.type.nsSensitive() ? NSSENS_X_X : INVCAST_X_X).get(info,et,vt);
  }
}
