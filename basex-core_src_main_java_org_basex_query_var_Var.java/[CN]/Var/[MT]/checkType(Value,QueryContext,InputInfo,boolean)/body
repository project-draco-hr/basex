{
  if (!checksType() || type.instance(val))   return val;
  if (promote)   return type.promote(qc,sc,ii,val,opt,name);
  throw QueryError.treatError(ii,val,type,name);
}
