{
  file=f;
  if (!more())   error(QUERYEMPTY);
  int cp;
  for (int p=0; p < ql; p+=Character.charCount(cp)) {
    cp=query.codePointAt(p);
    if (XMLToken.valid(cp))     continue;
    qp=p;
    error(QUERYINV,query.codePointAt(p));
  }
  return parse(u,true);
}
