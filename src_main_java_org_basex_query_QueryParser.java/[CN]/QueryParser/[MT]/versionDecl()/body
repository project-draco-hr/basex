{
  final int p=qp;
  if (!wsConsumeWs(XQUERY))   return;
  final boolean version=wsConsumeWs(VERSION);
  if (version) {
    final String ver=string(stringLiteral());
    if (ver.equals(XQ10))     ctx.xquery3=false;
 else     if (ver.equals(XQ11) || ver.equals(XQ30))     ctx.xquery3=true;
 else     error(XQUERYVER,ver);
  }
  if ((version || ctx.xquery3) && wsConsumeWs(ENCODING)) {
    final String enc=string(stringLiteral());
    if (!supported(enc))     error(XQUERYENC2,enc);
  }
 else   if (!version) {
    qp=p;
    return;
  }
  wsCheck(";");
}
