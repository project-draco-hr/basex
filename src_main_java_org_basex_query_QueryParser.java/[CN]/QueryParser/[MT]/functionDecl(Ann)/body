{
  final InputInfo ii=info();
  final QNm name=eQName(FUNCNAME,ctx.sc.nsFunc);
  if (keyword(name))   error(RESERVED,name.local());
  if (module != null && !eq(name.uri(),module.uri()))   error(MODNS,name);
  wsCheck(PAR1);
  scope=new VarScope();
  final Var[] args=paramList();
  wsCheck(PAR2);
  final SeqType tp=optAsType();
  if (ann.contains(Ann.Q_UPDATING))   ctx.updating(false);
  if (!wsConsumeWs(EXTERNAL)) {
    final Expr body=enclosed(NOFUNBODY);
    ctx.funcs.declare(ann,name,args,tp,body,ctx.sc,ii,scope);
  }
  scope=null;
}
