{
  if (!wsConsumeWs(SWITCH,PAR1,TYPEPAR))   return null;
  wsCheck(PAR1);
  final Expr expr=check(expr(),NOSWITCH);
  SwitchCase[] exprs={};
  wsCheck(PAR2);
  Expr[] cases;
  do {
    cases=new Expr[1];
    while (wsConsumeWs(CASE))     cases=add(cases,single());
    if (cases.length == 1) {
      if (exprs.length == 0)       error(WRONGCHAR,CASE,found());
      wsCheck(DEFAULT);
    }
    wsCheck(RETURN);
    cases[0]=single();
    exprs=Array.add(exprs,new SwitchCase(input(),cases));
  }
 while (cases.length != 1);
  return new Switch(input(),expr,exprs);
}
