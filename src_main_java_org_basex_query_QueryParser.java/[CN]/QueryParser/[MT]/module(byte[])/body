{
  try {
    Expr expr=null;
    versionDecl();
    if (u == null) {
      final int p=qp;
      if (wsConsumeWs(MODULE,NSPACE,null))       error(MAINMOD);
      qp=p;
      expr=mainModule();
      if (expr == null) {
        if (alter != null)         error();
 else         error(EXPREMPTY);
      }
    }
 else {
      moduleDecl(u);
    }
    return expr;
  }
 catch (  final QueryException ex) {
    mark();
    ex.pos(this);
    throw ex;
  }
}
