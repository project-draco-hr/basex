{
  FTExpr expr=ftPrimary(prg);
  final FTOpt fto=new FTOpt(ctx.context.prop);
  boolean found=false;
  while (ftMatchOption(fto))   found=true;
  FTLexer.checkFTOpt(fto);
  if (consumeWS(WEIGHT))   expr=new FTWeight(input(),expr,enclosed(NOENCLEXPR));
  return found ? new FTOptions(input(),expr,fto) : expr;
}
