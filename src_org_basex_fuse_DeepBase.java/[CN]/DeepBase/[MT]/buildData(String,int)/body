{
  final String dname=basename(path);
  byte[] elem;
  if (isDir(mode))   elem=DIR;
 else   elem=token("unknown");
  MemData m=new MemData(2,data.tags,data.atts,data.ns,data.path);
  int tagID=data.tags.index(elem,null,false);
  int attID=data.atts.index(NAME,null,false);
  int modeID=data.atts.index(MODE,null,false);
  m.addElem(tagID,0,1,3,3,false);
  m.addAtt(attID,0,token(dname),1);
  m.addAtt(modeID,0,token(Integer.toOctalString(mode)),2);
  return m;
}
