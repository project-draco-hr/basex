{
  comp.addMouseListener(new MouseAdapter(){
    @Override public void mouseEntered(    final MouseEvent e){
      focus(comp,hlp);
    }
  }
);
  final boolean dialog=win instanceof Dialog;
  final GUI gui=dialog ? ((Dialog)win).gui : win instanceof GUI ? (GUI)win : null;
  if (dialog) {
    final Dialog d=(Dialog)win;
    comp.addKeyListener(new KeyAdapter(){
      @Override public void keyPressed(      final KeyEvent e){
        if (e.getSource() instanceof BaseXCombo) {
          BaseXCombo c=(BaseXCombo)e.getSource();
          if (c.isPopupVisible())           return;
        }
        final int c=e.getKeyCode();
        if (c == KeyEvent.VK_ENTER) {
          final Object s=e.getSource();
          if (!(s instanceof BaseXButton || s instanceof BaseXText))           d.close();
        }
 else         if (c == KeyEvent.VK_ESCAPE) {
          d.cancel();
        }
      }
    }
);
  }
  if (gui == null)   return;
  comp.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    final KeyEvent e){
      final int c=e.getKeyCode();
      final boolean mod=mod(e);
      if (e.isAltDown() && gui.context.data != null) {
        if (c == KeyEvent.VK_LEFT) {
          GUICommands.GOBACK.execute(gui);
        }
 else         if (c == KeyEvent.VK_RIGHT) {
          GUICommands.GOFORWARD.execute(gui);
        }
 else         if (c == KeyEvent.VK_UP) {
          GUICommands.GOUP.execute(gui);
        }
 else         if (c == KeyEvent.VK_HOME) {
          GUICommands.ROOT.execute(gui);
        }
      }
      if (mod) {
        final int fs=gui.prop.num(GUIProp.FONTSIZE);
        int nfs=fs;
        if (c == '+' || c == '-' || c == '=') {
          nfs=Math.max(1,fs + (c == '-' ? -1 : 1));
        }
 else         if (c == '0') {
          nfs=12;
        }
        if (fs != nfs) {
          gui.prop.set(GUIProp.FONTSIZE,nfs);
          GUIConstants.initFonts(gui.prop);
          gui.notify.layout();
        }
      }
    }
  }
);
}
