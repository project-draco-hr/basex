{
  Nod nodes=item instanceof Nod ? (Nod)item : null;
  if (res == XPathConstants.NODESET || res == XPathConstants.NODE) {
    if (nodes == null)     throw new XPathExpressionException("Result can't be cast to a nodeset");
    if (nodes.size == 0)     return null;
    final Data data=nodes.data;
    return res == XPathConstants.NODESET ? new BXNList(nodes) : new DNode(data,nodes.nodes[0]).java();
  }
  if (nodes != null)   nodes.size=1;
  if (res == XPathConstants.NUMBER)   return Double.valueOf(item.num());
  if (res == XPathConstants.STRING)   return Token.string(item.str());
  return Boolean.valueOf(item.bool());
}
