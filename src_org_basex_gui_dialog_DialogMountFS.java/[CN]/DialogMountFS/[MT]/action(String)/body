{
  final Context ctx=gui.context;
  final String db=choice.getValue().trim();
  final String mp=mountpoint.getText().trim();
  if (BUTTONMOUNT.equals(cmd)) {
    close();
  }
 else {
    ok=db.length() != 0 && ctx.prop.dbpath(db).exists();
    warn.setText(" ");
    warn.setIcon(null);
    if (ok) {
      doc.setText("Mount " + db + ":");
      DataInput in=null;
      try {
        in=new DataInput(ctx.prop.dbfile(db,DATAINFO));
        final MetaData meta=new MetaData(db,in,ctx.prop);
        detail.setText(InfoDB.db(meta,true,true).finish());
        final IO file=IO.get(mp);
        final boolean mpok=mp.length() != 0 && file.exists() && file.isDir();
        if (!mpok) {
          warn.setText(NOVALIDMOUNT);
          warn.setIcon(BaseXLayout.icon("error"));
        }
        ok&=mpok;
      }
 catch (      final IOException ex) {
        detail.setText(Token.token(ex.getMessage()));
        ok=false;
      }
 finally {
        try {
          if (in != null)           in.close();
        }
 catch (        final IOException ex) {
        }
      }
    }
    enableOK(buttons,BUTTONMOUNT,ok);
  }
}
