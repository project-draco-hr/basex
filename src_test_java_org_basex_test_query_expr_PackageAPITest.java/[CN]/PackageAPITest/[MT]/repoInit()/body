{
  final TokenObjMap<TokenSet> nsDict=ctx.repo.nsDict();
  final TokenMap pkgDict=ctx.repo.pkgDict();
  assertEquals(3,nsDict.keys().length);
  assertNotNull(nsDict.get(token("ns1")));
  assertNotNull(nsDict.get(token("ns2")));
  assertNotNull(nsDict.get(token("ns3")));
  TokenSet ts=nsDict.get(token("ns1"));
  assertEquals(ts.size(),2);
  assertTrue(ts.id(token("http://www.pkg1.com-12.0")) != 0);
  assertTrue(ts.id(token("http://www.pkg2.com-10.0")) != 0);
  ts=nsDict.get(token("ns2"));
  assertEquals(ts.size(),1);
  assertTrue(ts.id(token("http://www.pkg1.com-12.0")) != 0);
  ts=nsDict.get(token("ns3"));
  assertEquals(ts.size(),1);
  assertTrue(ts.id(token("http://www.pkg2.com-10.0")) != 0);
  assertEquals(pkgDict.keys().length,2);
  assertNotNull(pkgDict.get(token("http://www.pkg1.com-12.0")));
  assertNotNull(pkgDict.get(token("http://www.pkg2.com-10.0")));
  assertEquals("pkg1",string(pkgDict.get(token("http://www.pkg1.com-12.0"))));
  assertEquals("pkg2",string(pkgDict.get(token("http://www.pkg2.com-10.0"))));
}
