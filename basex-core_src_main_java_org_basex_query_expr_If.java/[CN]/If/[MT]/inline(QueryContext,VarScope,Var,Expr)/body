{
  final Expr sub=cond.inline(ctx,scp,v,e);
  if (sub != null)   cond=sub;
  boolean te=false;
  final int es=expr.length;
  for (int i=0; i < es; i++) {
    Expr nw;
    try {
      nw=expr[i].inline(ctx,scp,v,e);
    }
 catch (    final QueryException qe) {
      nw=FNInfo.error(qe);
    }
    if (nw != null) {
      expr[i]=nw;
      te=true;
    }
  }
  return te || sub != null ? optimize(ctx,scp) : null;
}
