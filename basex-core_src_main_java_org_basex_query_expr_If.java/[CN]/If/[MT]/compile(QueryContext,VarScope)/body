{
  cond=cond.compile(qc,scp);
  final int[] branches=cond.isValue() ? new int[]{branch(qc)} : new int[]{0,1};
  final int bl=branches.length;
  for (int b=0; b < bl; b++) {
    final int e=branches[b];
    try {
      exprs[e]=exprs[e].compile(qc,scp);
    }
 catch (    final QueryException ex) {
      exprs[e]=FnError.get(ex,seqType);
    }
  }
  return optimize(qc,scp);
}
