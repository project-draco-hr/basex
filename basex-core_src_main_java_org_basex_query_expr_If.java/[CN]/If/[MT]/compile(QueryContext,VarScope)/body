{
  cond=cond.compile(qc,scp);
  final int[] branches=cond.isValue() ? new int[]{branch(qc)} : new int[]{0,1};
  for (  final int b : branches) {
    try {
      exprs[b]=exprs[b].compile(qc,scp);
    }
 catch (    final QueryException ex) {
      exprs[b]=FnError.get(ex,seqType);
    }
  }
  return optimize(qc,scp);
}
