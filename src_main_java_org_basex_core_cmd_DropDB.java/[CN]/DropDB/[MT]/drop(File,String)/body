{
  boolean ok=path.exists();
  final File[] files=path.listFiles();
  if (files != null) {
    for (    final File sub : files) {
      ok&=sub.isDirectory() ? drop(sub,pat) : pat != null && !sub.getName().matches(pat) || sub.delete();
    }
  }
  return (pat != null || path.delete()) && ok;
}
