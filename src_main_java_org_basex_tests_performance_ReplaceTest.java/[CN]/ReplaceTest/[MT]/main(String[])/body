{
  System.out.println("=== ReplaceTest ===");
  new Set(Prop.TEXTINDEX,false).execute(CONTEXT);
  new Set(Prop.ATTRINDEX,false).execute(CONTEXT);
  final Performance perf=new Performance();
  System.out.println("\n* Create test database.");
  Command cmd=new CreateDB("test","<X><A/><A/></X>");
  cmd.execute(CONTEXT);
  System.out.print(cmd.info());
  cmd=new XQuery("for $a in //A " + "return replace value of node $a with '01234567890.12345678'");
  cmd.execute(CONTEXT);
  long len1=CONTEXT.data.meta.dbfile(DataText.DATATXT).length();
  new Set(Prop.FORCEFLUSH,false).execute(CONTEXT);
  final Random rnd=new Random();
  for (int i=0; i < NQUERIES; i++) {
    final double d=rnd.nextDouble();
    cmd=new XQuery("for $a in //A return replace node $a/text() with " + d);
    cmd.execute(CONTEXT);
  }
  new Set(Prop.FORCEFLUSH,true).execute(CONTEXT);
  cmd=new XQuery("for $a in //A " + "return replace value of node $a with '01234567890.12345678'");
  cmd.execute(CONTEXT);
  System.out.print("\n* Old vs. new size... ");
  long len2=CONTEXT.data.meta.dbfile(DataText.DATATXT).length();
  System.out.println(len1 + " vs. " + len2);
  System.out.println("\n* Drop test database.");
  cmd=new DropDB("test");
  System.out.print(cmd.info());
  CONTEXT.close();
  System.out.println("\n* Time: " + perf);
}
