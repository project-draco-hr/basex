{
  final Data data=context.data();
  final CmdIndex ci=getOption(CmdIndex.class);
  final IndexType type;
  if (ci == CmdIndex.TEXT) {
    data.meta.createtext=false;
    type=IndexType.TEXT;
  }
 else   if (ci == CmdIndex.ATTRIBUTE) {
    data.meta.createattr=false;
    type=IndexType.ATTRIBUTE;
  }
 else   if (ci == CmdIndex.FULLTEXT) {
    if (data.inMemory())     return error(NO_MAINMEM);
    data.meta.createftxt=false;
    type=IndexType.FULLTEXT;
  }
 else {
    return error(UNKNOWN_CMD_X,this);
  }
  if (!startUpdate())   return false;
  try {
    return drop(type,data) ? info(INDEX_DROPPED_X_X,type,perf) : error(INDEX_NOT_DROPPED_X,type);
  }
  finally {
    if (!finishUpdate())     return false;
  }
}
