{
  super.compile(ctx);
  checkType();
  if (expr.isValue())   return preEval(ctx);
  final Type t=type.type;
  if ((t == AtomType.BLN || t == AtomType.FLT || t == AtomType.DBL || t == AtomType.QNM || t == AtomType.URI) && expr.type().eq(type)) {
    optPre(expr,ctx);
    return expr;
  }
  return this;
}
