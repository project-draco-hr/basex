{
  super.compile(ctx);
  if (args[0] instanceof LocPathAbs) {
    final LocPathAbs path=(LocPathAbs)args[0];
    final Steps steps=path.steps;
    if (steps.size() == 1) {
      final Step step=steps.get(0);
      final int nameID=step.simpleName(Axis.DESC,true);
      if (nameID != Integer.MIN_VALUE) {
        ctx.compInfo(OPTFUNC,desc);
        return new Num(ctx.item.data.tags.counter(nameID));
      }
    }
 else     if (steps.size() == 2) {
      Step step=steps.get(0);
      final int name1=step.simpleName(Axis.CHILD,true);
      if (name1 != Integer.MIN_VALUE) {
        step=steps.get(1);
        final int name2=step.simpleName(Axis.DESC,true);
        if (name2 != Integer.MIN_VALUE) {
          ctx.compInfo(OPTFUNC,desc);
          return new Num(ctx.item.data.tags.counter(name2) - (name1 == name2 ? 1 : 0));
        }
      }
    }
  }
  if (args[0] instanceof Item) {
    ctx.compInfo(OPTFUNC,desc);
    return args[0] instanceof NodeSet ? new Num(((NodeSet)args[0]).nodes.length) : Num.ONE;
  }
  return this;
}
