{
  super.compile(ctx);
  if (args[0] instanceof LocPathAbs) {
    if (!ctx.item.data.tags.uptodate)     return this;
    final LocPathAbs path=(LocPathAbs)args[0];
    final Steps steps=path.steps;
    if (steps.size() > 2)     return this;
    final Names tags=ctx.item.data.tags;
    if (!tags.uptodate)     return this;
    int num=0;
    if (steps.size() == 1) {
      final int n1=steps.get(0).simpleName(Axis.DESC,true);
      if (n1 == Integer.MIN_VALUE)       return this;
      num=tags.counter(n1);
    }
 else {
      final int n1=steps.get(0).simpleName(Axis.CHILD,true);
      if (n1 == Integer.MIN_VALUE)       return this;
      final int n2=steps.get(1).simpleName(Axis.DESC,true);
      if (n2 == Integer.MIN_VALUE)       return this;
      num=tags.counter(n2) - (n1 == n2 ? 1 : 0);
    }
    ctx.compInfo(OPTFUNC,desc);
    return new Num(num);
  }
  if (args[0] instanceof Item) {
    ctx.compInfo(OPTFUNC,desc);
    return args[0] instanceof NodeSet ? new Num(((NodeSet)args[0]).nodes.length) : Num.ONE;
  }
  return this;
}
