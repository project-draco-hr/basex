{
  final Iter iter=arg[0];
  SeqIter seq=new SeqIter();
  Item i;
switch (func) {
case INDEXOF:
    Item it=arg[1].atomic(this,false);
  if (arg.length == 3)   checkColl(arg[2]);
return indexOf(iter,it);
case DISTINCT:
if (arg.length == 2) checkColl(arg[1]);
return distinctPipelined(iter);
case INSBEF:
final Iter sub=arg[2];
long r=Math.max(1,checkItr(arg[1]));
while ((i=iter.next()) != null) {
if (--r == 0) seq.add(sub);
seq.add(i.iter());
}
if (r > 0) seq.add(sub);
return seq;
case REVERSE:
if (iter instanceof RangeIter) {
((RangeIter)iter).reverse();
return iter;
}
while ((i=iter.next()) != null) seq.insert(i,0);
return seq;
case REMOVE:
final long pos=checkItr(arg[1]);
return remove(iter,pos);
case SUBSEQ:
final long start=checkItr(arg[1]);
final long end=arg.length > 2 ? start + checkItr(arg[2]) : Long.MAX_VALUE;
return subseq(iter,start,end);
case DEEPEQ:
return Bln.get(deep(arg)).iter();
default :
throw new RuntimeException("Not defined: " + func);
}
}
