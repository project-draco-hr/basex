{
  if (ret == null || ret.instance(val))   return val;
  if (param)   return ret.promote(val,ctx,ii);
  throw Err.XPTYPE.thrw(ii,val.description(),ret,val.type());
}
