{
  if (declared != null && t != null && declared.intersect(t) == null)   throw Err.XPTYPE.thrw(ii,this,declared,t);
  if (t != null && !inType.eq(t) && !inType.instanceOf(t)) {
    final SeqType is=inType.intersect(t);
    if (is != null) {
      inType=is;
      if (declared != null && inType.instanceOf(declared)) {
        ctx.compInfo(QueryText.OPTCAST,this);
        declared=null;
      }
    }
  }
}
