{
  super(true,view.gui);
  this.view=view;
  this.file=file;
  label=new BaseXLabel(file.name());
  label.setIcon(BaseXImages.file(new IOFile(IO.XQSUFFIX)));
  setSyntax(file,false);
  addFocusListener(new FocusAdapter(){
    @Override public void focusGained(    final FocusEvent e){
      final IOFile f=EditorArea.this.file;
      gui.context.options.set(MainOptions.QUERYPATH,f.path());
      gui.gopts.set(GUIOptions.WORKPATH,f.dir());
      SwingUtilities.invokeLater(new Runnable(){
        @Override public void run(){
          reopen(false);
        }
      }
);
    }
  }
);
}
