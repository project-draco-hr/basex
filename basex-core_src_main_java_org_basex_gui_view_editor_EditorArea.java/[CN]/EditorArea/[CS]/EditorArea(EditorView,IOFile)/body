{
  super(true,v.gui);
  view=v;
  file=f;
  label=new BaseXLabel(f.name());
  label.setIcon(BaseXImages.file(new IOFile(IO.XQSUFFIX)));
  setSyntax(f,false);
  addFocusListener(new FocusAdapter(){
    @Override public void focusGained(    final FocusEvent e){
      final String path=file.path();
      gui.context.options.set(MainOptions.QUERYPATH,path);
      gui.gopts.set(GUIOptions.WORKPATH,file.dirPath());
      SwingUtilities.invokeLater(new Runnable(){
        @Override public void run(){
          if (reopen(false))           return;
          if (view.errFile == null || file.eq(view.errFile))           release(Action.PARSE);
        }
      }
);
    }
  }
);
}
