{
  final int[] lc={1,1};
  for (int i=0, ch; i < pos; i+=Character.charCount(ch)) {
    ch=query.codePointAt(i);
    if (ch == '\n') {
      lc[0]++;
      lc[1]=1;
    }
 else     if (ch != '\r') {
      lc[1]++;
    }
  }
  return lc;
}
