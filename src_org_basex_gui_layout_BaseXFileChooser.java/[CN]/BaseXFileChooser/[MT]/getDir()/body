{
  if (fd != null)   return fd.getDirectory();
  return mode == DIR ? getFile() : fc.getCurrentDirectory().getPath();
}
