{
  if (fd != null)   return fd.getDirectory();
  return mode == Mode.DIR ? getFile().path() : fc.getCurrentDirectory().getPath();
}
