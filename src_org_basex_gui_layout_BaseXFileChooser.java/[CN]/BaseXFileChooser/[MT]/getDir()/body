{
  if (fd != null)   return fd.getDirectory();
  return mode == DIR ? getFile().path() : fc.getCurrentDirectory().getPath();
}
