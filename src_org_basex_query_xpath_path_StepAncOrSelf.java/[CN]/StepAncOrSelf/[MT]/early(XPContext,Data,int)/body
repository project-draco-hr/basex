{
  final int[] pos=new int[preds.size()];
  int pre=p;
  do {
    final int kind=data.kind(pre);
    if (test.eval(data,pre,kind)) {
      if (!preds.earlyEval(ctx,result,pre,pos))       return;
    }
    pre=data.parent(pre,kind);
  }
 while (pre != -1);
}
