{
  if (dirty) {
    file.seek((long)block << BLOCKPOWER);
    file.write(buffer);
    dirty=false;
  }
}
