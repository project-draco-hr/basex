{
  current=func;
  final QueryContext qctx=proc.proc(new QueryContext(ctx));
  qctx.listen=proc.listen;
  try {
    qctx.parse(input,file.path(),null);
    final MainModule mm=MainModule.get(func,new Expr[0]);
    qctx.mainModule(mm);
    qctx.compile();
    final Iter iter=qctx.iter();
    while (iter.next() != null)     throw UNIT_EMPTY.get(null,func.name.local());
  }
  finally {
    proc.proc(null);
    qctx.close();
  }
}
