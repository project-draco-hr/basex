{
  int s=size;
  if (s == ch.length) {
    final NSNode[] tmp=new NSNode[Math.max(s << 1,1)];
    System.arraycopy(ch,0,tmp,0,s);
    ch=tmp;
  }
  while (--s >= 0 && n.pre - ch[s].pre <= 0)   ;
  System.arraycopy(ch,++s,ch,s + 1,size++ - s);
  ch[s]=n;
  n.par=this;
  return n;
}
