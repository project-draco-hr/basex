{
  final XQuery query=new XQuery("\n" + "      \tfor $b in //book \n" + "      \tlet $e := $b/*[contains(string(.), \"Suciu\") and ends-with(local-name(.), \"or\")] \n"+ "      \twhere exists($e) \n"+ "      \treturn <book> { $b/title } { $e } </book>\n"+ "      ",ctx);
  query.context(node(file("docs/bib.xml")));
  final QT3Result res=result(query);
  result=res;
  test(assertSerialization("<book><title>Data on the Web</title><author><last>Suciu</last><first>Dan</first></author></book>",false));
}
