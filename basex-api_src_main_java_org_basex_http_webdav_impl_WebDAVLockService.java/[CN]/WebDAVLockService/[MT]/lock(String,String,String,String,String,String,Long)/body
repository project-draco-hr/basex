{
  initLockDb();
  final String token=UUID.randomUUID().toString();
  new LockQuery(http,"declare variable $path         external;" + "declare variable $lock-token   external;" + "declare variable $lock-scope   external;"+ "declare variable $lock-type    external;"+ "declare variable $lock-depth   external;"+ "declare variable $lock-owner   external;"+ "declare variable $lock-timeout external;"+ "w:create-lock("+ "$path,"+ "$lock-token,"+ "$lock-scope,"+ "$lock-type,"+ "$lock-depth,"+ "$lock-owner,"+ "$lock-timeout)").bind("path",db + SEP + p).bind("lock-token",token).bind("lock-scope",scope).bind("lock-type",type).bind("lock-depth",depth).bind("lock-owner",user).bind("lock-timeout",timeout == null ? Long.MAX_VALUE : timeout).execute();
  return token;
}
