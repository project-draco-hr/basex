{
  if (it.type == Type.STR)   ((Str)it).direct=false;
  if (type == null)   return it;
  if (!global) {
    if (type.occ < 2 && !it.type.instance(type.type))     Err.or(XPINVCAST,it.type,type,it);
  }
  return type.cast(it,ctx);
}
