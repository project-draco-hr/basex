{
  if (e != null) {
    final Object source=e.getSource();
    int cp=0;
    final int cs=panel.getComponentCount();
    for (int c=0; c < cs; ++c)     if (panel.getComponent(c) == source)     cp=c;
    if ((cp & 1) == 0) {
      final BaseXCombo combo=(BaseXCombo)source;
      panel.remove(cp + 1);
      final Data data=gui.context.data();
      final boolean selected=combo.getSelectedIndex() != 0;
      if (selected) {
        final String item=combo.getSelectedItem();
        final boolean att=item.startsWith("@");
        final Names names=att ? data.attrNames : data.elemNames;
        final byte[] key=Token.token(att ? item.substring(1) : item);
        final Stats stat=names.stat(names.id(key));
switch (stat.type) {
case INTEGER:
          addSlider(stat.min,stat.max,cp + 1,true);
        break;
case DOUBLE:
      addSlider(stat.min,stat.max,cp + 1,false);
    break;
case CATEGORY:
  addCombo(entries(new TokenList(stat.cats)),cp + 1);
break;
case TEXT:
addInput(cp + 1);
break;
case NONE:
panel.add(new BaseXLabel(""),cp + 1);
break;
}
}
 else {
panel.add(new BaseXLabel(""),cp + 1);
}
while (cp + 2 < panel.getComponentCount()) {
panel.remove(cp + 2);
panel.remove(cp + 2);
}
if (selected) addKeys(data);
panel.revalidate();
panel.repaint();
}
}
query(false);
}
