{
  final int d=path.getDepth();
  final String name=path.getResource(d - 1);
  final StringBuilder target=new StringBuilder();
  for (int i=1; i < d - 1; i++) {
    target.append('/').append(path.getResource(i));
  }
  try {
    session.add(name,target.toString(),input);
  }
 catch (  final BaseXException ex) {
    throw new JaxRxException(400,ex.getMessage());
  }
}
