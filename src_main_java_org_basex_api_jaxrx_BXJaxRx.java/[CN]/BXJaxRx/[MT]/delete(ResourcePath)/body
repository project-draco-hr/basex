{
  return new BXCode(rp){
    @Override String code(){
      final boolean root=rp.getDepth() == 1;
      try {
        if (root) {
          cs.execute(new DropDB(db(rp)));
        }
 else {
          cs.execute(new Open(db(rp)));
          cs.execute(new Delete(path(rp)));
        }
        return cs.info();
      }
 catch (      final BaseXException ex) {
        if (root)         throw new JaxRxException(ex);
        throw new JaxRxException(404,ex.getMessage());
      }
    }
  }
.run();
}
