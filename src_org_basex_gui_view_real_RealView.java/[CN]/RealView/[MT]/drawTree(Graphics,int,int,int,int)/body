{
  final Data data=GUI.context.data();
  DirIterator iterator=new DirIterator(data,root);
  int level=lv + 1;
  int nodetype=Data.ELEM;
  int rootsize=data.size(root,nodetype);
  int pre;
  int space=framex1;
  while (iterator.more()) {
    pre=iterator.next();
    if (data.kind(pre) == nodetype) {
      double percent=(double)(data.size(pre,nodetype) + 1) / (double)rootsize;
      int childframewidth=(int)((framex2 - framex1) * percent);
      space+=childframewidth;
      pointerx=space / 2;
      pointery=20 + level * lvdistance;
      drawNode(g,pre,pointerx,pointery,elementColor);
      drawTree(g,pre,level,pointerx - space / 2,space);
    }
  }
}
