{
  final Data data=GUI.context.data();
  final DirIterator iterator=new DirIterator(data,root);
  final int level=lv + 1;
  final int nodetype=Data.ELEM;
  int rootsize=data.size(root,nodetype);
  int pre;
  int border=frameleft;
  int sizeleft=space;
  int childframewidth=-1;
  while (iterator.more()) {
    pre=iterator.next();
    if (data.kind(pre) == nodetype) {
      final double percent=(double)(data.size(pre,nodetype) + 1) / (double)rootsize;
      childframewidth=(int)(sizeleft * percent);
      pointerx=border + childframewidth / 2;
      pointery=topdistance + level * lvdistance;
      drawNode(g,pre,pointerx,pointery,elementColor);
      drawTree(g,pre,level,border,childframewidth);
      border+=childframewidth;
      rootsize=rootsize - data.size(pre,nodetype) + 1;
      sizeleft=sizeleft - childframewidth;
    }
  }
}
