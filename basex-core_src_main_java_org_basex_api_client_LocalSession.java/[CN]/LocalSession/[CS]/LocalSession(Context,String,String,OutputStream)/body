{
  this(context,output);
  final User user=ctx.users.get(username);
  if (user == null || !user.matches(password))   throw new LoginException();
  ctx.user(user);
}
