{
  expr=expr.comp(ctx);
  if (expr instanceof LocPath) {
    ((LocPath)expr).addPosPred(ctx);
    return this;
  }
  if (expr instanceof Dbl)   expr=Pos.create(((Dbl)expr).num(),Comp.EQ);
  if (expr instanceof And) {
    final ExprInfoList eil=new ExprInfoList();
    final And o=(And)expr;
    for (int i=0; i < o.expr.length; i++)     eil.add(o.expr[i],true);
    if (eil.size > 0 && eil.size < o.expr.length) {
      Expr[] e=eil.finishE();
      if (e.length == 1)       expr=e[0];
 else       o.expr=eil.finishE();
      ctx.compInfo(OPTSUMPREDS);
    }
  }
  if (expr instanceof Or) {
    final ExprInfoList eil=new ExprInfoList();
    final Or o=(Or)expr;
    for (int i=0; i < o.expr.length; i++)     eil.add(o.expr[i],false);
    if (eil.size > 0 && eil.size < o.expr.length) {
      Expr[] e=eil.finishE();
      if (e.length == 1)       expr=e[0];
 else       o.expr=eil.finishE();
      ctx.compInfo(OPTSUMPREDS);
    }
  }
  final Pred pred=PredPos.create(expr);
  return pred != null ? pred : this;
}
