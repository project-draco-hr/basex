{
  super(args);
  set(DBHOST,context.prop.get(Prop.HOST));
  set(DBPORT,Integer.toString(context.prop.num(Prop.SERVERPORT)));
  final HttpManager m=new HttpManager(new BXResourceFactory());
  final Handler h=new AbstractHandler(){
    @SuppressWarnings("unused") @Override public void handle(    final String target,    final HttpServletRequest request,    final HttpServletResponse response,    final int dispatch) throws IOException, ServletException {
      final Request req=new BXServletRequest(request);
      final Response res=new BXServletResponse(response);
      try {
        m.process(req,res);
      }
  finally {
        res.getOutputStream().flush();
        response.flushBuffer();
      }
    }
  }
;
  final String p=System.getProperty(WEBDAVPORT);
  final int port=p == null ? 8985 : Integer.parseInt(p);
  jetty=new Server(port);
  jetty.setHandler(h);
  try {
    jetty.start();
  }
 catch (  Exception ex) {
    Util.server(ex);
  }
}
