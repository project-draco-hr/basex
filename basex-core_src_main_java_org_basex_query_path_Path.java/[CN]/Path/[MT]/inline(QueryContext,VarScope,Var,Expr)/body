{
  boolean changed=false;
  if (root != null) {
    final Expr rt=root.inline(qc,scp,v,e);
    if (rt != null) {
      root=rt;
      changed=true;
    }
  }
  final int sl=steps.length;
  for (int s=0; s < sl; s++) {
    final Expr nw=steps[s].inline(qc,scp,v,e);
    if (nw != null) {
      steps[s]=nw;
      changed=true;
    }
  }
  return changed ? optimize(qc,scp) : null;
}
