{
  super(view.gui);
  history(view.gui,GUIOptions.FILTERS);
  project=view;
  addKeyListener(new KeyAdapter(){
    @Override public void keyReleased(    final KeyEvent e){
      final String pattern=getText().trim();
      if (last.equals(pattern))       return;
      last=pattern;
      final Component oldView=view.scroll.getViewport().getView(), newView;
      if (pattern.isEmpty()) {
        newView=view.tree;
      }
 else {
        newView=view.list;
        final Thread t=new Thread(){
          @Override public void run(){
            filter(pattern);
          }
        }
;
        t.setDaemon(true);
        t.start();
      }
      if (oldView != newView)       view.scroll.setViewportView(newView);
    }
    @Override public void keyTyped(    final KeyEvent e){
      if (BaseXKeys.ENTER.is(e))       view.list.open();
    }
  }
);
}
