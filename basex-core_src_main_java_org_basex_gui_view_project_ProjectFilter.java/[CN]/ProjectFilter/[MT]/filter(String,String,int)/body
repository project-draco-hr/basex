{
  while (running) {
    Thread.yield();
    if (threadID != thread)     return;
  }
  running=true;
  files.setCursor(CURSORWAIT);
  contents.setCursor(CURSORWAIT);
  init(thread);
  final TokenSet matches=new TokenSet();
  final IntList il=new IntList();
  final TokenParser tp=new TokenParser(Token.token(content));
  while (tp.more())   il.add(Token.lc(tp.next()));
  if (filter(pattern,il.toArray(),thread,matches)) {
    project.list.setElements(matches,content.isEmpty() ? null : content);
  }
  files.setCursor(CURSORTEXT);
  contents.setCursor(CURSORTEXT);
  running=false;
}
