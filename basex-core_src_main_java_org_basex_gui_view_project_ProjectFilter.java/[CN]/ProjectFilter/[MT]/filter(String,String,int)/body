{
  while (running()) {
    Thread.yield();
    if (threadID != thread)     return;
  }
  running=true;
  files.setCursor(CURSORWAIT);
  contents.setCursor(CURSORWAIT);
  init(thread);
  final TokenSet results=new TokenSet();
  final IntList il=new IntList();
  final TokenParser tp=new TokenParser(Token.token(content));
  while (tp.more())   il.add(Token.lc(tp.next()));
  if (filter(file,il.finish(),thread,results)) {
    project.list.setElements(results,content.isEmpty() ? null : content);
  }
  files.setCursor(CURSORTEXT);
  contents.setCursor(CURSORTEXT);
  running=false;
}
