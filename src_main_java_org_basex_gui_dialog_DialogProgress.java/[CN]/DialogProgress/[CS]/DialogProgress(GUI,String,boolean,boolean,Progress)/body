{
  super(main,msg,false);
  info=new BaseXLabel(" ",true,true);
  set(info,BorderLayout.NORTH);
  if (!pb) {
    BaseXLayout.setWidth(info,500);
    bar=null;
    ww=0;
  }
 else {
    ww=320;
    bar=new JProgressBar(0,ww);
    bar.setPreferredSize(new Dimension(ww,16));
    set(bar,BorderLayout.CENTER);
  }
  final BaseXBack s=new BaseXBack(new BorderLayout()).border(10,0,0,0);
  final BaseXBack m=new BaseXBack(new TableLayout(1,2,5,0));
  mem=new BaseXMem(this,false);
  m.add(new BaseXLabel(MEMUSED));
  m.add(mem);
  s.add(m,BorderLayout.WEST);
  if (cnc)   s.add(new BaseXButton(BUTTONCANCEL,this),BorderLayout.EAST);
  set(s,BorderLayout.SOUTH);
  finish(null);
  prog=prg;
  Performance.gc(1);
  timer.start();
}
