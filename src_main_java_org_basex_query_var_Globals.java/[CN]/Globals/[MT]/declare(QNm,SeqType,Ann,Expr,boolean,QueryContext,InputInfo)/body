{
  final GlobalVar var=globals.get(nm);
  if (var != null) {
    if (var.declared)     throw Err.VARDEFINE.thrw(ii,var);
    var.declared=true;
    if (a != null)     for (int i=a.size(); --i >= 0; )     var.ann.add(a.names[i],a.values[i]);
    var.refineType(t);
    if (e != null && (var.expr() == null || !ext))     var.bind(e,ctx);
    return var;
  }
  return addGlobal(ii,a,nm,t,e,true);
}
