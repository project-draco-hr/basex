{
  try {
    final XQueryProcessor proc=new XQueryProcessor(query);
    for (    final String n : ns.keySet()) {
      final QNm name=new QNm(token(n),Uri.uri(token(ns.get(n))));
      proc.ctx.ns.add(name);
    }
    return new BXResourceSet(proc.query(nodes),coll);
  }
 catch (  final QueryException ex) {
    throw new XMLDBException(ErrorCodes.VENDOR_ERROR,ex.getMessage());
  }
}
