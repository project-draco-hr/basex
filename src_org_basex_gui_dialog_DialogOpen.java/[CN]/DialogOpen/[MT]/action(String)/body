{
  if (BUTTONRENAME.equals(cmd)) {
    new DialogRename(GUI.get(),choice.getValue());
    choice.setData(List.list().finish());
  }
 else   if (BUTTONOPEN.equals(cmd)) {
    close();
  }
 else   if (BUTTONDROP.equals(cmd)) {
    final String db=choice.getValue();
    if (db.length() == 0)     return;
    if (JOptionPane.showConfirmDialog(this,BaseX.info(DROPCONF,db),DIALOGINFO,JOptionPane.YES_NO_OPTION) == JOptionPane.YES_OPTION) {
      DropDB.drop(db);
      choice.setData(List.list().finish());
      choice.requestFocusInWindow();
    }
  }
 else {
    final String db=choice.getValue().trim();
    ok=db.length() != 0 && IO.dbpath(db).exists();
    if (ok)     doc.setText(db);
    BaseXLayout.enableOK(buttons,BUTTONDROP,ok);
    if (ok) {
      DataInput in=null;
      try {
        in=new DataInput(db,DATAINFO);
        final MetaData meta=new MetaData(db);
        meta.read(in);
        detail.setText(InfoDB.db(meta,false,true));
      }
 catch (      final IOException ex) {
        detail.setText(Token.token(ex.getMessage()));
        ok=false;
      }
 finally {
        try {
          if (in != null)           in.close();
        }
 catch (        final IOException e) {
        }
      }
    }
    BaseXLayout.enableOK(buttons,BUTTONOPEN,ok);
    BaseXLayout.enableOK(buttons,BUTTONRENAME,ok);
  }
}
