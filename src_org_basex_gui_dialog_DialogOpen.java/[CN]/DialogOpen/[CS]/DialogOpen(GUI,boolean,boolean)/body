{
  super(main,dr ? DROPTITLE : fs ? OPENDQETITLE : OPENTITLE);
  final StringList db=fs ? List.listFS(main.context) : List.list(main.context);
  choice=new BaseXListChooser(db.finish(),this);
  set(choice,BorderLayout.CENTER);
  choice.setSize(130,420);
  final BaseXBack info=new BaseXBack();
  info.setLayout(new BorderLayout());
  info.setBorder(new CompoundBorder(new EtchedBorder(),new EmptyBorder(10,10,10,10)));
  doc=new BaseXLabel(DIALOGINFO);
  doc.setFont(getFont().deriveFont(18f));
  doc.setBorder(0,0,5,0);
  info.add(doc,BorderLayout.NORTH);
  detail=new BaseXText(false,this);
  detail.setFont(getFont());
  detail.setBorder(new EmptyBorder(5,5,5,5));
  BaseXLayout.setWidth(detail,420);
  info.add(detail,BorderLayout.CENTER);
  final BaseXBack pp=new BaseXBack();
  pp.setBorder(new EmptyBorder(0,12,0,0));
  pp.setLayout(new BorderLayout());
  pp.add(info,BorderLayout.CENTER);
  wth=new BaseXCheckBox(WTHROUGH,false,this);
  wth.setBorder(new EmptyBorder(4,4,0,0));
  wth.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      action(null);
    }
  }
);
  final BaseXBack p=new BaseXBack();
  p.setLayout(new BorderLayout());
  if (fs)   p.add(wth,BorderLayout.WEST);
  rename=new BaseXButton(BUTTONRENAME,this);
  open=new BaseXButton(BUTTONOPEN,this);
  drop=new BaseXButton(BUTTONDROP,this);
  if (dr) {
    buttons=newButtons(this,new Object[]{drop,BUTTONCANCEL});
  }
 else {
    buttons=newButtons(this,new Object[]{rename,open,BUTTONCANCEL});
  }
  p.add(buttons,BorderLayout.EAST);
  pp.add(p,BorderLayout.SOUTH);
  set(pp,BorderLayout.EAST);
  action(null);
  if (db.size() == 0)   return;
  finish(null);
}
