{
  final int l=tok.length;
  final byte[][] split=new byte[l][];
  int s=0;
  final TokenBuilder sb=new TokenBuilder();
  for (int i=0; i < l; i++) {
    final byte c=tok[i];
    if (c == sep) {
      if (sb.size() != 0) {
        split[s++]=sb.finish();
        sb.reset();
      }
    }
 else {
      sb.add(c);
    }
  }
  if (sb.size() != 0)   split[s++]=sb.finish();
  return Arrays.copyOf(split,s);
}
