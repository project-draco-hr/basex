{
  final StringBuilder sb=new StringBuilder(text.length());
  for (  final char c : text.toCharArray()) {
switch (c) {
case '&':
      sb.append("&amp;");
    break;
case '>':
  sb.append("&gt;");
break;
case '<':
sb.append("&lt;");
break;
case '\"':
sb.append("&quot;");
break;
case '\'':
sb.append("&apos;");
break;
case '{':
sb.append("{{");
break;
case '}':
sb.append("}}");
break;
default :
sb.append(c);
}
}
return sb.toString();
}
