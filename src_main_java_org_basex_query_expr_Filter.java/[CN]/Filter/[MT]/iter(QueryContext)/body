{
  if (direct) {
    final Item it=pred[0].ebv(ctx,input);
    final long l=it.itr(input);
    final Expr e=Pos.get(l,l,input);
    return l != it.dbl(input) || e == Bln.FALSE ? Iter.EMPTY : new IterPred(input,root,pred,(Pos)e,false).iter(ctx);
  }
  final Iter iter=ctx.iter(root);
  final Value cv=ctx.value;
  final long cs=ctx.size;
  final long cp=ctx.pos;
  final ItemIter ir=new ItemIter();
  Item i;
  while ((i=iter.next()) != null)   ir.add(i);
  for (  final Expr p : pred) {
    ctx.size=ir.size();
    ctx.pos=1;
    int c=0;
    final long sl=ir.size();
    for (int s=0; s < sl; s++) {
      ctx.value=ir.item[s];
      if (p.test(ctx,input) != null)       ir.item[c++]=ir.item[s];
      ctx.pos++;
    }
    ir.size(c);
  }
  ctx.value=cv;
  ctx.size=cs;
  ctx.pos=cp;
  return ir;
}
