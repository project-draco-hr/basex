{
  super(args);
  session();
  try {
    for (int i=0; i < ops.size(); i+=2) {
      final String key=ops.get(i);
      final String val=ops.get(i + 1);
      if (key.equals("c")) {
        execute(val);
      }
 else       if (key.equals("C")) {
        final IO io=IO.get(val);
        if (!io.exists())         throw new BaseXException(FILE_NOT_FOUND_X,val);
        final NewlineInput nli=new NewlineInput(io);
        try {
          for (String line; (line=nli.readLine()) != null; ) {
            final String l=line.trim();
            if (!l.isEmpty() && !l.startsWith("#"))             execute(l);
          }
        }
  finally {
          nli.close();
        }
      }
 else       if (key.equals("f")) {
        final IO io=IO.get(val);
        if (!io.exists())         throw new BaseXException(FILE_NOT_FOUND_X,val);
        final String query=Token.string(new NewlineInput(io).content()).trim();
        execute(new Set(Prop.QUERYPATH,io.path()),false);
        execute(new XQuery(query),verbose);
      }
 else       if (key.equals("i")) {
        final boolean mem=IO.get(val) instanceof IOContent;
        execute(new Set(Prop.MAINMEM,mem),false);
        execute(new Check(val),verbose);
        execute(new Set(Prop.MAINMEM,false),false);
      }
 else       if (key.equals("q")) {
        execute(new XQuery(val),verbose);
      }
    }
    if (console) {
      Util.outln(CONSOLE + TRY_MORE_X,sa() ? LOCALMODE : CLIENTMODE);
      console();
    }
    if (writeProps)     context.mprop.write();
  }
  finally {
    quit();
  }
}
