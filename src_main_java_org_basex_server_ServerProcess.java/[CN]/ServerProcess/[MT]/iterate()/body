{
  String input=in.readString();
  QueryProcessor processor=new QueryProcessor(input,context);
  try {
    Iter iter=processor.iter();
    XMLSerializer serializer=new XMLSerializer(out);
    Item item;
    while ((item=iter.next()) != null) {
      item.serialize(serializer);
    }
    out.write(0);
    out.print("DONE");
    out.write(0);
    send(true);
    serializer.close();
    processor.close();
  }
 catch (  QueryException ex) {
    log.write(this,input,INFOERROR + ex.extended());
    out.write(0);
    out.print(ex.extended());
    out.write(0);
    send(false);
  }
}
