{
  ctx=c;
  processor=new QueryProcessor(s,ctx);
  serializer=new XMLSerializer(out);
  updating=processor.ctx.updating;
  ctx.sema.before(updating);
  try {
    iter=processor.iter();
    out.print(String.valueOf(id));
    send(true);
    startTimer();
  }
 catch (  final QueryException ex) {
    ctx.sema.after(updating);
    serverProc.log.write(this,s,INFOERROR + ex.extended());
    out.print(String.valueOf(0));
    send(true);
    out.print(ex.extended());
    send(true);
    serverProc.queries.remove(this);
  }
}
