{
  final Data data=context.data;
  if (data instanceof MemData)   return error(PROCMM);
  try {
    IndexType index=null;
switch (getOption(CmdIndex.class)) {
case TEXT:
      data.meta.txtindex=true;
    index=IndexType.TEXT;
  break;
case ATTRIBUTE:
data.meta.atvindex=true;
index=IndexType.ATTRIBUTE;
break;
case FULLTEXT:
data.meta.ftxindex=true;
data.meta.wildcards=prop.is(Prop.WILDCARDS);
data.meta.stemming=prop.is(Prop.STEMMING);
data.meta.casesens=prop.is(Prop.CASESENS);
data.meta.diacritics=prop.is(Prop.DIACRITICS);
data.meta.scoring=prop.num(Prop.SCORING);
index=IndexType.FULLTEXT;
break;
case PATH:
index=IndexType.PATH;
break;
default :
return false;
}
index(index,data);
data.flush();
return info(INDCREATED,index,perf);
}
 catch (final IOException ex) {
Util.debug(ex);
return error(ex.getMessage());
}
}
