{
  final Data data=context.data();
  if (data instanceof MemData)   return error(PROCMM);
  try {
    IndexType index=null;
    final CmdIndex ci=getOption(CmdIndex.class);
    if (ci == null)     return error(CMDUNKNOWN,this);
switch (ci) {
case TEXT:
      data.meta.createtext=true;
    index=IndexType.TEXT;
  break;
case ATTRIBUTE:
data.meta.createattr=true;
index=IndexType.ATTRIBUTE;
break;
case FULLTEXT:
data.meta.createftxt=true;
data.meta.wildcards=prop.is(Prop.WILDCARDS);
data.meta.stemming=prop.is(Prop.STEMMING);
data.meta.casesens=prop.is(Prop.CASESENS);
data.meta.diacritics=prop.is(Prop.DIACRITICS);
data.meta.scoring=prop.num(Prop.SCORING);
data.meta.language=Language.get(prop);
index=IndexType.FULLTEXT;
break;
case PATH:
data.meta.createpath=true;
index=IndexType.PATH;
break;
default :
throw Util.notexpected();
}
create(index,data,this);
data.flush();
return info(INDCREATED,index,perf);
}
 catch (final IOException ex) {
Util.debug(ex);
return error(ex.getMessage());
}
}
