{
  final Atts ns=new Atts();
  Nod n=this;
  do {
    final Atts nns=n.ns();
    if (!nsInherit)     return nns;
    if (nns != null) {
      for (int a=nns.size - 1; a >= 0; a--) {
        final byte[] key=nns.key[a];
        if (!ns.contains(key))         ns.add(key,nns.val[a]);
      }
    }
    n=n.parent();
  }
 while (n != null && n.type == Type.ELM);
  return ns;
}
