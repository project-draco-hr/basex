{
  final XQuery query=new XQuery("\n" + "<doc>{\n" + "for tumbling window $w in ./doc/*\n"+ "  start $x when $x[self::dt]\n"+ "  end $y next $z when $y[self::dd] and $z[self::dt]\n"+ "return\n"+ "  <term>{\n"+ "    $w\n"+ "  }</term>\n"+ "}</doc>\n"+ "      ",ctx);
  try {
    query.context(node(file("prod/WindowClause/term_def_list.xml")));
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertSerialization("<doc><term><dt>XML</dt><dd>Extensible Markup Language</dd></term><term><dt>XSLT</dt><dt>XSL Transformations</dt><dd>A language for transforming XML</dd><dd>A specification produced by W3C</dd></term></doc>",false));
}
