{
  final XQuery query=new XQuery("\n" + "<chapter>{\n" + "  for tumbling window $w in ./body/*\n"+ "    start previous $s when $s[self::h2]\n"+ "    end next $e when $e[self::h2]\n"+ "  return\n"+ "    <section title=\"{data($s)}\">{\n"+ "       for $x in $w\n"+ "       return\n"+ "         <para>{data($x)}</para>\n"+ "  }</section>\n"+ "}</chapter>\n"+ "      ",ctx);
  try {
    query.context(node(file("prod/WindowClause/head_para.xml")));
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertSerialization("<chapter><section title=\"heading1\"><para>para1</para><para>para2</para></section><section title=\"heading2\"><para>para3</para><para>para4</para><para>para5</para></section></chapter>",false));
}
