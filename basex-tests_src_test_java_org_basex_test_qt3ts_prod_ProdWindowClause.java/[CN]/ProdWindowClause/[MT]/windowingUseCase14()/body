{
  final XQuery query=new XQuery("\n" + "<result>{\n" + "  for tumbling window $w in ./rss/channel/item\n"+ "    start  $first when fn:true()\n"+ "    end next $lookAhead when $first/author ne $lookAhead/author\n"+ "  where count($w) ge 3\n"+ "  return <annoying-author>{\n"+ "      $w[1]/author\n"+ "    }</annoying-author>\n"+ "}</result>\n"+ "      ",ctx);
  try {
    query.context(node(file("prod/WindowClause/rss.xml")));
    result=new QT3Result(query.value());
  }
 catch (  final Throwable trw) {
    result=new QT3Result(trw);
  }
 finally {
    query.close();
  }
  test(assertSerialization("<result><annoying-author><author>rokas@e-mail.de</author></annoying-author></result>",false));
}
