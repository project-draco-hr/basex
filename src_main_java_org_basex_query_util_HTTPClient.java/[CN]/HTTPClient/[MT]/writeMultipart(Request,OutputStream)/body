{
  final byte[] boundary=r.payloadAttrs.get(BOUNDARY);
  final Iterator<Part> i=r.parts.iterator();
  while (i.hasNext())   writePart(i.next(),out,boundary);
  out.write(new TokenBuilder().add("--").add(boundary).add("--").add(CRLF).finish());
}
