{
  TokenBuilder boundTb=new TokenBuilder();
  boundTb.add("--").add(boundary).add(CRLF);
  out.write(boundTb.finish());
  for (  final byte[] headerName : part.headers.keys()) {
    TokenBuilder hdrTb=new TokenBuilder();
    hdrTb.add(headerName).add(": ".getBytes()).add(part.headers.get(headerName)).add(CRLF);
    out.write(hdrTb.finish());
  }
  out.write(CRLF);
  writePayload(part.bodyContent,part.bodyAttrs,out,ii);
  out.write(CRLF);
}
