{
  if (ping(LOCALHOST,port))   return SERVERBIND;
  final String path=Util.applicationPath();
  final String mem="-Xmx" + Runtime.getRuntime().maxMemory();
  final String clz=BaseXServer.class.getName();
  try {
    new ProcessBuilder(new String[]{"java",mem,"-cp",path,clz,"-p",String.valueOf(port)}).start();
    for (int c=0; c < 5; ++c) {
      if (ping(LOCALHOST,port))       return SERVERSTART;
      Performance.sleep(100);
    }
  }
 catch (  final IOException ex) {
    Util.notexpected(ex);
  }
  return SERVERERROR;
}
