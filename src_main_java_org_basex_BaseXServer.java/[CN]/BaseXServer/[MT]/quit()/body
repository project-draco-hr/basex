{
  if (!running)   return;
  running=false;
  for (  final ClientListener cs : context.sessions)   cs.quit();
  super.quit();
  context.close();
  try {
    if (console)     System.in.close();
    esocket.close();
    socket.close();
  }
 catch (  final IOException ex) {
    log.write(ex.getMessage());
    Util.stack(ex);
  }
  console=false;
}
