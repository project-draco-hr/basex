{
  Collection col=null;
  try {
    Class<?> c=Class.forName(driver);
    Database database=(Database)c.newInstance();
    DatabaseManager.registerDatabase(database);
    col=DatabaseManager.getCollection(url);
    XPathQueryService service=(XPathQueryService)col.getService("XPathQueryService","1.0");
    ResourceSet resultSet=service.query(query);
    ResourceIterator results=resultSet.getIterator();
    while (results.hasMoreResources()) {
      Resource res=results.nextResource();
      System.out.println(res.getContent());
    }
    String id="input";
    XMLResource resource=(XMLResource)col.getResource(id);
    String doc=(String)resource.getContent();
    System.out.println(doc);
    XMLResource resource2=(XMLResource)col.getResource(id);
    Document doc2=(Document)resource2.getContentAsDOM();
    System.out.println(doc2);
  }
 catch (  XMLDBException e) {
    System.err.println("XML:DB Exception occured " + e.errorCode);
    e.printStackTrace();
  }
 finally {
    if (col != null) {
      col.close();
    }
  }
}
