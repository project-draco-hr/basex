{
  Collection col=null;
  try {
    Class<?> c=Class.forName(driver);
    Database database=(Database)c.newInstance();
    DatabaseManager.registerDatabase(database);
    col=DatabaseManager.getCollection(url);
    XPathQueryService service=(XPathQueryService)col.getService("XPathQueryService","1.0");
    ResourceSet resultSet=service.query(query);
    ResourceIterator results=resultSet.getIterator();
    while (results.hasMoreResources()) {
      Resource res=results.nextResource();
      System.out.println(res.getContent());
    }
    String id="input";
    XMLResource resource=(XMLResource)col.getResource(id);
    String cont=(String)resource.getContent();
    System.out.println("------XML Document Retrieval------");
    System.out.println(cont);
    System.out.println("------XML Document Retrieval END------");
    Document doc=(Document)resource.getContentAsDOM();
    System.out.println("------DOC Document Retrieval------");
    TransformerFactory.newInstance().newTransformer().transform(new DOMSource(doc),new StreamResult(System.out));
    System.out.println("------DOC Document Retrieval END------");
    SAXSerializer sax=new SAXSerializer(null);
    ContentHandler handler=sax.getContentHandler();
    resource.getContentAsSAX(handler);
  }
 catch (  XMLDBException e) {
    System.err.println("XML:DB Exception occured " + e.errorCode);
    e.printStackTrace();
  }
 finally {
    if (col != null) {
      col.close();
    }
  }
}
