{
  opened();
  final QueryContext ctx=query.ctx;
  ctx.ns=sc.ctx.ns;
  try {
    if (sc.timeout != 0) {
      new Thread(){
        @Override public void run(){
          Performance.sleep(sc.timeout * 1000);
          ctx.stop();
        }
      }
.start();
    }
    query.parse();
    ctx.compile();
    Iter iter=ctx.iter();
    if (sc.scrollable)     iter=SeqIter.get(iter);
    return new BXQSequence(iter,ctx,this,(BXQConnection)par);
  }
 catch (  final QueryException ex) {
    throw new XQQueryException(ex.getMessage(),new QName(ex.code()),ex.line(),ex.col(),-1);
  }
catch (  final ProgressException ex) {
    throw new BXQException(TIMEOUT);
  }
}
