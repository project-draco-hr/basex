{
  String msg=ex.getMessage();
  if (msg.contains("Exception:")) {
    Throwable e=ex;
    while (e.getCause() != null)     e=e.getCause();
    if (e instanceof SAXException)     msg=e.getLocalizedMessage();
  }
 else {
    final TokenBuilder report=new TokenBuilder();
    final String id=ex.getSystemId();
    if (id != null)     report.add(IO.get(id).name()).add(", ");
    report.addExt(ex.getLineNumber()).add(Text.COL).addExt(ex.getColumnNumber());
    report.add(": ").add(msg);
    msg=report.toString();
  }
  exceptions.add(type + Text.COL + msg);
}
