{
  int p=pre;
  while (p < size) {
    int k=kind(p);
    if (k == DOC)     break;
    dist(p,k,dist(p,k) + s);
    p+=size(p,kind(p));
  }
}
