{
  int p=par;
  while (p >= 0) {
    int k=kind(p);
    size(p,k,size(p,k) + s);
    p=parent(p,k);
  }
  p=pre + s;
  while (p < size) {
    int k=kind(p);
    if (k == DOC)     break;
    dist(p,k,dist(p,k) + s);
    p+=size(p,kind(p));
  }
}
