{
  super.comp(ctx);
  final Type t=expr[expr.length - 1].type().type;
  if (t instanceof FunType) {
    final FunType ft=(FunType)t;
    if (ft.ret != null)     type=ft.ret;
  }
  if (values() && expr[expr.length - 1] instanceof Map)   return optPre(value(ctx),ctx);
  return this;
}
