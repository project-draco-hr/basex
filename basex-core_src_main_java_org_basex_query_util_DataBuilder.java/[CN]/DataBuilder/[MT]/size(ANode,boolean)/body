{
  if (node instanceof DBNode) {
    final DBNode dbnode=(DBNode)node;
    final Data data=dbnode.data();
    final int kind=node.kind();
    final int pre=dbnode.pre();
    return att ? data.attSize(pre,kind) : data.size(pre,kind);
  }
  int size=1;
  BasicNodeIter iter=node.attributes();
  while (iter.next() != null)   ++size;
  if (!att) {
    iter=node.children();
    for (ANode i; (i=iter.next()) != null; )     size+=size(i,false);
  }
  return size;
}
