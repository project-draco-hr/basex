{
  if (node.type != type)   return false;
  if (kind == Kind.ALL)   return true;
  if (kind == Kind.NAME)   return eq(ln,ln(node.nname()));
  if (kind == Kind.NS)   return name.uri().eq(node.qname(tmpq).uri());
  if (type == Type.ATT && !name.ns())   return eq(ln,node.nname());
  return name.eq(node.qname(tmpq));
}
