{
  final Data data=ctx.data();
  if (data == null)   return true;
  final byte[] ns=data.nspaces.globalNS();
  if (ns == null)   return true;
  boolean ok=true;
  if (mode == Mode.STD && !name.hasPrefix()) {
    final byte[] nse=ctx.sc.nsElem != null ? ctx.sc.nsElem : Token.EMPTY;
    ok=type == NodeType.ATT || Token.eq(ns,nse);
    if (ok)     mode=Mode.NAME;
  }
  ok=ok && (mode != Mode.NAME || (type == NodeType.ELM ? data.tagindex : data.atnindex).contains(ln));
  if (!ok)   ctx.compInfo(OPTNAME,name);
  return ok;
}
