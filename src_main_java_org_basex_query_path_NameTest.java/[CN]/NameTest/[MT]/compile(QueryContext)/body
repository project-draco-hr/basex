{
  final Data data=ctx.data();
  if (data == null)   return true;
  final byte[] dataNS=data.nspaces.globalNS();
  if (dataNS == null)   return true;
  boolean results=true;
  if (mode == Mode.STD && !name.hasURI()) {
    final byte[] elemNS=ctx.sc.nsElem != null ? ctx.sc.nsElem : Token.EMPTY;
    if (type == NodeType.ATT || Token.eq(dataNS,elemNS)) {
      mode=Mode.LN;
    }
 else {
      results=false;
    }
  }
  if (results)   results=mode != Mode.LN || (type == NodeType.ELM ? data.tagindex : data.atnindex).contains(ln);
  if (!results)   ctx.compInfo(OPTNAME,name);
  return results;
}
