{
  final AtomicUpdateList l=atomics("<a><b/></a>");
  l.addRename(2,Data.ELEM,Token.token("foo"),Token.EMPTY);
  l.addRename(2,Data.ELEM,Token.token("foo2"),Token.EMPTY);
  thrown.expect(RuntimeException.class);
  thrown.expectMessage("Multiple renames on node");
  optimize(l,-1);
  l.clear();
  l.addUpdateValue(2,Data.ELEM,Token.token("foo"));
  l.addUpdateValue(2,Data.ELEM,Token.token("foo"));
  thrown.expect(RuntimeException.class);
  thrown.expectMessage("Multiple updates on node");
  optimize(l,-1);
}
