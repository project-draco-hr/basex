{
  super(null);
  back=new BaseXBack(FILL.NONE);
  back.setLayout(new BorderLayout());
  header=new BaseXLabel(GUIConstants.XPATHVIEW,10);
  back.add(header,BorderLayout.NORTH);
  box=new JComboBox();
  box.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      if (e.getModifiers() == 16)       completeInput();
    }
  }
);
  pop=new ComboPopup(box);
  input=new BaseXTextField(null);
  input.setToolTipText(HELPXPATHV);
  input.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    final KeyEvent e){
      final int count=box.getItemCount();
      if (count == 0)       return;
      int p=box.getSelectedIndex();
      final int c=e.getKeyCode();
      if (c == KeyEvent.VK_DOWN) {
        if (++p == count)         p=0;
        box.setSelectedIndex(p);
      }
 else       if (c == KeyEvent.VK_UP) {
        if (--p < 0)         p=count - 1;
        box.setSelectedIndex(p);
      }
 else       if (c == KeyEvent.VK_ENTER) {
        if (box.getSelectedItem() != null)         completeInput();
      }
    }
    @Override public void keyReleased(    final KeyEvent e){
      final int c=e.getKeyCode();
      if (c == KeyEvent.VK_DOWN || c == KeyEvent.VK_UP)       return;
      if (c == KeyEvent.VK_ESCAPE) {
        pop.setVisible(false);
        return;
      }
      final boolean enter=c == KeyEvent.VK_ENTER;
      if (!enter)       showPopup();
      if (GUIProp.execrt || enter) {
        GUI.get().execute(Commands.XPATH,input.getText());
      }
    }
  }
);
  setBorder(10,10,10,10);
  setLayout(new BorderLayout(0,4));
  back.add(input,BorderLayout.CENTER);
  add(back,BorderLayout.NORTH);
  refreshLayout();
}
