{
  if (!find(ex.err(),ex.qname()))   return null;
  final int s=prepare(ctx);
  try {
    int i=0;
    final byte[] io=ex.file() == null ? EMPTY : token(ex.file().path());
    final Value val=ex.value();
    for (    final Value v : new Value[]{ex.qname(),Str.get(ex.getLocalizedMessage()),val == null ? Empty.SEQ : val,Str.get(io),Int.get(ex.col()),Int.get(ex.line()),Empty.SEQ}) {
      vars[i++].bind(v,ctx);
    }
    return ctx.value(expr);
  }
  finally {
    ctx.vars.size(s);
  }
}
