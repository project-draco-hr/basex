{
  if (!pos.valid())   return false;
  if (pos.dunit != null) {
    final long mn=checkItr(ctx.iter(dist[0]));
    final long mx=checkItr(ctx.iter(dist[1]));
    if (!pos.distance(mn,mx))     return false;
  }
  if (pos.wunit != null) {
    final long c=checkItr(ctx.iter(window));
    if (!pos.window(c))     return false;
  }
  return true;
}
