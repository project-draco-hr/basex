{
  if (data.nspaces.size() == 0 && clip.data.nspaces.size() == 0) {
    if (lazyReplace(data))     return;
    data.replace(location,clip);
  }
 else {
    final int targetKind=data.kind(location);
    final int targetParent=data.parent(location,targetKind);
    data.delete(location);
    if (targetKind == Data.ATTR) {
      data.insertAttr(location,targetParent,clip);
    }
 else {
      data.insert(location,targetParent,clip);
    }
  }
}
