{
switch (data.kind(p)) {
case Data.ELEM:
    return data.name(p,true);
case Data.DOC:
  return data.text(p,true);
case Data.TEXT:
return s ? TEXT : data.text(p,true);
case Data.COMM:
return s ? COMM : data.text(p,true);
case Data.PI:
return s ? PI : data.text(p,true);
}
final TokenBuilder tb=new TokenBuilder();
tb.add(ATT);
tb.add(data.name(p,false));
if (!s) {
tb.add(ATT1);
tb.add(data.text(p,false));
tb.add(ATT2);
}
return tb.finish();
}
