{
  Session s=null;
  try {
    s=session.login();
    if (target instanceof BXAllDatabasesResource)     copyToRoot(s,name);
 else     if (target instanceof BXFolder)     copyTo(s,(BXFolder)target,name);
  }
 catch (  final Exception ex) {
    handle(ex);
    throw new BadRequestException(this,ex.getMessage());
  }
 finally {
    try {
      if (s != null)       s.close();
    }
 catch (    final IOException e) {
      handle(e);
    }
  }
}
