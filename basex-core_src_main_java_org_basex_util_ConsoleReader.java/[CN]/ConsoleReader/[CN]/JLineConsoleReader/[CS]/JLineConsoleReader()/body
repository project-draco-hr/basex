{
  final Class<?> readerC=Reflect.find(JLINE_CONSOLE_READER);
  readLine=Reflect.method(readerC,"readLine",String.class);
  readEcho=Reflect.method(readerC,"readLine",String.class,Character.class);
  reader=readerC.newInstance();
  final Class<?> history=Reflect.find(JLINE_HISTORY);
  final Class<?> fileHistory=Reflect.find(JLINE_FILE_HISTORY);
  final File file=new File(Prop.HOME,HISTORY_FILE);
  Reflect.invoke(Reflect.method(readerC,"setHistoryEnabled",boolean.class),reader,true);
  Reflect.invoke(Reflect.method(readerC,"setBellEnabled",boolean.class),reader,false);
  Reflect.invoke(Reflect.method(readerC,"setHistory",history),reader,Reflect.get(Reflect.find(fileHistory,File.class),file));
}
