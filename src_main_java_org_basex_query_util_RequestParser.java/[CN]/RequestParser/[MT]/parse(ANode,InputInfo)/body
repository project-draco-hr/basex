{
  final Request r=new Request();
  parseAttrs(request,r.attrs);
  checkRequest(r,ii);
  final ANode payload=parseHdrs(request.children(),r.headers);
  if (payload != null) {
    if (eq(payload.nname(),BODY)) {
      parseBody(payload,r.payloadAttrs,r.bodyContent,ii);
      r.isMultipart=false;
    }
 else     if (eq(payload.nname(),MULTIPART)) {
      parseMultipart(payload,r.payloadAttrs,r.parts,ii);
      r.isMultipart=true;
    }
 else     ELMINV.thrw(ii);
  }
  return r;
}
