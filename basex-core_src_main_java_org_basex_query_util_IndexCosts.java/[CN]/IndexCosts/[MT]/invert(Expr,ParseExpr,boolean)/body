{
  if (expr instanceof Context) {
    if (text || step.test.name == null)     return root;
    final Step as=Step.get(step.info,Axis.SELF,step.test);
    return Path.get(root.info,root,as);
  }
  final AxisPath orig=(AxisPath)expr;
  final Path path=orig.invertPath(root,step);
  if (!text) {
    final Step attr=orig.step(orig.steps.length - 1);
    if (attr.test.name != null) {
      final ExprList steps=new ExprList(path.steps.length + 1);
      steps.add(Step.get(attr.info,Axis.SELF,attr.test)).add(path.steps);
      return Path.get(path.info,path.root,steps.finish());
    }
  }
  return path;
}
