{
  final long size=elem.size();
  if (pos < 0 || pos >= size)   throw new IndexOutOfBoundsException(pos + ", size = " + size);
  return new SingletonTree<>(elem.set(pos,val));
}
