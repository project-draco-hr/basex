{
  super(main,"Server...");
  final BaseXTabs tabs=new BaseXTabs(this);
  tabs.setPreferredSize(new Dimension(600,300));
  p1.setLayout(new TableLayout(3,1));
  p2.setLayout(new TableLayout(3,1));
  p2.setBorder(8,8,8,8);
  tabs.add("Server...",p1);
  tabs.add("Users...",p2);
  final BaseXBack p11=new BaseXBack();
  p11.setLayout(new TableLayout(1,3));
  final BaseXButton start=new BaseXButton("Start server...",null,this);
  final BaseXButton stop=new BaseXButton("Stop server",null,this);
  final BaseXTextField host=new BaseXTextField(ctx.prop.get(Prop.HOST),null,this);
  final BaseXTextField port=new BaseXTextField(String.valueOf(ctx.prop.num(Prop.PORT)),null,this);
  final BaseXButton change=new BaseXButton("Change",null,this);
  try {
    cs=new ClientSession(ctx,ADMIN,ADMIN);
    start.setEnabled(false);
    host.setEnabled(false);
    port.setEnabled(false);
    change.setEnabled(false);
    fillLists();
    fillUserTab();
  }
 catch (  final IOException e1) {
    stop.setEnabled(false);
    tabs.setEnabledAt(1,false);
  }
  start.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      stop.setEnabled(true);
      start.setEnabled(false);
      start.setEnabled(false);
      host.setEnabled(false);
      port.setEnabled(false);
      change.setEnabled(false);
      tabs.setEnabledAt(1,true);
      startServer();
      fillLists();
      fillUserTab();
    }
  }
);
  stop.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      stop.setEnabled(false);
      start.setEnabled(true);
      host.setEnabled(true);
      port.setEnabled(true);
      change.setEnabled(true);
      tabs.setEnabledAt(1,false);
      try {
        cs.execute(new IntStop(),null);
      }
 catch (      final IOException e1) {
        e1.printStackTrace();
      }
    }
  }
);
  p11.add(start);
  p11.add(new BaseXLabel("        "));
  p11.add(stop);
  final BaseXBack p12=new BaseXBack();
  p12.setLayout(new TableLayout(3,2));
  p12.add(new BaseXLabel("Port:"));
  p12.add(port);
  p12.add(new BaseXLabel("Host:"));
  p12.add(host);
  p12.add(new BaseXLabel("        "));
  change.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      ctx.prop.set(Prop.HOST,host.getText());
      int p=ctx.prop.num(Prop.PORT);
      try {
        p=Integer.parseInt(port.getText());
        ctx.prop.set(Prop.PORT,p);
      }
 catch (      final NumberFormatException n) {
        port.setText(String.valueOf(p));
      }
    }
  }
);
  p12.add(change);
  p12.setBorder(8,8,8,8);
  p11.setBorder(8,8,8,8);
  p1.add(p11);
  p1.add(p12);
  set(tabs,BorderLayout.CENTER);
  finish(null);
}
