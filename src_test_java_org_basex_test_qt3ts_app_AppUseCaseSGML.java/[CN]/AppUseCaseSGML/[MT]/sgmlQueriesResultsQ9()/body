{
  final XQuery query=new XQuery("<result> { for $id in //xref/@xrefid return //topic[@topicid = $id] } </result>",ctx);
  query.context(node(file("docs/sgml.xml")));
  final QT3Result res=result(query);
  result=res;
  test(assertSerialization("<result><topic topicid=\"top4\">\n <title>Structure</title>\n <para>At the heart of an SGML application is a file called the DTD, or\n Document Type Definition. The DTD sets up the structure of a document,\n much like a database schema describes the types of information it\n handles.</para>\n <para>A database schema also defines the relationships between the\n various types of data. Similarly, a DTD specifies <emph>rules</emph>\n to help ensure documents have a consistent, logical structure.</para></topic></result>",false));
}
