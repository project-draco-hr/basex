{
  final long l=length();
  if (l > -1) {
    final DataInputStream dis=new DataInputStream(is == null ? new FileInputStream(file) : is);
    final byte[] cont=new byte[(int)l];
    try {
      dis.readFully(cont);
    }
  finally {
      if (is == null)       dis.close();
    }
    return cont;
  }
  final BufferedInputStream bis=new BufferedInputStream(is);
  final ByteList bl=new ByteList();
  for (int b; (b=bis.read()) != -1; )   bl.add(b);
  return bl.toArray();
}
