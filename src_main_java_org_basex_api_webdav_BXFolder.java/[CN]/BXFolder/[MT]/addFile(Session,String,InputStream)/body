{
  final BufferInput bi=new BufferInput(in,1 << 22);
  try {
    addXML(s,n,bi);
  }
 catch (  final IOException ex) {
    if (!bi.markSupported())     throw ex;
    bi.reset();
    addRaw(s,n,bi);
  }
 finally {
    bi.close();
  }
}
