{
  meta=new MetaData(pr);
  table=new TableMemAccess(meta);
  if (meta.updindex) {
    idmap=new IdPreMap(meta.lastid);
    txtindex=new UpdatableMemValues(this);
    atvindex=new UpdatableMemValues(this);
  }
 else {
    txtindex=new MemValues(this);
    atvindex=new MemValues(this);
  }
  tagindex=tag;
  atnindex=att;
  ns=n;
  pthindex=s == null ? new PathSummary(this) : s;
}
