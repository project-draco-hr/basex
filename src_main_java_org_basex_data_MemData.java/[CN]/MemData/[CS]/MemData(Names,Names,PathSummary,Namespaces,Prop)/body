{
  meta=new MetaData(pr);
  table=new TableMemAccess(meta);
  if (meta.updindex) {
    idmap=new IdPreMap(meta.lastid);
    txtindex=new UpdatableMemValues(this);
    atvindex=new UpdatableMemValues(this);
  }
 else {
    txtindex=new MemValues(this);
    atvindex=new MemValues(this);
  }
  tagindex=tag == null ? new Names(meta) : tag;
  atnindex=att == null ? new Names(meta) : att;
  paths=ps == null ? new PathSummary(this) : ps;
  nspaces=ns == null ? new Namespaces() : ns;
}
