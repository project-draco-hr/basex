{
  final Data d=ctx.data();
  if (d == null && data)   return error(NO_DB_OPENED);
  if (!ctx.perm(perm,d != null ? d.meta : null))   return error(PERM_NEEDED_X,perm);
  final String pin=pinned(ctx);
  if (pin != null)   return error(DB_PINNED_X,pin);
  updating=updating(ctx);
  try {
    ctx.register(this);
    return run(ctx,os);
  }
  finally {
    ctx.unregister(this);
  }
}
