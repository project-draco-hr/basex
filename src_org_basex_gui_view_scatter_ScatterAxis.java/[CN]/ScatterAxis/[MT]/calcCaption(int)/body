{
  if (type == Kind.DBL || type == Kind.INT) {
    final double range=max - min;
    if (range == 0) {
      nrCaptions=3;
      captionStep=0;
      return;
    }
    captionStep=calculatedCaptionStep;
    nrCaptions=(int)(range / captionStep) + 1;
    if (nrCaptions * ScatterView.itemSize(false) * 2 > space) {
      captionStep*=2;
      nrCaptions=(int)(range / captionStep) + 1;
    }
  }
 else   if (type == Kind.CAT) {
    nrCaptions=nrCats;
  }
 else {
    if (nrCats > 20) {
      final int c=space / (3 * ScatterView.CAPTIONWHITESPACE);
      nrCaptions=c >= 2 ? c : 2;
    }
 else {
      nrCaptions=nrCats;
    }
  }
}
