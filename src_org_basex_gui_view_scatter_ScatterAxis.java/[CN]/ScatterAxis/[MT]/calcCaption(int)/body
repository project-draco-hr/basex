{
  if (numeric) {
    if (numType == TYPEINT) {
      final int minI=(int)min;
      final int maxI=(int)max;
      int tmpStep=1;
      do {
        captionStep=tmpStep;
        int tmpMin=minI - minI % tmpStep;
        int tmpMax=maxI + maxI % tmpStep;
        nrCaptions=(tmpMax - tmpMin) / tmpStep + 1;
        if (String.valueOf(tmpStep).startsWith("1"))         tmpStep*=tmpStep == 1 ? 5 : 2.5;
 else         tmpStep*=2;
      }
 while (nrCaptions * ScatterView.CAPTIONWHITESPACE > space);
      final int l=(int)(min + captionStep);
      firstCap=minI + 1;
      while (firstCap <= l) {
        if (firstCap % captionStep == 0)         return;
        firstCap++;
      }
    }
 else     if (numType == TYPEDBL) {
      final double minD=min;
      final double maxD=max;
      double tmpStep=.01d;
      if (maxD - minD > 500)       tmpStep=1;
      do {
        captionStep=tmpStep;
        nrCaptions=(int)((maxD - minD) / tmpStep) + 1;
        if (String.valueOf(tmpStep).indexOf("1") > -1) {
          tmpStep*=2.5;
        }
 else {
          tmpStep*=2;
        }
      }
 while (nrCaptions * ScatterView.CAPTIONWHITESPACE > space && maxD - minD > tmpStep);
      final double l=min + captionStep;
      final double c=Math.ceil(captionStep);
      firstCap=minD + .01d;
      while (firstCap <= l) {
        if (firstCap % c == 0) {
          return;
        }
        firstCap++;
      }
    }
  }
 else {
    nrCaptions=nrCats;
  }
}
