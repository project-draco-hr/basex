{
  final double d=Token.toDouble(value);
  double percentage=0d;
  if (numeric) {
    final double range=max - min;
    if (range == 0) {
      percentage=0.5d;
    }
 else {
      percentage=1 / range * (d - min);
    }
  }
 else {
    for (int i=0; i < nrCats; i++) {
      if (Token.eq(value,cats[i])) {
        percentage=(1.0d / (nrCats + 1)) * (i + 1);
      }
    }
  }
  return percentage;
}
