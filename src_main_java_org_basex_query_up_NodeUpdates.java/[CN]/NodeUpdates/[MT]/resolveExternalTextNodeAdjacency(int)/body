{
  if (!adjEXT)   return;
  int c=preShifts;
  for (int i=prim.length - 1; i >= 0; i--) {
    if (prim[i] instanceof StructuralUpdate) {
      final StructuralUpdate p=(StructuralUpdate)prim[i];
      if (p.type == INSERTAFTER || p.type == INSERTBEFORE || p.type == DELETENODE || p.type == REPLACENODE) {
        if (p.checkTextAdjacency(c))         c--;
      }
      c+=p.preShifts();
    }
  }
}
