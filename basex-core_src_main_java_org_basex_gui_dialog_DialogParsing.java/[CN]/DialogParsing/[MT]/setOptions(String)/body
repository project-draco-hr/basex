{
  final BaseXCombo cb=type.equals(DataText.M_TEXT) ? tencoding : type.equals(DataText.M_JSON) ? jencoding : cencoding;
  props.set(ParserProp.ENCODING,cb.getSelectedItem().toString());
  props.set(ParserProp.FORMAT,format.getSelectedItem().toString());
  props.set(ParserProp.HEADER,header.isSelected());
  props.set(ParserProp.LINES,lines.isSelected());
  props.set(ParserProp.JSONML,jsonml.isSelected());
  props.set(ParserProp.SEPARATOR,sepcombo.getSelectedIndex() < CSVParser.SEPARATORS.length ? sepcombo.getSelectedItem().toString() : String.valueOf((int)sepchar.getText().charAt(0)));
  gui.set(Prop.PARSER,type);
  gui.set(Prop.PARSEROPT,props.toString());
  gui.set(Prop.CHOP,chopWS.isSelected());
  gui.set(Prop.STRIPNS,stripNS.isSelected());
  gui.set(Prop.DTD,dtd.isSelected());
  gui.set(Prop.INTPARSE,intparse.isSelected());
  gui.set(Prop.CATFILE,usecat.isSelected() ? cfile.getText() : "");
  gui.set(Prop.HTMLOPT,params.getText());
}
