{
  final IOFile io=new IOFile(TEMP);
  write(io,"<x");
  set(MainOptions.SKIPCORRUPT,true);
  assertEquals(0,context.data().resources.docs("").size());
  execute(new Add("x","<x"));
  execute(new Add("x",CORRUPT));
  assertEquals(0,context.data().resources.docs("").size());
  set(MainOptions.SKIPCORRUPT,false);
  try {
    new Add("","<x").execute(context);
    fail("Broken file was added to the database.");
  }
 catch (  final BaseXException ignored) {
  }
}
