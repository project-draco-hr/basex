{
  if (pos < 0 || pos >= elems.length)   throw new IndexOutOfBoundsException(Long.toString(pos));
  final Value[] values=elems.clone();
  values[(int)pos]=val;
  return new SmallArray(values);
}
