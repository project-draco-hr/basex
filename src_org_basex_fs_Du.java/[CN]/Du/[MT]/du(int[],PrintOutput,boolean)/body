{
  long size=0;
  for (  final int p : nodes) {
    final boolean f=fs.isFile(p);
    final long s=f ? toLong(fs.size(p)) : du(fs.children(p),out,false);
    if (top || f && fPrintAll || !f && !fSum) {
      out.print(token(fHuman ? format(s) : Long.toString(s)),8);
      out.println(fs.path(p,curPre,false));
    }
    size+=s;
  }
  return size;
}
