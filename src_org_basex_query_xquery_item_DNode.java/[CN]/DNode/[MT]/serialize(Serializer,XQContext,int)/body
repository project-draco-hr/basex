{
switch (type) {
case ATT:
    ser.attribute(data.attName(pre),data.attValue(pre));
  break;
case COM:
ser.comment(str());
break;
case DOC:
serElem(ser,1,level);
break;
case ELM:
serElem(ser,pre,level);
break;
case PI:
ser.pi(str());
break;
case TXT:
ser.text(str());
break;
default :
throw new RuntimeException("Unknown node type: " + type);
}
}
