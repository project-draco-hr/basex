{
  final NodeType nt=(NodeType)type;
  final TokenBuilder tb=new TokenBuilder(nt.nam).add(' ');
switch (nt) {
case ATT:
case PI:
    tb.add(nname()).add(" { \"").add(chop(atom(),64)).add("\" }");
  break;
case ELM:
tb.add(nname()).add(" { ... }");
break;
case DOC:
tb.add("{ \"").add(data.text(pre,true)).add("\" }");
break;
default :
tb.add("{ \"").add(chop(atom(),64)).add("\" }");
break;
}
return tb.toString();
}
