{
  final byte[] nm=nname();
  Uri uri=Uri.EMPTY;
  name.name(nm);
  final boolean ns=name.ns();
  if (ns || data.ns.size() != 0) {
    final int n=ns ? data.ns.uri(nm,pre) : data.uri(pre,data.kind(pre));
    final byte[] u=n > 0 ? data.ns.uri(n) : ns ? NSGlobal.uri(Token.pref(nm)) : Token.EMPTY;
    if (u.length != 0)     uri=new Uri(u);
  }
  name.uri(uri);
  return name;
}
