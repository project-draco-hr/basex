{
  final VarScope v=scope.copy(qc,vs);
  final HashMap<Var,Expr> nl=new HashMap<>();
  for (  final Entry<Var,Expr> e : nonLocal.entrySet()) {
    final Var var=vs.get(e.getKey().id);
    final Expr ex=e.getValue().copy(qc,scp,vs);
    nl.put(var,ex);
  }
  final Var[] vars=args.clone();
  final int al=vars.length;
  for (int a=0; a < al; a++)   vars[a]=vs.get(vars[a].id);
  final Expr e=expr.copy(qc,v,vs);
  e.markTailCalls(null);
  return copyType(new Closure(info,name,ret,vars,e,anns,nl,sc,v));
}
