{
  valid(res,Result.class);
  if (it != null && !next)   throw new BXQException(TWICE);
  if (res instanceof StreamResult) {
    writeSequence(((StreamResult)res).getWriter(),null);
  }
 else   if (res instanceof SAXResult) {
    final SAXSerializer ser=new SAXSerializer(null);
    final SAXResult sax=(SAXResult)res;
    ser.setContentHandler(sax.getHandler());
    ser.setLexicalHandler(sax.getLexicalHandler());
    while (next())     serialize(item().it,qctx,ser);
  }
 else {
    BaseX.notimplemented();
  }
}
