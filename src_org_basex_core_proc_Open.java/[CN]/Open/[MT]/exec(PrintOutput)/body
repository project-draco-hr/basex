{
  new Close().execute(context,out);
  final String db=args[0];
  Data data=context.data();
  try {
    if (data == null || !data.meta.name.equals(db)) {
      data=open(context,db);
      User user=context.user;
      final User us=data.meta.users.get(user.name);
      if (us != null)       user=us;
      if (!user.perm(User.READ)) {
        Close.close(context,data);
        return error(PERMNO,CmdPerm.READ);
      }
      context.openDB(data);
      if (data.meta.oldindex)       info(INDUPDATE);
    }
    return info(DBOPENED,db,perf.getTimer());
  }
 catch (  final IOException ex) {
    Main.debug(ex);
    final String msg=ex.getMessage();
    return msg.length() != 0 ? error(msg) : error(DBOPENERR,db);
  }
}
